/*! For license information please see main.6b19d5d2.js.LICENSE.txt */
(()=>{var e={935:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});n(791),n(171);var r=n(184);const i=e=>{let{QRAmount:t}=e;const i="./QRCodes/qr".concat(t,".jpg");return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{className:"qr-section",children:[(0,r.jsx)("div",{className:"qr-image-container",children:(0,r.jsx)("img",{src:n(973)("".concat(i)),alt:t,className:"qr-center-square"})}),(0,r.jsxs)("p",{className:"qr-amount",children:["Amount: ",t," Rs"]})]})})}},463:(e,t,n)=>{"use strict";var r=n(791),i=n(296);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,o={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(o[e]=t,e=0;e<t.length;e++)a.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,n,r,i,s,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=a}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function w(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!h.call(p,e)||!h.call(f,e)&&(d.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_=Symbol.for("react.element"),I=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),x=Symbol.for("react.provider"),T=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),C=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),R=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var P=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var O=Symbol.iterator;function j(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=O&&e[O]||e["@@iterator"])?e:null}var L,M=Object.assign;function F(e){if(void 0===L)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var U=!1;function V(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),s=r.stack.split("\n"),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(1!==a||1!==o)do{if(a--,0>--o||i[a]!==s[o]){var l="\n"+i[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=a&&0<=o);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function B(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function z(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case E:return"Fragment";case I:return"Portal";case S:return"Profiler";case k:return"StrictMode";case A:return"Suspense";case C:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case x:return(e._context.displayName||"Context")+".Provider";case N:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case D:return null!==(t=e.displayName||null)?t:z(e.type)||"Memo";case R:t=e._payload,e=e._init;try{return z(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z(t);case 8:return t===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function G(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function K(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function H(e){e._valueTracker||(e._valueTracker=function(e){var t=K(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Q(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=K(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function W(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return M({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function J(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=G(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&w(e,"checked",t,!1)}function Z(e,t){X(e,t);var n=G(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,G(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function $(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&W(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+G(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return M({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(te(n)){if(1<n.length)throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:G(n)}}function se(e,t){var n=G(t.value),r=G(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?oe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,he=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ve=M({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function we(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function _e(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ie=null,Ee=null,ke=null;function Se(e){if(e=wi(e)){if("function"!==typeof Ie)throw Error(s(280));var t=e.stateNode;t&&(t=_i(t),Ie(e.stateNode,e.type,t))}}function xe(e){Ee?ke?ke.push(e):ke=[e]:Ee=e}function Te(){if(Ee){var e=Ee,t=ke;if(ke=Ee=null,Se(e),t)for(e=0;e<t.length;e++)Se(t[e])}}function Ne(e,t){return e(t)}function Ae(){}var Ce=!1;function De(e,t,n){if(Ce)return e(t,n);Ce=!0;try{return Ne(e,t,n)}finally{Ce=!1,(null!==Ee||null!==ke)&&(Ae(),Te())}}function Re(e,t){var n=e.stateNode;if(null===n)return null;var r=_i(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var Pe=!1;if(u)try{var Oe={};Object.defineProperty(Oe,"passive",{get:function(){Pe=!0}}),window.addEventListener("test",Oe,Oe),window.removeEventListener("test",Oe,Oe)}catch(ue){Pe=!1}function je(e,t,n,r,i,s,a,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Le=!1,Me=null,Fe=!1,Ue=null,Ve={onError:function(e){Le=!0,Me=e}};function Be(e,t,n,r,i,s,a,o,l){Le=!1,Me=null,je.apply(Ve,arguments)}function ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ge(e){if(ze(e)!==e)throw Error(s(188))}function Ke(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=ze(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return Ge(i),e;if(a===r)return Ge(i),t;a=a.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=a;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=a;break}if(l===r){o=!0,r=i,n=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===n){o=!0,n=a,r=i;break}if(l===r){o=!0,r=a,n=i;break}l=l.sibling}if(!o)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e))?He(e):null}function He(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=He(e);if(null!==t)return t;e=e.sibling}return null}var Qe=i.unstable_scheduleCallback,We=i.unstable_cancelCallback,Ye=i.unstable_shouldYield,Je=i.unstable_requestPaint,Xe=i.unstable_now,Ze=i.unstable_getCurrentPriorityLevel,$e=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,st=null;var at=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ot(e)/lt|0)|0},ot=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function ht(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,a=268435455&n;if(0!==a){var o=a&~i;0!==o?r=ht(o):0!==(s&=a)&&(r=ht(s))}else 0!==(a=n&~i)?r=ht(a):0!==s&&(r=ht(s));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(s=t&-t)||16===i&&0!==(4194240&s)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-at(t)),r|=e[n],t&=~i;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-at(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var wt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var _t,It,Et,kt,St,xt=!1,Tt=[],Nt=null,At=null,Ct=null,Dt=new Map,Rt=new Map,Pt=[],Ot="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function jt(e,t){switch(e){case"focusin":case"focusout":Nt=null;break;case"dragenter":case"dragleave":At=null;break;case"mouseover":case"mouseout":Ct=null;break;case"pointerover":case"pointerout":Dt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rt.delete(t.pointerId)}}function Lt(e,t,n,r,i,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},null!==t&&(null!==(t=wi(t))&&It(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Mt(e){var t=yi(e.target);if(null!==t){var n=ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void St(e.priority,(function(){Et(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=wi(n))&&It(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Ut(e,t,n){Ft(e)&&n.delete(t)}function Vt(){xt=!1,null!==Nt&&Ft(Nt)&&(Nt=null),null!==At&&Ft(At)&&(At=null),null!==Ct&&Ft(Ct)&&(Ct=null),Dt.forEach(Ut),Rt.forEach(Ut)}function Bt(e,t){e.blockedOn===t&&(e.blockedOn=null,xt||(xt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Vt)))}function zt(e){function t(t){return Bt(t,e)}if(0<Tt.length){Bt(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Nt&&Bt(Nt,e),null!==At&&Bt(At,e),null!==Ct&&Bt(Ct,e),Dt.forEach(t),Rt.forEach(t),n=0;n<Pt.length;n++)(r=Pt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Pt.length&&null===(n=Pt[0]).blockedOn;)Mt(n),null===n.blockedOn&&Pt.shift()}var qt=b.ReactCurrentBatchConfig,Gt=!0;function Kt(e,t,n,r){var i=wt,s=qt.transition;qt.transition=null;try{wt=1,Qt(e,t,n,r)}finally{wt=i,qt.transition=s}}function Ht(e,t,n,r){var i=wt,s=qt.transition;qt.transition=null;try{wt=4,Qt(e,t,n,r)}finally{wt=i,qt.transition=s}}function Qt(e,t,n,r){if(Gt){var i=Yt(e,t,n,r);if(null===i)Gr(e,t,r,Wt,n),jt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Nt=Lt(Nt,e,t,n,r,i),!0;case"dragenter":return At=Lt(At,e,t,n,r,i),!0;case"mouseover":return Ct=Lt(Ct,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Dt.set(s,Lt(Dt.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Rt.set(s,Lt(Rt.get(s)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(jt(e,r),4&t&&-1<Ot.indexOf(e)){for(;null!==i;){var s=wi(i);if(null!==s&&_t(s),null===(s=Yt(e,t,n,r))&&Gr(e,t,r,Wt,n),s===i)break;i=s}null!==i&&r.stopPropagation()}else Gr(e,t,r,null,n)}}var Wt=null;function Yt(e,t,n,r){if(Wt=null,null!==(e=yi(e=_e(r))))if(null===(t=ze(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Wt=e,null}function Jt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ze()){case $e:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,Zt=null,$t=null;function en(){if($t)return $t;var e,t,n=Zt,r=n.length,i="value"in Xt?Xt.value:Xt.textContent,s=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[s-t];t++);return $t=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function sn(e){function t(t,n,r,i,s){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return M(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,on,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=sn(cn),hn=M({},cn,{view:0,detail:0}),dn=sn(hn),fn=M({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(an=e.screenX-ln.screenX,on=e.screenY-ln.screenY):on=an=0,ln=e),an)},movementY:function(e){return"movementY"in e?e.movementY:on}}),pn=sn(fn),mn=sn(M({},fn,{dataTransfer:0})),gn=sn(M({},hn,{relatedTarget:0})),vn=sn(M({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=M({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),wn=sn(yn),bn=sn(M({},cn,{data:0})),_n={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},In={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},En={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=En[e])&&!!t[e]}function Sn(){return kn}var xn=M({},hn,{key:function(e){if(e.key){var t=_n[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?In[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=sn(xn),Nn=sn(M({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),An=sn(M({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sn})),Cn=sn(M({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Dn=M({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Rn=sn(Dn),Pn=[9,13,27,32],On=u&&"CompositionEvent"in window,jn=null;u&&"documentMode"in document&&(jn=document.documentMode);var Ln=u&&"TextEvent"in window&&!jn,Mn=u&&(!On||jn&&8<jn&&11>=jn),Fn=String.fromCharCode(32),Un=!1;function Vn(e,t){switch(e){case"keyup":return-1!==Pn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var zn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Kn(e,t,n,r){xe(r),0<(t=Hr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Hn=null,Qn=null;function Wn(e){Fr(e,0)}function Yn(e){if(Q(bi(e)))return e}function Jn(e,t){if("change"===e)return t}var Xn=!1;if(u){var Zn;if(u){var $n="oninput"in document;if(!$n){var er=document.createElement("div");er.setAttribute("oninput","return;"),$n="function"===typeof er.oninput}Zn=$n}else Zn=!1;Xn=Zn&&(!document.documentMode||9<document.documentMode)}function tr(){Hn&&(Hn.detachEvent("onpropertychange",nr),Qn=Hn=null)}function nr(e){if("value"===e.propertyName&&Yn(Qn)){var t=[];Kn(t,Qn,e,_e(e)),De(Wn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Qn=n,(Hn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Qn)}function sr(e,t){if("click"===e)return Yn(t)}function ar(e,t){if("input"===e||"change"===e)return Yn(t)}var or="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(or(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!h.call(t,i)||!or(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function hr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?hr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function dr(){for(var e=window,t=W();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=W((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=dr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&hr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=void 0===r.end?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=ur(n,s);var a=ur(n,r);i&&a&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,vr=null,yr=null,wr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;wr||null==gr||gr!==W(r)||("selectionStart"in(r=gr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&lr(yr,r)||(yr=r,0<(r=Hr(vr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function _r(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ir={animationend:_r("Animation","AnimationEnd"),animationiteration:_r("Animation","AnimationIteration"),animationstart:_r("Animation","AnimationStart"),transitionend:_r("Transition","TransitionEnd")},Er={},kr={};function Sr(e){if(Er[e])return Er[e];if(!Ir[e])return e;var t,n=Ir[e];for(t in n)if(n.hasOwnProperty(t)&&t in kr)return Er[e]=n[t];return e}u&&(kr=document.createElement("div").style,"AnimationEvent"in window||(delete Ir.animationend.animation,delete Ir.animationiteration.animation,delete Ir.animationstart.animation),"TransitionEvent"in window||delete Ir.transitionend.transition);var xr=Sr("animationend"),Tr=Sr("animationiteration"),Nr=Sr("animationstart"),Ar=Sr("transitionend"),Cr=new Map,Dr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rr(e,t){Cr.set(e,t),l(t,[e])}for(var Pr=0;Pr<Dr.length;Pr++){var Or=Dr[Pr];Rr(Or.toLowerCase(),"on"+(Or[0].toUpperCase()+Or.slice(1)))}Rr(xr,"onAnimationEnd"),Rr(Tr,"onAnimationIteration"),Rr(Nr,"onAnimationStart"),Rr("dblclick","onDoubleClick"),Rr("focusin","onFocus"),Rr("focusout","onBlur"),Rr(Ar,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lr=new Set("cancel close invalid load scroll toggle".split(" ").concat(jr));function Mr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,o,l,c){if(Be.apply(this,arguments),Le){if(!Le)throw Error(s(198));var u=Me;Le=!1,Me=null,Fe||(Fe=!0,Ue=u)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;Mr(i,o,c),s=l}else for(a=0;a<r.length;a++){if(l=(o=r[a]).instance,c=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;Mr(i,o,c),s=l}}}if(Fe)throw e=Ue,Fe=!1,Ue=null,e}function Ur(e,t){var n=t[mi];void 0===n&&(n=t[mi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function Vr(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var Br="_reactListening"+Math.random().toString(36).slice(2);function zr(e){if(!e[Br]){e[Br]=!0,a.forEach((function(t){"selectionchange"!==t&&(Lr.has(t)||Vr(t,!1,e),Vr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Br]||(t[Br]=!0,Vr("selectionchange",!1,t))}}function qr(e,t,n,r){switch(Jt(t)){case 1:var i=Kt;break;case 4:i=Ht;break;default:i=Qt}n=i.bind(null,t,n,e),i=void 0,!Pe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Gr(e,t,n,r,i){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var o=r.stateNode.containerInfo;if(o===i||8===o.nodeType&&o.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;a=a.return}for(;null!==o;){if(null===(a=yi(o)))return;if(5===(l=a.tag)||6===l){r=s=a;continue e}o=o.parentNode}}r=r.return}De((function(){var r=s,i=_e(n),a=[];e:{var o=Cr.get(e);if(void 0!==o){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Tn;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=An;break;case xr:case Tr:case Nr:l=vn;break;case Ar:l=Cn;break;case"scroll":l=dn;break;case"wheel":l=Rn;break;case"copy":case"cut":case"paste":l=wn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Nn}var u=0!==(4&t),h=!u&&"scroll"===e,d=u?null!==o?o+"Capture":null:o;u=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==d&&(null!=(m=Re(p,d))&&u.push(Kr(p,m,f)))),h)break;p=p.return}0<u.length&&(o=new l(o,c,null,n,i),a.push({event:o,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!yi(c)&&!c[pi])&&(l||o)&&(o=i.window===i?i:(o=i.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?yi(c):null)&&(c!==(h=ze(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=pn,m="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=Nn,m="onPointerLeave",d="onPointerEnter",p="pointer"),h=null==l?o:bi(l),f=null==c?o:bi(c),(o=new u(m,p+"leave",l,n,i)).target=h,o.relatedTarget=f,m=null,yi(i)===r&&((u=new u(d,p+"enter",c,n,i)).target=f,u.relatedTarget=h,m=u),h=m,l&&c)e:{for(d=c,p=0,f=u=l;f;f=Qr(f))p++;for(f=0,m=d;m;m=Qr(m))f++;for(;0<p-f;)u=Qr(u),p--;for(;0<f-p;)d=Qr(d),f--;for(;p--;){if(u===d||null!==d&&u===d.alternate)break e;u=Qr(u),d=Qr(d)}u=null}else u=null;null!==l&&Wr(a,o,l,u,!1),null!==c&&null!==h&&Wr(a,h,c,u,!0)}if("select"===(l=(o=r?bi(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var g=Jn;else if(Gn(o))if(Xn)g=ar;else{g=ir;var v=rr}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(g=sr);switch(g&&(g=g(e,r))?Kn(a,g,n,i):(v&&v(e,o,r),"focusout"===e&&(v=o._wrapperState)&&v.controlled&&"number"===o.type&&ee(o,"number",o.value)),v=r?bi(r):window,e){case"focusin":(Gn(v)||"true"===v.contentEditable)&&(gr=v,vr=r,yr=null);break;case"focusout":yr=vr=gr=null;break;case"mousedown":wr=!0;break;case"contextmenu":case"mouseup":case"dragend":wr=!1,br(a,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":br(a,n,i)}var y;if(On)e:{switch(e){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else zn?Vn(e,n)&&(w="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(w="onCompositionStart");w&&(Mn&&"ko"!==n.locale&&(zn||"onCompositionStart"!==w?"onCompositionEnd"===w&&zn&&(y=en()):(Zt="value"in(Xt=i)?Xt.value:Xt.textContent,zn=!0)),0<(v=Hr(r,w)).length&&(w=new bn(w,e,null,n,i),a.push({event:w,listeners:v}),y?w.data=y:null!==(y=Bn(n))&&(w.data=y))),(y=Ln?function(e,t){switch(e){case"compositionend":return Bn(t);case"keypress":return 32!==t.which?null:(Un=!0,Fn);case"textInput":return(e=t.data)===Fn&&Un?null:e;default:return null}}(e,n):function(e,t){if(zn)return"compositionend"===e||!On&&Vn(e,t)?(e=en(),$t=Zt=Xt=null,zn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Mn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Hr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=y))}Fr(a,t)}))}function Kr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Hr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,s=i.stateNode;5===i.tag&&null!==s&&(i=s,null!=(s=Re(e,n))&&r.unshift(Kr(e,s,i)),null!=(s=Re(e,t))&&r.push(Kr(e,s,i))),e=e.return}return r}function Qr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Wr(e,t,n,r,i){for(var s=t._reactName,a=[];null!==n&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(null!==l&&l===r)break;5===o.tag&&null!==c&&(o=c,i?null!=(l=Re(n,s))&&a.unshift(Kr(n,l,o)):i||null!=(l=Re(n,s))&&a.push(Kr(n,l,o))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Yr=/\r\n?/g,Jr=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace(Yr,"\n").replace(Jr,"")}function Zr(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(s(425))}function $r(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,si="function"===typeof Promise?Promise:void 0,ai="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof si?function(e){return si.resolve(null).then(e).catch(oi)}:ri;function oi(e){setTimeout((function(){throw e}))}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void zt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);zt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ui(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var hi=Math.random().toString(36).slice(2),di="__reactFiber$"+hi,fi="__reactProps$"+hi,pi="__reactContainer$"+hi,mi="__reactEvents$"+hi,gi="__reactListeners$"+hi,vi="__reactHandles$"+hi;function yi(e){var t=e[di];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[di]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ui(e);null!==e;){if(n=e[di])return n;e=ui(e)}return t}n=(e=n).parentNode}return null}function wi(e){return!(e=e[di]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function _i(e){return e[fi]||null}var Ii=[],Ei=-1;function ki(e){return{current:e}}function Si(e){0>Ei||(e.current=Ii[Ei],Ii[Ei]=null,Ei--)}function xi(e,t){Ei++,Ii[Ei]=e.current,e.current=t}var Ti={},Ni=ki(Ti),Ai=ki(!1),Ci=Ti;function Di(e,t){var n=e.type.contextTypes;if(!n)return Ti;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,s={};for(i in n)s[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Ri(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Pi(){Si(Ai),Si(Ni)}function Oi(e,t,n){if(Ni.current!==Ti)throw Error(s(168));xi(Ni,t),xi(Ai,n)}function ji(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(s(108,q(e)||"Unknown",i));return M({},n,r)}function Li(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ti,Ci=Ni.current,xi(Ni,e),xi(Ai,Ai.current),!0}function Mi(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(e=ji(e,t,Ci),r.__reactInternalMemoizedMergedChildContext=e,Si(Ai),Si(Ni),xi(Ni,e)):Si(Ai),xi(Ai,n)}var Fi=null,Ui=!1,Vi=!1;function Bi(e){null===Fi?Fi=[e]:Fi.push(e)}function zi(){if(!Vi&&null!==Fi){Vi=!0;var e=0,t=wt;try{var n=Fi;for(wt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fi=null,Ui=!1}catch(i){throw null!==Fi&&(Fi=Fi.slice(e+1)),Qe($e,zi),i}finally{wt=t,Vi=!1}}return null}var qi=[],Gi=0,Ki=null,Hi=0,Qi=[],Wi=0,Yi=null,Ji=1,Xi="";function Zi(e,t){qi[Gi++]=Hi,qi[Gi++]=Ki,Ki=e,Hi=t}function $i(e,t,n){Qi[Wi++]=Ji,Qi[Wi++]=Xi,Qi[Wi++]=Yi,Yi=e;var r=Ji;e=Xi;var i=32-at(r)-1;r&=~(1<<i),n+=1;var s=32-at(t)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Ji=1<<32-at(t)+i|n<<i|r,Xi=s+e}else Ji=1<<s|n<<i|r,Xi=e}function es(e){null!==e.return&&(Zi(e,1),$i(e,1,0))}function ts(e){for(;e===Ki;)Ki=qi[--Gi],qi[Gi]=null,Hi=qi[--Gi],qi[Gi]=null;for(;e===Yi;)Yi=Qi[--Wi],Qi[Wi]=null,Xi=Qi[--Wi],Qi[Wi]=null,Ji=Qi[--Wi],Qi[Wi]=null}var ns=null,rs=null,is=!1,ss=null;function as(e,t){var n=Rc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function os(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ns=e,rs=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ns=e,rs=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Yi?{id:Ji,overflow:Xi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Rc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ns=e,rs=null,!0);default:return!1}}function ls(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function cs(e){if(is){var t=rs;if(t){var n=t;if(!os(e,t)){if(ls(e))throw Error(s(418));t=ci(n.nextSibling);var r=ns;t&&os(e,t)?as(r,n):(e.flags=-4097&e.flags|2,is=!1,ns=e)}}else{if(ls(e))throw Error(s(418));e.flags=-4097&e.flags|2,is=!1,ns=e}}}function us(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ns=e}function hs(e){if(e!==ns)return!1;if(!is)return us(e),is=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=rs)){if(ls(e))throw ds(),Error(s(418));for(;t;)as(e,t),t=ci(t.nextSibling)}if(us(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){rs=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}rs=null}}else rs=ns?ci(e.stateNode.nextSibling):null;return!0}function ds(){for(var e=rs;e;)e=ci(e.nextSibling)}function fs(){rs=ns=null,is=!1}function ps(e){null===ss?ss=[e]:ss.push(e)}var ms=b.ReactCurrentBatchConfig;function gs(e,t){if(e&&e.defaultProps){for(var n in t=M({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var vs=ki(null),ys=null,ws=null,bs=null;function _s(){bs=ws=ys=null}function Is(e){var t=vs.current;Si(vs),e._currentValue=t}function Es(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ks(e,t){ys=e,bs=ws=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bo=!0),e.firstContext=null)}function Ss(e){var t=e._currentValue;if(bs!==e)if(e={context:e,memoizedValue:t,next:null},null===ws){if(null===ys)throw Error(s(308));ws=e,ys.dependencies={lanes:0,firstContext:e}}else ws=ws.next=e;return t}var xs=null;function Ts(e){null===xs?xs=[e]:xs.push(e)}function Ns(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ts(t)):(n.next=i.next,i.next=n),t.interleaved=n,As(e,r)}function As(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Cs=!1;function Ds(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Rs(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ps(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Os(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Al)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,As(e,n)}return null===(i=r.interleaved)?(t.next=t,Ts(r)):(t.next=i.next,i.next=t),r.interleaved=t,As(e,n)}function js(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Ls(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?i=s=a:s=s.next=a,n=n.next}while(null!==n);null===s?i=s=t:s=s.next=t}else i=s=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ms(e,t,n,r){var i=e.updateQueue;Cs=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(null!==o){i.shared.pending=null;var l=o,c=l.next;l.next=null,null===a?s=c:a.next=c,a=l;var u=e.alternate;null!==u&&((o=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===o?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(null!==s){var h=i.baseState;for(a=0,u=c=l=null,o=s;;){var d=o.lane,f=o.eventTime;if((r&d)===d){null!==u&&(u=u.next={eventTime:f,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,m=o;switch(d=t,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){h=p.call(f,h,d);break e}h=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(d="function"===typeof(p=m.payload)?p.call(f,h,d):p)||void 0===d)break e;h=M({},h,d);break e;case 2:Cs=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(d=i.effects)?i.effects=[o]:d.push(o))}else f={eventTime:f,lane:d,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===u?(c=u=f,l=h):u=u.next=f,a|=d;if(null===(o=o.next)){if(null===(o=i.shared.pending))break;o=(d=o).next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}if(null===u&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{a|=i.lane,i=i.next}while(i!==t)}else null===s&&(i.shared.lanes=0);Ml|=a,e.lanes=a,e.memoizedState=h}}function Fs(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(s(191,i));i.call(r)}}}var Us=(new r.Component).refs;function Vs(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:M({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Bs={isMounted:function(e){return!!(e=e._reactInternals)&&ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),s=Ps(r,i);s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Os(e,s,i))&&(rc(t,e,i,r),js(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),s=Ps(r,i);s.tag=1,s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Os(e,s,i))&&(rc(t,e,i,r),js(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tc(),r=nc(e),i=Ps(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Os(e,i,r))&&(rc(t,e,r,n),js(t,e,r))}};function zs(e,t,n,r,i,s,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,a):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,s))}function qs(e,t,n){var r=!1,i=Ti,s=t.contextType;return"object"===typeof s&&null!==s?s=Ss(s):(i=Ri(t)?Ci:Ni.current,s=(r=null!==(r=t.contextTypes)&&void 0!==r)?Di(e,i):Ti),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Bs,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function Gs(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Bs.enqueueReplaceState(t,t.state,null)}function Ks(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Us,Ds(e);var s=t.contextType;"object"===typeof s&&null!==s?i.context=Ss(s):(s=Ri(t)?Ci:Ni.current,i.context=Di(e,s)),i.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(Vs(e,t,s,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Bs.enqueueReplaceState(i,i.state,null),Ms(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Hs(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,e));var i=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=i.refs;t===Us&&(t=i.refs={}),null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function Qs(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ws(e){return(0,e._init)(e._payload)}function Ys(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Oc(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var s=n.type;return s===E?h(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===R&&Ws(s)===t.type)?((r=i(t,n.props)).ref=Hs(e,t,n),r.return=e,r):((r=jc(n.type,n.key,n.props,null,e.mode,r)).ref=Hs(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Uc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,s){return null===t||7!==t.tag?((t=Lc(n,e.mode,r,s)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Fc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case _:return(n=jc(t.type,t.key,t.props,null,e.mode,n)).ref=Hs(e,null,t),n.return=e,n;case I:return(t=Uc(t,e.mode,n)).return=e,t;case R:return d(e,(0,t._init)(t._payload),n)}if(te(t)||j(t))return(t=Lc(t,e.mode,n,null)).return=e,t;Qs(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case _:return n.key===i?c(e,t,n,r):null;case I:return n.key===i?u(e,t,n,r):null;case R:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||j(n))return null!==i?null:h(e,t,n,r,null);Qs(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case _:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case I:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case R:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||j(r))return h(t,e=e.get(n)||null,r,i,null);Qs(t,r)}return null}function m(i,s,o,l){for(var c=null,u=null,h=s,m=s=0,g=null;null!==h&&m<o.length;m++){h.index>m?(g=h,h=null):g=h.sibling;var v=f(i,h,o[m],l);if(null===v){null===h&&(h=g);break}e&&h&&null===v.alternate&&t(i,h),s=a(v,s,m),null===u?c=v:u.sibling=v,u=v,h=g}if(m===o.length)return n(i,h),is&&Zi(i,m),c;if(null===h){for(;m<o.length;m++)null!==(h=d(i,o[m],l))&&(s=a(h,s,m),null===u?c=h:u.sibling=h,u=h);return is&&Zi(i,m),c}for(h=r(i,h);m<o.length;m++)null!==(g=p(h,i,m,o[m],l))&&(e&&null!==g.alternate&&h.delete(null===g.key?m:g.key),s=a(g,s,m),null===u?c=g:u.sibling=g,u=g);return e&&h.forEach((function(e){return t(i,e)})),is&&Zi(i,m),c}function g(i,o,l,c){var u=j(l);if("function"!==typeof u)throw Error(s(150));if(null==(l=u.call(l)))throw Error(s(151));for(var h=u=null,m=o,g=o=0,v=null,y=l.next();null!==m&&!y.done;g++,y=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var w=f(i,m,y.value,c);if(null===w){null===m&&(m=v);break}e&&m&&null===w.alternate&&t(i,m),o=a(w,o,g),null===h?u=w:h.sibling=w,h=w,m=v}if(y.done)return n(i,m),is&&Zi(i,g),u;if(null===m){for(;!y.done;g++,y=l.next())null!==(y=d(i,y.value,c))&&(o=a(y,o,g),null===h?u=y:h.sibling=y,h=y);return is&&Zi(i,g),u}for(m=r(i,m);!y.done;g++,y=l.next())null!==(y=p(m,i,g,y.value,c))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),o=a(y,o,g),null===h?u=y:h.sibling=y,h=y);return e&&m.forEach((function(e){return t(i,e)})),is&&Zi(i,g),u}return function e(r,s,a,l){if("object"===typeof a&&null!==a&&a.type===E&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case _:e:{for(var c=a.key,u=s;null!==u;){if(u.key===c){if((c=a.type)===E){if(7===u.tag){n(r,u.sibling),(s=i(u,a.props.children)).return=r,r=s;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===R&&Ws(c)===u.type){n(r,u.sibling),(s=i(u,a.props)).ref=Hs(r,u,a),s.return=r,r=s;break e}n(r,u);break}t(r,u),u=u.sibling}a.type===E?((s=Lc(a.props.children,r.mode,l,a.key)).return=r,r=s):((l=jc(a.type,a.key,a.props,null,r.mode,l)).ref=Hs(r,s,a),l.return=r,r=l)}return o(r);case I:e:{for(u=a.key;null!==s;){if(s.key===u){if(4===s.tag&&s.stateNode.containerInfo===a.containerInfo&&s.stateNode.implementation===a.implementation){n(r,s.sibling),(s=i(s,a.children||[])).return=r,r=s;break e}n(r,s);break}t(r,s),s=s.sibling}(s=Uc(a,r.mode,l)).return=r,r=s}return o(r);case R:return e(r,s,(u=a._init)(a._payload),l)}if(te(a))return m(r,s,a,l);if(j(a))return g(r,s,a,l);Qs(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==s&&6===s.tag?(n(r,s.sibling),(s=i(s,a)).return=r,r=s):(n(r,s),(s=Fc(a,r.mode,l)).return=r,r=s),o(r)):n(r,s)}}var Js=Ys(!0),Xs=Ys(!1),Zs={},$s=ki(Zs),ea=ki(Zs),ta=ki(Zs);function na(e){if(e===Zs)throw Error(s(174));return e}function ra(e,t){switch(xi(ta,t),xi(ea,e),xi($s,Zs),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Si($s),xi($s,t)}function ia(){Si($s),Si(ea),Si(ta)}function sa(e){na(ta.current);var t=na($s.current),n=le(t,e.type);t!==n&&(xi(ea,e),xi($s,n))}function aa(e){ea.current===e&&(Si($s),Si(ea))}var oa=ki(0);function la(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ca=[];function ua(){for(var e=0;e<ca.length;e++)ca[e]._workInProgressVersionPrimary=null;ca.length=0}var ha=b.ReactCurrentDispatcher,da=b.ReactCurrentBatchConfig,fa=0,pa=null,ma=null,ga=null,va=!1,ya=!1,wa=0,ba=0;function _a(){throw Error(s(321))}function Ia(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!or(e[n],t[n]))return!1;return!0}function Ea(e,t,n,r,i,a){if(fa=a,pa=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ha.current=null===e||null===e.memoizedState?ao:oo,e=n(r,i),ya){a=0;do{if(ya=!1,wa=0,25<=a)throw Error(s(301));a+=1,ga=ma=null,t.updateQueue=null,ha.current=lo,e=n(r,i)}while(ya)}if(ha.current=so,t=null!==ma&&null!==ma.next,fa=0,ga=ma=pa=null,va=!1,t)throw Error(s(300));return e}function ka(){var e=0!==wa;return wa=0,e}function Sa(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ga?pa.memoizedState=ga=e:ga=ga.next=e,ga}function xa(){if(null===ma){var e=pa.alternate;e=null!==e?e.memoizedState:null}else e=ma.next;var t=null===ga?pa.memoizedState:ga.next;if(null!==t)ga=t,ma=e;else{if(null===e)throw Error(s(310));e={memoizedState:(ma=e).memoizedState,baseState:ma.baseState,baseQueue:ma.baseQueue,queue:ma.queue,next:null},null===ga?pa.memoizedState=ga=e:ga=ga.next=e}return ga}function Ta(e,t){return"function"===typeof t?t(e):t}function Na(e){var t=xa(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=ma,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var o=i.next;i.next=a.next,a.next=o}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var l=o=null,c=null,u=a;do{var h=u.lane;if((fa&h)===h)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=d,o=r):c=c.next=d,pa.lanes|=h,Ml|=h}u=u.next}while(null!==u&&u!==a);null===c?o=r:c.next=l,or(r,t.memoizedState)||(bo=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{a=i.lane,pa.lanes|=a,Ml|=a,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Aa(e){var t=xa(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var o=i=i.next;do{a=e(a,o.action),o=o.next}while(o!==i);or(a,t.memoizedState)||(bo=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Ca(){}function Da(e,t){var n=pa,r=xa(),i=t(),a=!or(r.memoizedState,i);if(a&&(r.memoizedState=i,bo=!0),r=r.queue,qa(Oa.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==ga&&1&ga.memoizedState.tag){if(n.flags|=2048,Fa(9,Pa.bind(null,n,r,i,t),void 0,null),null===Cl)throw Error(s(349));0!==(30&fa)||Ra(n,t,i)}return i}function Ra(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=pa.updateQueue)?(t={lastEffect:null,stores:null},pa.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Pa(e,t,n,r){t.value=n,t.getSnapshot=r,ja(t)&&La(e)}function Oa(e,t,n){return n((function(){ja(t)&&La(e)}))}function ja(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!or(e,n)}catch(r){return!0}}function La(e){var t=As(e,1);null!==t&&rc(t,e,1,-1)}function Ma(e){var t=Sa();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ta,lastRenderedState:e},t.queue=e,e=e.dispatch=to.bind(null,pa,e),[t.memoizedState,e]}function Fa(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=pa.updateQueue)?(t={lastEffect:null,stores:null},pa.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Ua(){return xa().memoizedState}function Va(e,t,n,r){var i=Sa();pa.flags|=e,i.memoizedState=Fa(1|t,n,void 0,void 0===r?null:r)}function Ba(e,t,n,r){var i=xa();r=void 0===r?null:r;var s=void 0;if(null!==ma){var a=ma.memoizedState;if(s=a.destroy,null!==r&&Ia(r,a.deps))return void(i.memoizedState=Fa(t,n,s,r))}pa.flags|=e,i.memoizedState=Fa(1|t,n,s,r)}function za(e,t){return Va(8390656,8,e,t)}function qa(e,t){return Ba(2048,8,e,t)}function Ga(e,t){return Ba(4,2,e,t)}function Ka(e,t){return Ba(4,4,e,t)}function Ha(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Qa(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ba(4,4,Ha.bind(null,t,e),n)}function Wa(){}function Ya(e,t){var n=xa();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Ia(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ja(e,t){var n=xa();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Ia(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Xa(e,t,n){return 0===(21&fa)?(e.baseState&&(e.baseState=!1,bo=!0),e.memoizedState=n):(or(n,t)||(n=mt(),pa.lanes|=n,Ml|=n,e.baseState=!0),t)}function Za(e,t){var n=wt;wt=0!==n&&4>n?n:4,e(!0);var r=da.transition;da.transition={};try{e(!1),t()}finally{wt=n,da.transition=r}}function $a(){return xa().memoizedState}function eo(e,t,n){var r=nc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},no(e))ro(t,n);else if(null!==(n=Ns(e,t,n,r))){rc(n,e,r,tc()),io(n,t,r)}}function to(e,t,n){var r=nc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(no(e))ro(t,i);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var a=t.lastRenderedState,o=s(a,n);if(i.hasEagerState=!0,i.eagerState=o,or(o,a)){var l=t.interleaved;return null===l?(i.next=i,Ts(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Ns(e,t,i,r))&&(rc(n,e,r,i=tc()),io(n,t,r))}}function no(e){var t=e.alternate;return e===pa||null!==t&&t===pa}function ro(e,t){ya=va=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function io(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var so={readContext:Ss,useCallback:_a,useContext:_a,useEffect:_a,useImperativeHandle:_a,useInsertionEffect:_a,useLayoutEffect:_a,useMemo:_a,useReducer:_a,useRef:_a,useState:_a,useDebugValue:_a,useDeferredValue:_a,useTransition:_a,useMutableSource:_a,useSyncExternalStore:_a,useId:_a,unstable_isNewReconciler:!1},ao={readContext:Ss,useCallback:function(e,t){return Sa().memoizedState=[e,void 0===t?null:t],e},useContext:Ss,useEffect:za,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Va(4194308,4,Ha.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Va(4194308,4,e,t)},useInsertionEffect:function(e,t){return Va(4,2,e,t)},useMemo:function(e,t){var n=Sa();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Sa();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=eo.bind(null,pa,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Sa().memoizedState=e},useState:Ma,useDebugValue:Wa,useDeferredValue:function(e){return Sa().memoizedState=e},useTransition:function(){var e=Ma(!1),t=e[0];return e=Za.bind(null,e[1]),Sa().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=pa,i=Sa();if(is){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===Cl)throw Error(s(349));0!==(30&fa)||Ra(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,za(Oa.bind(null,r,a,e),[e]),r.flags|=2048,Fa(9,Pa.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=Sa(),t=Cl.identifierPrefix;if(is){var n=Xi;t=":"+t+"R"+(n=(Ji&~(1<<32-at(Ji)-1)).toString(32)+n),0<(n=wa++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=ba++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},oo={readContext:Ss,useCallback:Ya,useContext:Ss,useEffect:qa,useImperativeHandle:Qa,useInsertionEffect:Ga,useLayoutEffect:Ka,useMemo:Ja,useReducer:Na,useRef:Ua,useState:function(){return Na(Ta)},useDebugValue:Wa,useDeferredValue:function(e){return Xa(xa(),ma.memoizedState,e)},useTransition:function(){return[Na(Ta)[0],xa().memoizedState]},useMutableSource:Ca,useSyncExternalStore:Da,useId:$a,unstable_isNewReconciler:!1},lo={readContext:Ss,useCallback:Ya,useContext:Ss,useEffect:qa,useImperativeHandle:Qa,useInsertionEffect:Ga,useLayoutEffect:Ka,useMemo:Ja,useReducer:Aa,useRef:Ua,useState:function(){return Aa(Ta)},useDebugValue:Wa,useDeferredValue:function(e){var t=xa();return null===ma?t.memoizedState=e:Xa(t,ma.memoizedState,e)},useTransition:function(){return[Aa(Ta)[0],xa().memoizedState]},useMutableSource:Ca,useSyncExternalStore:Da,useId:$a,unstable_isNewReconciler:!1};function co(e,t){try{var n="",r=t;do{n+=B(r),r=r.return}while(r);var i=n}catch(s){i="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:i,digest:null}}function uo(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ho(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var fo="function"===typeof WeakMap?WeakMap:Map;function po(e,t,n){(n=Ps(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Kl||(Kl=!0,Hl=r),ho(0,t)},n}function mo(e,t,n){(n=Ps(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ho(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(n.callback=function(){ho(0,t),"function"!==typeof r&&(null===Ql?Ql=new Set([this]):Ql.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function go(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new fo;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=xc.bind(null,e,t,n),t.then(e,e))}function vo(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function yo(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Ps(-1,1)).tag=2,Os(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var wo=b.ReactCurrentOwner,bo=!1;function _o(e,t,n,r){t.child=null===e?Xs(t,null,n,r):Js(t,e.child,n,r)}function Io(e,t,n,r,i){n=n.render;var s=t.ref;return ks(t,i),r=Ea(e,t,n,r,s,i),n=ka(),null===e||bo?(is&&n&&es(t),t.flags|=1,_o(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ko(e,t,i))}function Eo(e,t,n,r,i){if(null===e){var s=n.type;return"function"!==typeof s||Pc(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=jc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,ko(e,t,s,r,i))}if(s=e.child,0===(e.lanes&i)){var a=s.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(a,r)&&e.ref===t.ref)return Ko(e,t,i)}return t.flags|=1,(e=Oc(s,r)).ref=t.ref,e.return=t,t.child=e}function ko(e,t,n,r,i){if(null!==e){var s=e.memoizedProps;if(lr(s,r)&&e.ref===t.ref){if(bo=!1,t.pendingProps=r=s,0===(e.lanes&i))return t.lanes=e.lanes,Ko(e,t,i);0!==(131072&e.flags)&&(bo=!0)}}return To(e,t,n,r,i)}function So(e,t,n){var r=t.pendingProps,i=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},xi(Ol,Pl),Pl|=n;else{if(0===(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,xi(Ol,Pl),Pl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==s?s.baseLanes:n,xi(Ol,Pl),Pl|=r}else null!==s?(r=s.baseLanes|n,t.memoizedState=null):r=n,xi(Ol,Pl),Pl|=r;return _o(e,t,i,n),t.child}function xo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function To(e,t,n,r,i){var s=Ri(n)?Ci:Ni.current;return s=Di(t,s),ks(t,i),n=Ea(e,t,n,r,s,i),r=ka(),null===e||bo?(is&&r&&es(t),t.flags|=1,_o(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ko(e,t,i))}function No(e,t,n,r,i){if(Ri(n)){var s=!0;Li(t)}else s=!1;if(ks(t,i),null===t.stateNode)Go(e,t),qs(t,n,r),Ks(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,o=t.memoizedProps;a.props=o;var l=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ss(c):c=Di(t,c=Ri(n)?Ci:Ni.current);var u=n.getDerivedStateFromProps,h="function"===typeof u||"function"===typeof a.getSnapshotBeforeUpdate;h||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==r||l!==c)&&Gs(t,a,r,c),Cs=!1;var d=t.memoizedState;a.state=d,Ms(t,r,a,i),l=t.memoizedState,o!==r||d!==l||Ai.current||Cs?("function"===typeof u&&(Vs(t,n,u,r),l=t.memoizedState),(o=Cs||zs(t,n,o,r,d,l,c))?(h||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=c,r=o):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Rs(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:gs(t.type,o),a.props=c,h=t.pendingProps,d=a.context,"object"===typeof(l=n.contextType)&&null!==l?l=Ss(l):l=Di(t,l=Ri(n)?Ci:Ni.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==h||d!==l)&&Gs(t,a,r,l),Cs=!1,d=t.memoizedState,a.state=d,Ms(t,r,a,i);var p=t.memoizedState;o!==h||d!==p||Ai.current||Cs?("function"===typeof f&&(Vs(t,n,f,r),p=t.memoizedState),(c=Cs||zs(t,n,c,r,d,p,l)||!1)?(u||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=l,r=c):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Ao(e,t,n,r,s,i)}function Ao(e,t,n,r,i,s){xo(e,t);var a=0!==(128&t.flags);if(!r&&!a)return i&&Mi(t,n,!1),Ko(e,t,s);r=t.stateNode,wo.current=t;var o=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=Js(t,e.child,null,s),t.child=Js(t,null,o,s)):_o(e,t,o,s),t.memoizedState=r.state,i&&Mi(t,n,!0),t.child}function Co(e){var t=e.stateNode;t.pendingContext?Oi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Oi(0,t.context,!1),ra(e,t.containerInfo)}function Do(e,t,n,r,i){return fs(),ps(i),t.flags|=256,_o(e,t,n,r),t.child}var Ro,Po,Oo,jo,Lo={dehydrated:null,treeContext:null,retryLane:0};function Mo(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fo(e,t,n){var r,i=t.pendingProps,a=oa.current,o=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),xi(oa,1&a),null===e)return cs(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,o?(i=t.mode,o=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==o?(o.childLanes=0,o.pendingProps=l):o=Mc(l,i,0,null),e=Lc(e,i,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Mo(n),t.memoizedState=Lo,e):Uo(t,l));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,i,a,o){if(n)return 256&t.flags?(t.flags&=-257,Vo(e,t,o,r=uo(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=Mc({mode:"visible",children:r.children},i,0,null),(a=Lc(a,i,o,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,0!==(1&t.mode)&&Js(t,e.child,null,o),t.child.memoizedState=Mo(o),t.memoizedState=Lo,a);if(0===(1&t.mode))return Vo(e,t,o,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,Vo(e,t,o,r=uo(a=Error(s(419)),r,void 0))}if(l=0!==(o&e.childLanes),bo||l){if(null!==(r=Cl)){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|o))?0:i)&&i!==a.retryLane&&(a.retryLane=i,As(e,i),rc(r,e,i,-1))}return gc(),Vo(e,t,o,r=uo(Error(s(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Nc.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,rs=ci(i.nextSibling),ns=t,is=!0,ss=null,null!==e&&(Qi[Wi++]=Ji,Qi[Wi++]=Xi,Qi[Wi++]=Yi,Ji=e.id,Xi=e.overflow,Yi=t),t=Uo(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,a,n);if(o){o=i.fallback,l=t.mode,r=(a=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==a?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Oc(a,c)).subtreeFlags=14680064&a.subtreeFlags,null!==r?o=Oc(r,o):(o=Lc(o,l,n,null)).flags|=2,o.return=t,i.return=t,i.sibling=o,t.child=i,i=o,o=t.child,l=null===(l=e.child.memoizedState)?Mo(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=e.childLanes&~n,t.memoizedState=Lo,i}return e=(o=e.child).sibling,i=Oc(o,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Uo(e,t){return(t=Mc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Vo(e,t,n,r){return null!==r&&ps(r),Js(t,e.child,null,n),(e=Uo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Bo(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Es(e.return,t,n)}function zo(e,t,n,r,i){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function qo(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(_o(e,t,r.children,n),0!==(2&(r=oa.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Bo(e,n,t);else if(19===e.tag)Bo(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(xi(oa,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===la(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),zo(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===la(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}zo(t,!0,n,null,s);break;case"together":zo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Go(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ko(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ml|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Oc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Oc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ho(e,t){if(!is)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Qo(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Wo(e,t,n){var r=t.pendingProps;switch(ts(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qo(t),null;case 1:case 17:return Ri(t.type)&&Pi(),Qo(t),null;case 3:return r=t.stateNode,ia(),Si(Ai),Si(Ni),ua(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(hs(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ss&&(oc(ss),ss=null))),Po(e,t),Qo(t),null;case 5:aa(t);var i=na(ta.current);if(n=t.type,null!==e&&null!=t.stateNode)Oo(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(s(166));return Qo(t),null}if(e=na($s.current),hs(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[di]=t,r[fi]=a,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(i=0;i<jr.length;i++)Ur(jr[i],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":J(r,a),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Ur("invalid",r);break;case"textarea":ie(r,a),Ur("invalid",r)}for(var l in ye(n,a),i=null,a)if(a.hasOwnProperty(l)){var c=a[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==a.suppressHydrationWarning&&Zr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==a.suppressHydrationWarning&&Zr(r.textContent,c,e),i=["children",""+c]):o.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Ur("scroll",r)}switch(n){case"input":H(r),$(r,a,!0);break;case"textarea":H(r),ae(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=$r)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=oe(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[di]=t,e[fi]=r,Ro(e,t,!1,!1),t.stateNode=e;e:{switch(l=we(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),i=r;break;case"iframe":case"object":case"embed":Ur("load",e),i=r;break;case"video":case"audio":for(i=0;i<jr.length;i++)Ur(jr[i],e);i=r;break;case"source":Ur("error",e),i=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),i=r;break;case"details":Ur("toggle",e),i=r;break;case"input":J(e,r),i=Y(e,r),Ur("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=M({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Ur("invalid",e)}for(a in ye(n,i),c=i)if(c.hasOwnProperty(a)){var u=c[a];"style"===a?ge(e,u):"dangerouslySetInnerHTML"===a?null!=(u=u?u.__html:void 0)&&he(e,u):"children"===a?"string"===typeof u?("textarea"!==n||""!==u)&&de(e,u):"number"===typeof u&&de(e,""+u):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(o.hasOwnProperty(a)?null!=u&&"onScroll"===a&&Ur("scroll",e):null!=u&&w(e,a,u,l))}switch(n){case"input":H(e),$(e,r,!1);break;case"textarea":H(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+G(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=$r)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Qo(t),null;case 6:if(e&&null!=t.stateNode)jo(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(n=na(ta.current),na($s.current),hs(t)){if(r=t.stateNode,n=t.memoizedProps,r[di]=t,(a=r.nodeValue!==n)&&null!==(e=ns))switch(e.tag){case 3:Zr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Zr(r.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[di]=t,t.stateNode=r}return Qo(t),null;case 13:if(Si(oa),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(is&&null!==rs&&0!==(1&t.mode)&&0===(128&t.flags))ds(),fs(),t.flags|=98560,a=!1;else if(a=hs(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(s(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(s(317));a[di]=t}else fs(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Qo(t),a=!1}else null!==ss&&(oc(ss),ss=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&oa.current)?0===jl&&(jl=3):gc())),null!==t.updateQueue&&(t.flags|=4),Qo(t),null);case 4:return ia(),Po(e,t),null===e&&zr(t.stateNode.containerInfo),Qo(t),null;case 10:return Is(t.type._context),Qo(t),null;case 19:if(Si(oa),null===(a=t.memoizedState))return Qo(t),null;if(r=0!==(128&t.flags),null===(l=a.rendering))if(r)Ho(a,!1);else{if(0!==jl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=la(e))){for(t.flags|=128,Ho(a,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(l=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return xi(oa,1&oa.current|2),t.child}e=e.sibling}null!==a.tail&&Xe()>ql&&(t.flags|=128,r=!0,Ho(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=la(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ho(a,!0),null===a.tail&&"hidden"===a.tailMode&&!l.alternate&&!is)return Qo(t),null}else 2*Xe()-a.renderingStartTime>ql&&1073741824!==n&&(t.flags|=128,r=!0,Ho(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=a.last)?n.sibling=l:t.child=l,a.last=l)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Xe(),t.sibling=null,n=oa.current,xi(oa,r?1&n|2:1&n),t):(Qo(t),null);case 22:case 23:return dc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Pl)&&(Qo(t),6&t.subtreeFlags&&(t.flags|=8192)):Qo(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function Yo(e,t){switch(ts(t),t.tag){case 1:return Ri(t.type)&&Pi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return ia(),Si(Ai),Si(Ni),ua(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return aa(t),null;case 13:if(Si(oa),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));fs()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Si(oa),null;case 4:return ia(),null;case 10:return Is(t.type._context),null;case 22:case 23:return dc(),null;default:return null}}Ro=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Po=function(){},Oo=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,na($s.current);var s,a=null;switch(n){case"input":i=Y(e,i),r=Y(e,r),a=[];break;case"select":i=M({},i,{value:void 0}),r=M({},r,{value:void 0}),a=[];break;case"textarea":i=re(e,i),r=re(e,r),a=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=$r)}for(u in ye(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var l=i[u];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(o.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(s in l)!l.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&l[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(a||(a=[]),a.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(a=a||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(a=a||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(o.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Ur("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}},jo=function(e,t,n,r){n!==r&&(t.flags|=4)};var Jo=!1,Xo=!1,Zo="function"===typeof WeakSet?WeakSet:Set,$o=null;function el(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Sc(e,t,r)}else n.current=null}function tl(e,t,n){try{n()}catch(r){Sc(e,t,r)}}var nl=!1;function rl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,void 0!==s&&tl(t,n,s)}i=i.next}while(i!==r)}}function il(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function sl(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function al(e){var t=e.alternate;null!==t&&(e.alternate=null,al(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[di],delete t[fi],delete t[mi],delete t[gi],delete t[vi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ol(e){return 5===e.tag||3===e.tag||4===e.tag}function ll(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ol(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=$r));else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}function ul(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ul(e,t,n),e=e.sibling;null!==e;)ul(e,t,n),e=e.sibling}var hl=null,dl=!1;function fl(e,t,n){for(n=n.child;null!==n;)pl(e,t,n),n=n.sibling}function pl(e,t,n){if(st&&"function"===typeof st.onCommitFiberUnmount)try{st.onCommitFiberUnmount(it,n)}catch(o){}switch(n.tag){case 5:Xo||el(n,t);case 6:var r=hl,i=dl;hl=null,fl(e,t,n),dl=i,null!==(hl=r)&&(dl?(e=hl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):hl.removeChild(n.stateNode));break;case 18:null!==hl&&(dl?(e=hl,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),zt(e)):li(hl,n.stateNode));break;case 4:r=hl,i=dl,hl=n.stateNode.containerInfo,dl=!0,fl(e,t,n),hl=r,dl=i;break;case 0:case 11:case 14:case 15:if(!Xo&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var s=i,a=s.destroy;s=s.tag,void 0!==a&&(0!==(2&s)||0!==(4&s))&&tl(n,t,a),i=i.next}while(i!==r)}fl(e,t,n);break;case 1:if(!Xo&&(el(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){Sc(n,t,o)}fl(e,t,n);break;case 21:fl(e,t,n);break;case 22:1&n.mode?(Xo=(r=Xo)||null!==n.memoizedState,fl(e,t,n),Xo=r):fl(e,t,n);break;default:fl(e,t,n)}}function ml(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Zo),t.forEach((function(t){var r=Ac.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function gl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 5:hl=l.stateNode,dl=!1;break e;case 3:case 4:hl=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===hl)throw Error(s(160));pl(a,o,i),hl=null,dl=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(u){Sc(i,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)vl(t,e),t=t.sibling}function vl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gl(t,e),yl(e),4&r){try{rl(3,e,e.return),il(3,e)}catch(g){Sc(e,e.return,g)}try{rl(5,e,e.return)}catch(g){Sc(e,e.return,g)}}break;case 1:gl(t,e),yl(e),512&r&&null!==n&&el(n,n.return);break;case 5:if(gl(t,e),yl(e),512&r&&null!==n&&el(n,n.return),32&e.flags){var i=e.stateNode;try{de(i,"")}catch(g){Sc(e,e.return,g)}}if(4&r&&null!=(i=e.stateNode)){var a=e.memoizedProps,o=null!==n?n.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===a.type&&null!=a.name&&X(i,a),we(l,o);var u=we(l,a);for(o=0;o<c.length;o+=2){var h=c[o],d=c[o+1];"style"===h?ge(i,d):"dangerouslySetInnerHTML"===h?he(i,d):"children"===h?de(i,d):w(i,h,d,u)}switch(l){case"input":Z(i,a);break;case"textarea":se(i,a);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;null!=p?ne(i,!!a.multiple,p,!1):f!==!!a.multiple&&(null!=a.defaultValue?ne(i,!!a.multiple,a.defaultValue,!0):ne(i,!!a.multiple,a.multiple?[]:"",!1))}i[fi]=a}catch(g){Sc(e,e.return,g)}}break;case 6:if(gl(t,e),yl(e),4&r){if(null===e.stateNode)throw Error(s(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(g){Sc(e,e.return,g)}}break;case 3:if(gl(t,e),yl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{zt(t.containerInfo)}catch(g){Sc(e,e.return,g)}break;case 4:default:gl(t,e),yl(e);break;case 13:gl(t,e),yl(e),8192&(i=e.child).flags&&(a=null!==i.memoizedState,i.stateNode.isHidden=a,!a||null!==i.alternate&&null!==i.alternate.memoizedState||(zl=Xe())),4&r&&ml(e);break;case 22:if(h=null!==n&&null!==n.memoizedState,1&e.mode?(Xo=(u=Xo)||h,gl(t,e),Xo=u):gl(t,e),yl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!h&&0!==(1&e.mode))for($o=e,h=e.child;null!==h;){for(d=$o=h;null!==$o;){switch(p=(f=$o).child,f.tag){case 0:case 11:case 14:case 15:rl(4,f,f.return);break;case 1:el(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){Sc(r,n,g)}}break;case 5:el(f,f.return);break;case 22:if(null!==f.memoizedState){Il(d);continue}}null!==p?(p.return=f,$o=p):Il(d)}h=h.sibling}e:for(h=null,d=e;;){if(5===d.tag){if(null===h){h=d;try{i=d.stateNode,u?"function"===typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none":(l=d.stateNode,o=void 0!==(c=d.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",o))}catch(g){Sc(e,e.return,g)}}}else if(6===d.tag){if(null===h)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(g){Sc(e,e.return,g)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:gl(t,e),yl(e),4&r&&ml(e);case 21:}}function yl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ol(n)){var r=n;break e}n=n.return}throw Error(s(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(de(i,""),r.flags&=-33),ul(e,ll(e),i);break;case 3:case 4:var a=r.stateNode.containerInfo;cl(e,ll(e),a);break;default:throw Error(s(161))}}catch(o){Sc(e,e.return,o)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function wl(e,t,n){$o=e,bl(e,t,n)}function bl(e,t,n){for(var r=0!==(1&e.mode);null!==$o;){var i=$o,s=i.child;if(22===i.tag&&r){var a=null!==i.memoizedState||Jo;if(!a){var o=i.alternate,l=null!==o&&null!==o.memoizedState||Xo;o=Jo;var c=Xo;if(Jo=a,(Xo=l)&&!c)for($o=i;null!==$o;)l=(a=$o).child,22===a.tag&&null!==a.memoizedState?El(i):null!==l?(l.return=a,$o=l):El(i);for(;null!==s;)$o=s,bl(s,t,n),s=s.sibling;$o=i,Jo=o,Xo=c}_l(e)}else 0!==(8772&i.subtreeFlags)&&null!==s?(s.return=i,$o=s):_l(e)}}function _l(e){for(;null!==$o;){var t=$o;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Xo||il(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Xo)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:gs(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&Fs(t,a,r);break;case 3:var o=t.updateQueue;if(null!==o){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Fs(t,o,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var h=u.memoizedState;if(null!==h){var d=h.dehydrated;null!==d&&zt(d)}}}break;default:throw Error(s(163))}Xo||512&t.flags&&sl(t)}catch(f){Sc(t,t.return,f)}}if(t===e){$o=null;break}if(null!==(n=t.sibling)){n.return=t.return,$o=n;break}$o=t.return}}function Il(e){for(;null!==$o;){var t=$o;if(t===e){$o=null;break}var n=t.sibling;if(null!==n){n.return=t.return,$o=n;break}$o=t.return}}function El(e){for(;null!==$o;){var t=$o;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{il(4,t)}catch(l){Sc(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){Sc(t,i,l)}}var s=t.return;try{sl(t)}catch(l){Sc(t,s,l)}break;case 5:var a=t.return;try{sl(t)}catch(l){Sc(t,a,l)}}}catch(l){Sc(t,t.return,l)}if(t===e){$o=null;break}var o=t.sibling;if(null!==o){o.return=t.return,$o=o;break}$o=t.return}}var kl,Sl=Math.ceil,xl=b.ReactCurrentDispatcher,Tl=b.ReactCurrentOwner,Nl=b.ReactCurrentBatchConfig,Al=0,Cl=null,Dl=null,Rl=0,Pl=0,Ol=ki(0),jl=0,Ll=null,Ml=0,Fl=0,Ul=0,Vl=null,Bl=null,zl=0,ql=1/0,Gl=null,Kl=!1,Hl=null,Ql=null,Wl=!1,Yl=null,Jl=0,Xl=0,Zl=null,$l=-1,ec=0;function tc(){return 0!==(6&Al)?Xe():-1!==$l?$l:$l=Xe()}function nc(e){return 0===(1&e.mode)?1:0!==(2&Al)&&0!==Rl?Rl&-Rl:null!==ms.transition?(0===ec&&(ec=mt()),ec):0!==(e=wt)?e:e=void 0===(e=window.event)?16:Jt(e.type)}function rc(e,t,n,r){if(50<Xl)throw Xl=0,Zl=null,Error(s(185));vt(e,n,r),0!==(2&Al)&&e===Cl||(e===Cl&&(0===(2&Al)&&(Fl|=n),4===jl&&lc(e,Rl)),ic(e,r),1===n&&0===Al&&0===(1&t.mode)&&(ql=Xe()+500,Ui&&zi()))}function ic(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var a=31-at(s),o=1<<a,l=i[a];-1===l?0!==(o&n)&&0===(o&r)||(i[a]=ft(o,t)):l<=t&&(e.expiredLanes|=o),s&=~o}}(e,t);var r=dt(e,e===Cl?Rl:0);if(0===r)null!==n&&We(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&We(n),1===t)0===e.tag?function(e){Ui=!0,Bi(e)}(cc.bind(null,e)):Bi(cc.bind(null,e)),ai((function(){0===(6&Al)&&zi()})),n=null;else{switch(bt(r)){case 1:n=$e;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Cc(n,sc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function sc(e,t){if($l=-1,ec=0,0!==(6&Al))throw Error(s(327));var n=e.callbackNode;if(Ec()&&e.callbackNode!==n)return null;var r=dt(e,e===Cl?Rl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=vc(e,r);else{t=r;var i=Al;Al|=2;var a=mc();for(Cl===e&&Rl===t||(Gl=null,ql=Xe()+500,fc(e,t));;)try{wc();break}catch(l){pc(e,l)}_s(),xl.current=a,Al=i,null!==Dl?t=0:(Cl=null,Rl=0,t=jl)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=ac(e,i))),1===t)throw n=Ll,fc(e,0),lc(e,r),ic(e,Xe()),n;if(6===t)lc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!or(s(),i))return!1}catch(o){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=vc(e,r))&&(0!==(a=pt(e))&&(r=a,t=ac(e,a))),1===t))throw n=Ll,fc(e,0),lc(e,r),ic(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(s(345));case 2:case 5:Ic(e,Bl,Gl);break;case 3:if(lc(e,r),(130023424&r)===r&&10<(t=zl+500-Xe())){if(0!==dt(e,0))break;if(((i=e.suspendedLanes)&r)!==r){tc(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(Ic.bind(null,e,Bl,Gl),t);break}Ic(e,Bl,Gl);break;case 4:if(lc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-at(r);a=1<<o,(o=t[o])>i&&(i=o),r&=~a}if(r=i,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Sl(r/1960))-r)){e.timeoutHandle=ri(Ic.bind(null,e,Bl,Gl),r);break}Ic(e,Bl,Gl);break;default:throw Error(s(329))}}}return ic(e,Xe()),e.callbackNode===n?sc.bind(null,e):null}function ac(e,t){var n=Vl;return e.current.memoizedState.isDehydrated&&(fc(e,t).flags|=256),2!==(e=vc(e,t))&&(t=Bl,Bl=n,null!==t&&oc(t)),e}function oc(e){null===Bl?Bl=e:Bl.push.apply(Bl,e)}function lc(e,t){for(t&=~Ul,t&=~Fl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),r=1<<n;e[n]=-1,t&=~r}}function cc(e){if(0!==(6&Al))throw Error(s(327));Ec();var t=dt(e,0);if(0===(1&t))return ic(e,Xe()),null;var n=vc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ac(e,r))}if(1===n)throw n=Ll,fc(e,0),lc(e,t),ic(e,Xe()),n;if(6===n)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ic(e,Bl,Gl),ic(e,Xe()),null}function uc(e,t){var n=Al;Al|=1;try{return e(t)}finally{0===(Al=n)&&(ql=Xe()+500,Ui&&zi())}}function hc(e){null!==Yl&&0===Yl.tag&&0===(6&Al)&&Ec();var t=Al;Al|=1;var n=Nl.transition,r=wt;try{if(Nl.transition=null,wt=1,e)return e()}finally{wt=r,Nl.transition=n,0===(6&(Al=t))&&zi()}}function dc(){Pl=Ol.current,Si(Ol)}function fc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Dl)for(n=Dl.return;null!==n;){var r=n;switch(ts(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Pi();break;case 3:ia(),Si(Ai),Si(Ni),ua();break;case 5:aa(r);break;case 4:ia();break;case 13:case 19:Si(oa);break;case 10:Is(r.type._context);break;case 22:case 23:dc()}n=n.return}if(Cl=e,Dl=e=Oc(e.current,null),Rl=Pl=t,jl=0,Ll=null,Ul=Fl=Ml=0,Bl=Vl=null,null!==xs){for(t=0;t<xs.length;t++)if(null!==(r=(n=xs[t]).interleaved)){n.interleaved=null;var i=r.next,s=n.pending;if(null!==s){var a=s.next;s.next=i,r.next=a}n.pending=r}xs=null}return e}function pc(e,t){for(;;){var n=Dl;try{if(_s(),ha.current=so,va){for(var r=pa.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}va=!1}if(fa=0,ga=ma=pa=null,ya=!1,wa=0,Tl.current=null,null===n||null===n.return){jl=1,Ll=t,Dl=null;break}e:{var a=e,o=n.return,l=n,c=t;if(t=Rl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,h=l,d=h.tag;if(0===(1&h.mode)&&(0===d||11===d||15===d)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=vo(o);if(null!==p){p.flags&=-257,yo(p,o,l,0,t),1&p.mode&&go(a,u,t),c=u;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0===(1&t)){go(a,u,t),gc();break e}c=Error(s(426))}else if(is&&1&l.mode){var v=vo(o);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),yo(v,o,l,0,t),ps(co(c,l));break e}}a=c=co(c,l),4!==jl&&(jl=2),null===Vl?Vl=[a]:Vl.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,Ls(a,po(0,c,t));break e;case 1:l=c;var y=a.type,w=a.stateNode;if(0===(128&a.flags)&&("function"===typeof y.getDerivedStateFromError||null!==w&&"function"===typeof w.componentDidCatch&&(null===Ql||!Ql.has(w)))){a.flags|=65536,t&=-t,a.lanes|=t,Ls(a,mo(a,l,t));break e}}a=a.return}while(null!==a)}_c(n)}catch(b){t=b,Dl===n&&null!==n&&(Dl=n=n.return);continue}break}}function mc(){var e=xl.current;return xl.current=so,null===e?so:e}function gc(){0!==jl&&3!==jl&&2!==jl||(jl=4),null===Cl||0===(268435455&Ml)&&0===(268435455&Fl)||lc(Cl,Rl)}function vc(e,t){var n=Al;Al|=2;var r=mc();for(Cl===e&&Rl===t||(Gl=null,fc(e,t));;)try{yc();break}catch(i){pc(e,i)}if(_s(),Al=n,xl.current=r,null!==Dl)throw Error(s(261));return Cl=null,Rl=0,jl}function yc(){for(;null!==Dl;)bc(Dl)}function wc(){for(;null!==Dl&&!Ye();)bc(Dl)}function bc(e){var t=kl(e.alternate,e,Pl);e.memoizedProps=e.pendingProps,null===t?_c(e):Dl=t,Tl.current=null}function _c(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Wo(n,t,Pl)))return void(Dl=n)}else{if(null!==(n=Yo(n,t)))return n.flags&=32767,void(Dl=n);if(null===e)return jl=6,void(Dl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Dl=t);Dl=t=e}while(null!==t);0===jl&&(jl=5)}function Ic(e,t,n){var r=wt,i=Nl.transition;try{Nl.transition=null,wt=1,function(e,t,n,r){do{Ec()}while(null!==Yl);if(0!==(6&Al))throw Error(s(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-at(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}(e,a),e===Cl&&(Dl=Cl=null,Rl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Wl||(Wl=!0,Cc(tt,(function(){return Ec(),null}))),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=Nl.transition,Nl.transition=null;var o=wt;wt=1;var l=Al;Al|=4,Tl.current=null,function(e,t){if(ei=Gt,fr(e=dr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(_){n=null;break e}var o=0,l=-1,c=-1,u=0,h=0,d=e,f=null;t:for(;;){for(var p;d!==n||0!==i&&3!==d.nodeType||(l=o+i),d!==a||0!==r&&3!==d.nodeType||(c=o+r),3===d.nodeType&&(o+=d.nodeValue.length),null!==(p=d.firstChild);)f=d,d=p;for(;;){if(d===e)break t;if(f===n&&++u===i&&(l=o),f===a&&++h===r&&(c=o),null!==(p=d.nextSibling))break;f=(d=f).parentNode}d=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Gt=!1,$o=t;null!==$o;)if(e=(t=$o).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,$o=e;else for(;null!==$o;){t=$o;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,v=m.memoizedState,y=t.stateNode,w=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:gs(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(s(163))}}catch(_){Sc(t,t.return,_)}if(null!==(e=t.sibling)){e.return=t.return,$o=e;break}$o=t.return}m=nl,nl=!1}(e,n),vl(n,e),pr(ti),Gt=!!ei,ti=ei=null,e.current=n,wl(n,e,i),Je(),Al=l,wt=o,Nl.transition=a}else e.current=n;if(Wl&&(Wl=!1,Yl=e,Jl=i),a=e.pendingLanes,0===a&&(Ql=null),function(e){if(st&&"function"===typeof st.onCommitFiberRoot)try{st.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ic(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Kl)throw Kl=!1,e=Hl,Hl=null,e;0!==(1&Jl)&&0!==e.tag&&Ec(),a=e.pendingLanes,0!==(1&a)?e===Zl?Xl++:(Xl=0,Zl=e):Xl=0,zi()}(e,t,n,r)}finally{Nl.transition=i,wt=r}return null}function Ec(){if(null!==Yl){var e=bt(Jl),t=Nl.transition,n=wt;try{if(Nl.transition=null,wt=16>e?16:e,null===Yl)var r=!1;else{if(e=Yl,Yl=null,Jl=0,0!==(6&Al))throw Error(s(331));var i=Al;for(Al|=4,$o=e.current;null!==$o;){var a=$o,o=a.child;if(0!==(16&$o.flags)){var l=a.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for($o=u;null!==$o;){var h=$o;switch(h.tag){case 0:case 11:case 15:rl(8,h,a)}var d=h.child;if(null!==d)d.return=h,$o=d;else for(;null!==$o;){var f=(h=$o).sibling,p=h.return;if(al(h),h===u){$o=null;break}if(null!==f){f.return=p,$o=f;break}$o=p}}}var m=a.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}$o=a}}if(0!==(2064&a.subtreeFlags)&&null!==o)o.return=a,$o=o;else e:for(;null!==$o;){if(0!==(2048&(a=$o).flags))switch(a.tag){case 0:case 11:case 15:rl(9,a,a.return)}var y=a.sibling;if(null!==y){y.return=a.return,$o=y;break e}$o=a.return}}var w=e.current;for($o=w;null!==$o;){var b=(o=$o).child;if(0!==(2064&o.subtreeFlags)&&null!==b)b.return=o,$o=b;else e:for(o=w;null!==$o;){if(0!==(2048&(l=$o).flags))try{switch(l.tag){case 0:case 11:case 15:il(9,l)}}catch(I){Sc(l,l.return,I)}if(l===o){$o=null;break e}var _=l.sibling;if(null!==_){_.return=l.return,$o=_;break e}$o=l.return}}if(Al=i,zi(),st&&"function"===typeof st.onPostCommitFiberRoot)try{st.onPostCommitFiberRoot(it,e)}catch(I){}r=!0}return r}finally{wt=n,Nl.transition=t}}return!1}function kc(e,t,n){e=Os(e,t=po(0,t=co(n,t),1),1),t=tc(),null!==e&&(vt(e,1,t),ic(e,t))}function Sc(e,t,n){if(3===e.tag)kc(e,e,n);else for(;null!==t;){if(3===t.tag){kc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ql||!Ql.has(r))){t=Os(t,e=mo(t,e=co(n,e),1),1),e=tc(),null!==t&&(vt(t,1,e),ic(t,e));break}}t=t.return}}function xc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tc(),e.pingedLanes|=e.suspendedLanes&n,Cl===e&&(Rl&n)===n&&(4===jl||3===jl&&(130023424&Rl)===Rl&&500>Xe()-zl?fc(e,0):Ul|=n),ic(e,t)}function Tc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=tc();null!==(e=As(e,t))&&(vt(e,t,n),ic(e,n))}function Nc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Tc(e,n)}function Ac(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(s(314))}null!==r&&r.delete(t),Tc(e,n)}function Cc(e,t){return Qe(e,t)}function Dc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rc(e,t,n,r){return new Dc(e,t,n,r)}function Pc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Oc(e,t){var n=e.alternate;return null===n?((n=Rc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function jc(e,t,n,r,i,a){var o=2;if(r=e,"function"===typeof e)Pc(e)&&(o=1);else if("string"===typeof e)o=5;else e:switch(e){case E:return Lc(n.children,i,a,t);case k:o=8,i|=8;break;case S:return(e=Rc(12,n,t,2|i)).elementType=S,e.lanes=a,e;case A:return(e=Rc(13,n,t,i)).elementType=A,e.lanes=a,e;case C:return(e=Rc(19,n,t,i)).elementType=C,e.lanes=a,e;case P:return Mc(n,i,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case x:o=10;break e;case T:o=9;break e;case N:o=11;break e;case D:o=14;break e;case R:o=16,r=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Rc(o,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Lc(e,t,n,r){return(e=Rc(7,e,r,t)).lanes=n,e}function Mc(e,t,n,r){return(e=Rc(22,e,r,t)).elementType=P,e.lanes=n,e.stateNode={isHidden:!1},e}function Fc(e,t,n){return(e=Rc(6,e,null,t)).lanes=n,e}function Uc(e,t,n){return(t=Rc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Vc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Bc(e,t,n,r,i,s,a,o,l){return e=new Vc(e,t,n,o,l),1===t?(t=1,!0===s&&(t|=8)):t=0,s=Rc(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ds(s),e}function zc(e){if(!e)return Ti;e:{if(ze(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ri(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var n=e.type;if(Ri(n))return ji(e,n,t)}return t}function qc(e,t,n,r,i,s,a,o,l){return(e=Bc(n,r,!0,e,0,s,0,o,l)).context=zc(null),n=e.current,(s=Ps(r=tc(),i=nc(n))).callback=void 0!==t&&null!==t?t:null,Os(n,s,i),e.current.lanes=i,vt(e,i,r),ic(e,r),e}function Gc(e,t,n,r){var i=t.current,s=tc(),a=nc(i);return n=zc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Ps(s,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Os(i,t,a))&&(rc(e,i,a,s),js(e,i,a)),a}function Kc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Hc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Qc(e,t){Hc(e,t),(e=e.alternate)&&Hc(e,t)}kl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ai.current)bo=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bo=!1,function(e,t,n){switch(t.tag){case 3:Co(t),fs();break;case 5:sa(t);break;case 1:Ri(t.type)&&Li(t);break;case 4:ra(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;xi(vs,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(xi(oa,1&oa.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Fo(e,t,n):(xi(oa,1&oa.current),null!==(e=Ko(e,t,n))?e.sibling:null);xi(oa,1&oa.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return qo(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),xi(oa,oa.current),r)break;return null;case 22:case 23:return t.lanes=0,So(e,t,n)}return Ko(e,t,n)}(e,t,n);bo=0!==(131072&e.flags)}else bo=!1,is&&0!==(1048576&t.flags)&&$i(t,Hi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Go(e,t),e=t.pendingProps;var i=Di(t,Ni.current);ks(t,n),i=Ea(null,t,r,e,i,n);var a=ka();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ri(r)?(a=!0,Li(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Ds(t),i.updater=Bs,t.stateNode=i,i._reactInternals=t,Ks(t,r,e,n),t=Ao(null,t,r,!0,a,n)):(t.tag=0,is&&a&&es(t),_o(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Go(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Pc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===N)return 11;if(e===D)return 14}return 2}(r),e=gs(r,e),i){case 0:t=To(null,t,r,e,n);break e;case 1:t=No(null,t,r,e,n);break e;case 11:t=Io(null,t,r,e,n);break e;case 14:t=Eo(null,t,r,gs(r.type,e),n);break e}throw Error(s(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,To(e,t,r,i=t.elementType===r?i:gs(r,i),n);case 1:return r=t.type,i=t.pendingProps,No(e,t,r,i=t.elementType===r?i:gs(r,i),n);case 3:e:{if(Co(t),null===e)throw Error(s(387));r=t.pendingProps,i=(a=t.memoizedState).element,Rs(e,t),Ms(t,r,null,n);var o=t.memoizedState;if(r=o.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Do(e,t,r,n,i=co(Error(s(423)),t));break e}if(r!==i){t=Do(e,t,r,n,i=co(Error(s(424)),t));break e}for(rs=ci(t.stateNode.containerInfo.firstChild),ns=t,is=!0,ss=null,n=Xs(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fs(),r===i){t=Ko(e,t,n);break e}_o(e,t,r,n)}t=t.child}return t;case 5:return sa(t),null===e&&cs(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,o=i.children,ni(r,i)?o=null:null!==a&&ni(r,a)&&(t.flags|=32),xo(e,t),_o(e,t,o,n),t.child;case 6:return null===e&&cs(t),null;case 13:return Fo(e,t,n);case 4:return ra(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Js(t,null,r,n):_o(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Io(e,t,r,i=t.elementType===r?i:gs(r,i),n);case 7:return _o(e,t,t.pendingProps,n),t.child;case 8:case 12:return _o(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value,xi(vs,r._currentValue),r._currentValue=o,null!==a)if(or(a.value,o)){if(a.children===i.children&&!Ai.current){t=Ko(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var l=a.dependencies;if(null!==l){o=a.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===a.tag){(c=Ps(-1,n&-n)).tag=2;var u=a.updateQueue;if(null!==u){var h=(u=u.shared).pending;null===h?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}a.lanes|=n,null!==(c=a.alternate)&&(c.lanes|=n),Es(a.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===a.tag)o=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(o=a.return))throw Error(s(341));o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),Es(o,n,t),o=a.sibling}else o=a.child;if(null!==o)o.return=a;else for(o=a;null!==o;){if(o===t){o=null;break}if(null!==(a=o.sibling)){a.return=o.return,o=a;break}o=o.return}a=o}_o(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,ks(t,n),r=r(i=Ss(i)),t.flags|=1,_o(e,t,r,n),t.child;case 14:return i=gs(r=t.type,t.pendingProps),Eo(e,t,r,i=gs(r.type,i),n);case 15:return ko(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:gs(r,i),Go(e,t),t.tag=1,Ri(r)?(e=!0,Li(t)):e=!1,ks(t,n),qs(t,r,i),Ks(t,r,i,n),Ao(null,t,r,!0,e,n);case 19:return qo(e,t,n);case 22:return So(e,t,n)}throw Error(s(156,t.tag))};var Wc="function"===typeof reportError?reportError:function(e){console.error(e)};function Yc(e){this._internalRoot=e}function Jc(e){this._internalRoot=e}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Zc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function $c(){}function eu(e,t,n,r,i){var s=n._reactRootContainer;if(s){var a=s;if("function"===typeof i){var o=i;i=function(){var e=Kc(a);o.call(e)}}Gc(t,a,e,i)}else a=function(e,t,n,r,i){if(i){if("function"===typeof r){var s=r;r=function(){var e=Kc(a);s.call(e)}}var a=qc(t,r,e,0,null,!1,0,"",$c);return e._reactRootContainer=a,e[pi]=a.current,zr(8===e.nodeType?e.parentNode:e),hc(),a}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var o=r;r=function(){var e=Kc(l);o.call(e)}}var l=Bc(e,0,!1,null,0,!1,0,"",$c);return e._reactRootContainer=l,e[pi]=l.current,zr(8===e.nodeType?e.parentNode:e),hc((function(){Gc(t,l,n,r)})),l}(n,t,e,i,r);return Kc(a)}Jc.prototype.render=Yc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));Gc(e,t,null,null)},Jc.prototype.unmount=Yc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;hc((function(){Gc(null,e,null,null)})),t[pi]=null}},Jc.prototype.unstable_scheduleHydration=function(e){if(e){var t=kt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Pt.length&&0!==t&&t<Pt[n].priority;n++);Pt.splice(n,0,e),0===n&&Mt(e)}},_t=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ht(t.pendingLanes);0!==n&&(yt(t,1|n),ic(t,Xe()),0===(6&Al)&&(ql=Xe()+500,zi()))}break;case 13:hc((function(){var t=As(e,1);if(null!==t){var n=tc();rc(t,e,1,n)}})),Qc(e,1)}},It=function(e){if(13===e.tag){var t=As(e,134217728);if(null!==t)rc(t,e,134217728,tc());Qc(e,134217728)}},Et=function(e){if(13===e.tag){var t=nc(e),n=As(e,t);if(null!==n)rc(n,e,t,tc());Qc(e,t)}},kt=function(){return wt},St=function(e,t){var n=wt;try{return wt=e,t()}finally{wt=n}},Ie=function(e,t,n){switch(t){case"input":if(Z(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=_i(r);if(!i)throw Error(s(90));Q(r),Z(r,i)}}}break;case"textarea":se(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ne=uc,Ae=hc;var tu={usingClientEntryPoint:!1,Events:[wi,bi,_i,xe,Te,uc]},nu={findFiberByHostInstance:yi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},ru={bundleType:nu.bundleType,version:nu.version,rendererPackageName:nu.rendererPackageName,rendererConfig:nu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ke(e))?null:e.stateNode},findFiberByHostInstance:nu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var iu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!iu.isDisabled&&iu.supportsFiber)try{it=iu.inject(ru),st=iu}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xc(t))throw Error(s(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:I,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Xc(e))throw Error(s(299));var n=!1,r="",i=Wc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Bc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,zr(8===e.nodeType?e.parentNode:e),new Yc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=Ke(t))?null:e.stateNode},t.flushSync=function(e){return hc(e)},t.hydrate=function(e,t,n){if(!Zc(t))throw Error(s(200));return eu(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Xc(e))throw Error(s(405));var r=null!=n&&n.hydratedSources||null,i=!1,a="",o=Wc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(o=n.onRecoverableError)),t=qc(t,null,e,1,null!=n?n:null,i,0,a,o),e[pi]=t.current,zr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Jc(t)},t.render=function(e,t,n){if(!Zc(t))throw Error(s(200));return eu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Zc(e))throw Error(s(40));return!!e._reactRootContainer&&(hc((function(){eu(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=uc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Zc(n))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return eu(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},250:(e,t,n)=>{"use strict";var r=n(164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},164:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},374:(e,t,n)=>{"use strict";var r=n(791),i=Symbol.for("react.element"),s=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,s={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)a.call(t,r)&&!l.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===s[r]&&(s[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:u,props:s,_owner:o.current}}t.Fragment=s,t.jsx=c,t.jsxs=c},117:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function y(){}function w(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var b=w.prototype=new y;b.constructor=w,m(b,v.prototype),b.isPureReactComponent=!0;var _=Array.isArray,I=Object.prototype.hasOwnProperty,E={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,r){var i,s={},a=null,o=null;if(null!=t)for(i in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(a=""+t.key),t)I.call(t,i)&&!k.hasOwnProperty(i)&&(s[i]=t[i]);var l=arguments.length-2;if(1===l)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===s[i]&&(s[i]=l[i]);return{$$typeof:n,type:e,key:a,ref:o,props:s,_owner:E.current}}function x(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function N(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function A(e,t,i,s,a){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l=!1;if(null===e)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return a=a(l=e),e=""===s?"."+N(l,0):s,_(a)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),A(a,t,i,"",(function(e){return e}))):null!=a&&(x(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,i+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(T,"$&/")+"/")+e)),t.push(a)),1;if(l=0,s=""===s?".":s+":",_(e))for(var c=0;c<e.length;c++){var u=s+N(o=e[c],c);l+=A(o,t,i,u,a)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(o=e.next()).done;)l+=A(o=o.value,t,i,u=s+N(o,c++),a);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function C(e,t,n){if(null==e)return e;var r=[],i=0;return A(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function D(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var R={current:null},P={transition:null},O={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:P,ReactCurrentOwner:E};t.Children={map:C,forEach:function(e,t,n){C(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return C(e,(function(){t++})),t},toArray:function(e){return C(e,(function(e){return e}))||[]},only:function(e){if(!x(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=i,t.Profiler=a,t.PureComponent=w,t.StrictMode=s,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),s=e.key,a=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,o=E.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)I.call(t,c)&&!k.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:n,type:e.type,key:s,ref:a,props:i,_owner:o}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=x,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:D}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=P.transition;P.transition={};try{e()}finally{P.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return R.current.useCallback(e,t)},t.useContext=function(e){return R.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return R.current.useDeferredValue(e)},t.useEffect=function(e,t){return R.current.useEffect(e,t)},t.useId=function(){return R.current.useId()},t.useImperativeHandle=function(e,t,n){return R.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return R.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return R.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return R.current.useMemo(e,t)},t.useReducer=function(e,t,n){return R.current.useReducer(e,t,n)},t.useRef=function(e){return R.current.useRef(e)},t.useState=function(e){return R.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return R.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return R.current.useTransition()},t.version="18.2.0"},791:(e,t,n)=>{"use strict";e.exports=n(117)},184:(e,t,n)=>{"use strict";e.exports=n(374)},813:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<s(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var o=2*(r+1)-1,l=e[o],c=o+1,u=e[c];if(0>s(l,n))c<i&&0>s(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[o]=n,r=o);else{if(!(c<i&&0>s(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],h=1,d=null,f=3,p=!1,m=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,w="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function _(e){if(g=!1,b(e),!m)if(null!==r(c))m=!0,P(I);else{var t=r(u);null!==t&&O(_,t.startTime-e)}}function I(e,n){m=!1,g&&(g=!1,y(x),x=-1),p=!0;var s=f;try{for(b(n),d=r(c);null!==d&&(!(d.expirationTime>n)||e&&!A());){var a=d.callback;if("function"===typeof a){d.callback=null,f=d.priorityLevel;var o=a(d.expirationTime<=n);n=t.unstable_now(),"function"===typeof o?d.callback=o:d===r(c)&&i(c),b(n)}else i(c);d=r(c)}if(null!==d)var l=!0;else{var h=r(u);null!==h&&O(_,h.startTime-n),l=!1}return l}finally{d=null,f=s,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var E,k=!1,S=null,x=-1,T=5,N=-1;function A(){return!(t.unstable_now()-N<T)}function C(){if(null!==S){var e=t.unstable_now();N=e;var n=!0;try{n=S(!0,e)}finally{n?E():(k=!1,S=null)}}else k=!1}if("function"===typeof w)E=function(){w(C)};else if("undefined"!==typeof MessageChannel){var D=new MessageChannel,R=D.port2;D.port1.onmessage=C,E=function(){R.postMessage(null)}}else E=function(){v(C,0)};function P(e){S=e,k||(k=!0,E())}function O(e,n){x=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,P(I))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,s){var a=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?a+s:a:s=a,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:h++,callback:i,priorityLevel:e,startTime:s,expirationTime:o=s+o,sortIndex:-1},s>a?(e.sortIndex=s,n(u,e),null===r(c)&&e===r(u)&&(g?(y(x),x=-1):g=!0,O(_,s-a))):(e.sortIndex=o,n(c,e),m||p||(m=!0,P(I))),e},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},296:(e,t,n)=>{"use strict";e.exports=n(813)},171:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r={}},973:(e,t,n)=>{var r={"./QRCodeComponent":935,"./QRCodeComponent.css":171,"./QRCodeComponent.jsx":935,"./QRCodes/qr10.jpg":449,"./QRCodes/qr100.jpg":5,"./QRCodes/qr10000.jpg":493,"./QRCodes/qr2000.jpg":565,"./QRCodes/qr25000.jpg":663,"./QRCodes/qr5.jpg":242,"./QRCodes/qr50.jpg":362,"./QRCodes/qr500.jpg":338,"./QRCodes/qr5000.jpg":93,"./QRCodes/qrOther.jpg":22};function i(e){var t=s(e);return n(t)}function s(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}i.keys=function(){return Object.keys(r)},i.resolve=s,e.exports=i,i.id=973},449:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/qr10.b8dc782245d49c7d873c.jpg"},5:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/qr100.24480dab00ddc0cdc456.jpg"},493:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/qr10000.ca7af7a3105887b90c95.jpg"},565:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/qr2000.d55fd6eccfe3a1488de8.jpg"},663:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/qr25000.bd549655b5fbdd3e94be.jpg"},242:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/qr5.d7b180f4124d023ef17d.jpg"},362:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/qr50.a247c81c070107658f3b.jpg"},338:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/qr500.21a415fc366ca116baf9.jpg"},93:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/qr5000.da6c042eeb145d1dbd3c.jpg"},22:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/qrOther.052c4324cce57e69000e.jpg"}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,n),s.exports}n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/thedivinecaster/",(()=>{"use strict";var e={};n.r(e),n.d(e,{FirebaseError:()=>Q,SDK_VERSION:()=>Je,_DEFAULT_ENTRY_NAME:()=>Fe,_addComponent:()=>ze,_addOrOverwriteComponent:()=>qe,_apps:()=>Ve,_clearComponents:()=>Qe,_components:()=>Be,_getProvider:()=>Ke,_registerComponent:()=>Ge,_removeServiceInstance:()=>He,deleteApp:()=>et,getApp:()=>Ze,getApps:()=>$e,initializeApp:()=>Xe,onLog:()=>nt,registerVersion:()=>tt,setLogLevel:()=>rt});var t=n(791),r=n(250);const i=n.p+"static/media/logo.284e497368cb42ac3496.png",s=n.p+"static/media/contact.b317b6debe0cf1a03044.png";var a=n(184);const o=e=>{let{setCurrentPage:n}=e;const[r,o]=(0,t.useState)("home"),[l,c]=(0,t.useState)(!1),u=e=>{n(e),o(e)};return(0,a.jsxs)("nav",{className:"navbar",children:[(0,a.jsx)("a",{href:"./",children:(0,a.jsx)("img",{src:i,alt:"logo",className:"logo"})}),(0,a.jsxs)("div",{className:"desktopMenu",children:[(0,a.jsx)("button",{onClick:()=>u("home"),className:"desktopMenuListItem item ".concat("home"===r?"active":""),children:"Home"}),(0,a.jsx)("button",{onClick:()=>u("about"),className:"desktopMenuListItem item ".concat("about"===r?"active":""),children:"About"}),(0,a.jsx)("button",{onClick:()=>u("trending"),className:"desktopMenuListItem item ".concat("trending"===r?"active":""),children:"Trending"}),(0,a.jsx)("button",{onClick:()=>u("tdcstores"),className:"desktopMenuListItem item ".concat("tdcstores"===r?"active":""),children:"TDC Stores"}),(0,a.jsx)("button",{onClick:()=>u("donate"),className:"desktopMenuListItem item ".concat("donate"===r?"active":""),children:"Donate"}),(0,a.jsx)("button",{onClick:()=>u("login"),className:"desktopMenuListItem item ".concat("login"===r?"active":""),children:"Data"}),(0,a.jsx)("button",{onClick:()=>u("admin-panel-login"),className:"desktopMenuListItem item ".concat("admin-panel-login"===r?"active":""),children:(0,a.jsx)("i",{className:"fas fa-user-shield",style:{color:"red"}})})]}),(0,a.jsx)("button",{onClick:()=>u("contact"),className:"".concat(""," contact-me-button desktopMenu"),children:(0,a.jsxs)("span",{children:[(0,a.jsx)("img",{src:s,alt:"",className:"desktopMenuImg"}),"\xa0Contact Me"]})}),(0,a.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEUAAAAzCAYAAADB9sX1AAAAAXNSR0IArs4c6QAAAfNJREFUaAXtmjFSwlAQhndfGCEdpWUQevEGcAO8AaWdegRv4BH0BOgNwgnMAXSMpR02oE6SdRMpoEjYN0PB4+3OZAbebl72/3iQ4X9B4KCf/gQKvAaiISB2yzGvgmjBemNo5Xd4kia4BjLzCkKd2BIO5heGV8hNXY1349W3pDVFWg3IO/HNguemOe9ntoQy91N6rerYgKH72rR3CfoCyB4Mtt+eGMwl6+cVUw76GKyb6BmCfIRhmvpIQDUrASWgBJSAElACSkAJKAEloASUABNAWwr0fcYGt5nwP+qIT+fD8ah8WUxYTwqd/BYxXVhBoWV/xm4/AznSKAGFeS+QyqPfaAgUHLchhdiBHD7lHi0FkRSg03UFjuRQCug6LVbaPG9zyKEAptJ5Ha+LLX9oBwnfr84dF72j/axnsVJ4LswmlcG7Y1o30/TBfY/VuHbz09OulYASUAJKQAkoASWgBJSAElACeyFgZR3YXPHf4MahE+Z26c0aiqFdPFob11IotBy8sO/CQBwLggTCbCw2rqXyaNWfsuN/Ja0/qDqEUzvjWto9ObhCNrVZGdebJza/jprTB561M66FYrDcbXM4iJK9331oFUUArXeHsYztjGuB0sr4rZ7gdu3pbe6X+8bw1W6LQ8Bkq2S9aqKtwYN8k6WbLv4f6COL1QPVqnwAAAAASUVORK5CYII=",alt:"Menu",className:"mobMenu",onClick:()=>c(!l)}),(0,a.jsxs)("div",{className:"navMenu",style:{display:l?"flex":"none"},children:[(0,a.jsx)("button",{onClick:()=>u("home"),className:"listItem ".concat("home"===r?"active":""),children:"Home"}),(0,a.jsx)("button",{onClick:()=>u("about"),className:"listItem ".concat("about"===r?"active":""),children:"About"}),(0,a.jsx)("button",{onClick:()=>u("trending"),className:"listItem ".concat("trending"===r?"active":""),children:"Trending"}),(0,a.jsx)("button",{onClick:()=>u("tdcstores"),className:"listItem ".concat("tdcstores"===r?"active":""),children:"TDC Stores"}),(0,a.jsx)("button",{onClick:()=>u("donate"),className:"listItem ".concat("donate"===r?"active":""),children:"Donate"}),(0,a.jsx)("button",{onClick:()=>u("login"),className:"listItem ".concat("login"===r?"active":""),children:"Data"}),(0,a.jsx)("button",{onClick:()=>u("admin-panel-login"),className:"listItem ".concat("admin-panel-login"===r?"active":""),children:(0,a.jsx)("i",{className:"fas fa-user-shield",style:{color:"red"}})})]})]})},l=n.p+"static/media/channelHomeImg.b1382a4334c65c02275e.png",c=()=>(0,a.jsx)("div",{className:"home",children:(0,a.jsxs)("div",{className:"home-container",children:[(0,a.jsxs)("ul",{className:"allChannelList",children:[(0,a.jsx)("li",{children:(0,a.jsx)("a",{href:"https://www.youtube.com/thedivinecaster",rel:"noopener noreferrer",className:"listItem box glowing",children:"TheDIVINEcasteR"})}),(0,a.jsx)("li",{children:(0,a.jsx)("a",{href:"https://www.youtube.com/@divinesgaming",rel:"noopener noreferrer",className:"listItem box glowing",children:"DIVINES GAMING"})}),(0,a.jsx)("li",{children:(0,a.jsx)("a",{href:"https://www.youtube.com/@divinesmusicheart3317",rel:"noopener noreferrer",className:"listItem box glowing",children:"DIVINES MUSIC HEART"})}),(0,a.jsx)("li",{children:(0,a.jsx)("a",{href:"https://www.youtube.com/@divinespcsupport3960",rel:"noopener noreferrer",className:"listItem box glowing",onClick:e=>{e.preventDefault()},children:"DIVINES PC SUPPORT"})}),(0,a.jsx)("li",{children:(0,a.jsx)("a",{href:"https://www.youtube.com/@divinescookinghub3323",rel:"noopener noreferrer",className:"listItem box glowing",onClick:e=>{e.preventDefault()},children:"DIVINES COOKING HUB"})})]}),(0,a.jsx)("div",{className:"channelHomeImage",children:(0,a.jsx)("div",{className:"tester",children:(0,a.jsx)("img",{src:l,alt:""})})})]})}),u=()=>(0,a.jsxs)("span",{className:"fa fa-stack fa-lg",style:{fontSize:"0.4em",verticalAlign:"center"},children:[(0,a.jsx)("i",{className:"fa fa-certificate fa-stack-2x",style:{color:"royalblue"}}),(0,a.jsx)("i",{className:"fa fa-check fa-stack-1x fa-inverse"})]}),h=n.p+"static/media/profile-picture.3d9b7650193305c2251b.jpg",d=e=>{let{data:t}=e;return(0,a.jsxs)("div",{className:"social-item",children:[(0,a.jsxs)("div",{className:"social-item-box",children:[(0,a.jsxs)("div",{className:"social-item-title",children:[(0,a.jsx)("i",{className:"fa-brands fa-instagram",style:{color:"purple"}}),"thedivinecaster",(0,a.jsx)(u,{})]}),(0,a.jsxs)("div",{className:"social-item-pic-counter",children:[(0,a.jsx)("img",{src:h,alt:"",className:"profile-picture"}),(0,a.jsxs)("div",{className:"follow-counter",children:[(0,a.jsxs)("div",{className:"social-item-counter-section",children:[(0,a.jsx)("div",{className:"social-item-counter-feed",children:(0,a.jsxs)("a",{href:"https://www.instagram.com/thedivinecaster/",className:"channel-link",target:"_blank",rel:"noreferrer noopener",children:[(0,a.jsx)("div",{className:"social-item-counter-value",children:t.posts}),(0,a.jsx)("div",{className:"social-item-counter-title",children:"Posts"})]})}),(0,a.jsx)("div",{className:"social-item-counter-feed",children:(0,a.jsxs)("a",{href:"https://www.instagram.com/thedivinecaster/followers/",className:"channel-link",target:"_blank",rel:"noreferrer noopener",children:[(0,a.jsx)("div",{className:"social-item-counter-value",children:t.followers}),(0,a.jsx)("div",{className:"social-item-counter-title",children:"Followers"})]})}),(0,a.jsx)("div",{className:"social-item-counter-feed",children:(0,a.jsxs)("a",{href:"https://www.instagram.com/thedivinecaster/following/",className:"channel-link",target:"_blank",rel:"noreferrer noopener",children:[(0,a.jsx)("div",{className:"social-item-counter-value",children:t.following}),(0,a.jsx)("div",{className:"social-item-counter-title",children:"Following"})]})})]}),(0,a.jsx)("a",{href:"https://www.instagram.com/thedivinecaster",target:"_blank",className:"follow-button-text follow-button",rel:"noreferrer noopener",children:"Follow"})]})]}),(0,a.jsx)("div",{className:"social-item-name",children:"TheDIVINEcasteR"}),(0,a.jsxs)("div",{className:"threads",children:[(0,a.jsx)("i",{className:"fa-brands fa-threads"}),(0,a.jsx)("a",{href:"https://www.threads.net/@thedivinecaster",className:"channel-link",target:"_blank",rel:"noreferrer noopener",children:"thedivinecaster"})]}),(0,a.jsx)("div",{className:"role",children:"Video creater"}),(0,a.jsxs)("div",{className:"social-item-bio",children:[(0,a.jsx)("div",{className:"bio-line",children:"#youtuber #gamer"}),(0,a.jsxs)("div",{className:"bio-line",children:["YT: ",(0,a.jsx)("a",{href:"https://www.youtube.com/thedivinecaster",target:"_blank",className:"channel-link",rel:"noreferrer noopener",children:"TheDIVINEcasteR"})]}),(0,a.jsxs)("div",{className:"bio-line",children:["YT: ",(0,a.jsx)("a",{href:"https://www.youtube.com/@divinesgaming",target:"_blank",className:"channel-link",rel:"noreferrer noopener",children:"DIVINES GAMING"})]}),(0,a.jsx)("div",{className:"bio-line",children:"Influencer | Tech Talks | Unboxing & Review"}),(0,a.jsxs)("div",{className:"followed-by",children:["Followed by",(0,a.jsxs)("span",{className:"followed-by-name",children:[(0,a.jsx)("a",{href:"https://www.instagram.com/sohail21400",target:"_blank",rel:"noopener noreferrer",children:" sohail21400"}),",",(0,a.jsx)("a",{href:"https://www.instagram.com/__mithun___k ",target:"_blank",rel:"noopener noreferrer",children:" mithun_k"})]})," and 39 others"]})]})]}),(0,a.jsx)("div",{className:"join-social-media-button",children:(0,a.jsx)("a",{href:"https://instagram.com/thedivinecaster",target:"_blank",rel:"noopener noreferrer",className:"follow-instagram-item-button join-social-media-item-button",children:(0,a.jsx)("span",{className:"follow-instagram-button-header",children:"Follow Now"})})})]})},f=e=>{let{data:t}=e;return(0,a.jsxs)("div",{className:"social-item",children:[(0,a.jsxs)("div",{className:"social-item-box",children:[(0,a.jsxs)("div",{className:"social-item-title",children:[(0,a.jsx)("i",{className:"fa-brands fa-youtube",style:{color:"red"}}),"TheDIVINEcasteR",(0,a.jsx)(u,{})]}),(0,a.jsxs)("div",{className:"social-item-pic-counter",children:[(0,a.jsx)("img",{src:h,alt:"",className:"profile-picture"}),(0,a.jsxs)("div",{className:"channel-data",children:[(0,a.jsx)("div",{className:"channel-name",children:"TheDIVINEcasteR"}),(0,a.jsx)("div",{className:"channel-id",children:(0,a.jsx)("a",{href:"http://www.youtube.com/thedivinecaster",target:"_blank",rel:"noopener noreferrer",children:"@thedivinecaster"})}),(0,a.jsxs)("div",{className:"channel-status",children:[(0,a.jsxs)("span",{className:"subscriber-count",children:[t.subscribers," Subscribers"]}),(0,a.jsx)("span",{children:" \u2027 "}),(0,a.jsxs)("span",{className:"video-count",children:[t.videos," Videos"]})]})]})]}),(0,a.jsxs)("div",{className:"channel-details",children:[(0,a.jsxs)("div",{className:"channel-details-item",children:[(0,a.jsx)("i",{className:"fas fa-globe"}),(0,a.jsx)("a",{href:"http://www.youtube.com/TheDIVINEcasteR",target:"_blank",rel:"noopener noreferrer",children:"youtube.com/TheDIVINEcasteR"})]}),(0,a.jsxs)("div",{className:"channel-details-item",children:[(0,a.jsx)("i",{className:"fa fa-users","aria-hidden":"true"}),t.subscribers," subscribers"]}),(0,a.jsxs)("div",{className:"channel-details-item",children:[(0,a.jsx)("i",{className:"fa fa-video-camera"}),t.videos," videos"]}),(0,a.jsxs)("div",{className:"channel-details-item",children:[(0,a.jsx)("i",{className:"fa fa-arrow-up"}),t.views," views"]}),(0,a.jsxs)("div",{className:"channel-details-item",children:[(0,a.jsx)("i",{className:"fa fa-info-circle"}),"Joined 1 Feb 2017"]}),(0,a.jsxs)("div",{className:"channel-details-item",children:[(0,a.jsx)("i",{className:"fa fa-globe"}),"Kerala, India"]})]})]}),(0,a.jsx)("div",{className:"join-social-media-button",children:(0,a.jsx)("a",{href:"https://www.youtube.com/thedivinecaster",target:"_blank",rel:"noopener noreferrer",className:"subscribe-youtube-item-button join-social-media-item-button",children:(0,a.jsx)("span",{className:"subscribe-youtube-button-header",children:"Subscribe"})})})]})},p=n.p+"static/media/profile-picture-dg.e931a5ef9ffafc106437.jpg",m=e=>{let{data:t}=e;return(0,a.jsxs)("div",{className:"social-item",children:[(0,a.jsxs)("div",{className:"social-item-box",children:[(0,a.jsxs)("div",{className:"social-item-title",children:[(0,a.jsx)("i",{className:"fa-brands fa-youtube",style:{color:"red"}}),"DIVINES GAMING",(0,a.jsx)(u,{})]}),(0,a.jsxs)("div",{className:"social-item-pic-counter",children:[(0,a.jsx)("img",{src:p,alt:"",className:"profile-picture"}),(0,a.jsxs)("div",{className:"channel-data",children:[(0,a.jsx)("div",{className:"channel-name",children:"DIVINES GAMING"}),(0,a.jsx)("div",{className:"channel-id",children:(0,a.jsx)("a",{href:"https://www.youtube.com/@divinesgaming",target:"_blank",rel:"noopener noreferrer",children:"@divinesgaming"})}),(0,a.jsxs)("div",{className:"channel-status",children:[(0,a.jsxs)("span",{className:"subscriber-count",children:[t.subscribers," Subscribers"]}),(0,a.jsx)("span",{children:" \u2027 "}),(0,a.jsxs)("span",{className:"video-count",children:[t.videos," Videos"]})]})]})]}),(0,a.jsxs)("div",{className:"channel-details",children:[(0,a.jsxs)("div",{className:"channel-details-item",children:[(0,a.jsx)("i",{className:"fas fa-globe"}),(0,a.jsx)("a",{href:"http://www.youtube.com/@divinesgaming",target:"_blank",rel:"noopener noreferrer",children:"youtube.com/@divinesgaming"})]}),(0,a.jsxs)("div",{className:"channel-details-item",children:[(0,a.jsx)("i",{className:"fa fa-users","aria-hidden":"true"}),t.subscribers," subscribers"]}),(0,a.jsxs)("div",{className:"channel-details-item",children:[(0,a.jsx)("i",{className:"fa fa-video-camera"}),t.videos," videos"]}),(0,a.jsxs)("div",{className:"channel-details-item",children:[(0,a.jsx)("i",{className:"fa fa-arrow-up"}),t.views," views"]}),(0,a.jsxs)("div",{className:"channel-details-item",children:[(0,a.jsx)("i",{className:"fa fa-info-circle"}),"Joined 2 Dec 2019"]}),(0,a.jsxs)("div",{className:"channel-details-item",children:[(0,a.jsx)("i",{className:"fa fa-globe"}),"Kerala, India"]})]})]}),(0,a.jsx)("div",{className:"join-social-media-button",children:(0,a.jsx)("a",{href:"https://www.youtube.com/@divinesgaming",target:"_blank",rel:"noopener noreferrer",className:"subscribe-youtube-item-button join-social-media-item-button",children:(0,a.jsx)("span",{className:"subscribe-youtube-button-header",children:"Subscribe"})})})]})},g=e=>{let{data:t}=e;return(0,a.jsx)("div",{className:"social-item",children:(0,a.jsxs)("div",{className:"social-item-box",children:[(0,a.jsxs)("div",{className:"social-item-title",children:[(0,a.jsx)("i",{className:"fa-brands fa-telegram",style:{color:"royalblue"}}),"thedivinecaster",(0,a.jsx)(u,{})]}),(0,a.jsxs)("div",{className:"social-item-pic-counter",children:[(0,a.jsx)("img",{src:h,alt:"",className:"profile-picture"}),(0,a.jsxs)("div",{className:"channel-data",children:[(0,a.jsx)("div",{className:"channel-name",children:"TheDIVINEcasteR"}),(0,a.jsx)("div",{className:"channel-id",children:"Public Channel"})]})]}),(0,a.jsxs)("div",{className:"channel-details",children:[(0,a.jsx)("div",{className:"channel-details-item",children:"Details"}),(0,a.jsx)("div",{className:"channel-details-item",children:(0,a.jsxs)("span",{className:"telegram-inner-item",children:[(0,a.jsxs)("span",{className:"telegram-inner-inner-item",children:[(0,a.jsx)("i",{className:"fa fa-user-plus","aria-hidden":"true"}),"Subscribers"]}),(0,a.jsx)("span",{children:t.subscribers})]})}),(0,a.jsx)("div",{className:"channel-details-item",children:(0,a.jsxs)("span",{className:"telegram-inner-item",children:[(0,a.jsxs)("span",{className:"telegram-inner-inner-item",children:[(0,a.jsx)("i",{className:"fas fa-plus-circle","aria-hidden":"true"}),"Created"]}),(0,a.jsx)("span",{children:"3 Years ago"})]})}),(0,a.jsx)("div",{className:"channel-details-item",children:(0,a.jsxs)("span",{className:"telegram-inner-item",children:[(0,a.jsxs)("span",{className:"telegram-inner-inner-item",children:[(0,a.jsx)("i",{className:"fas fa-user-shield"}),"Administrators"]}),(0,a.jsx)("span",{children:t.admin})]})}),(0,a.jsx)("div",{className:"channel-details-item",children:(0,a.jsxs)("span",{className:"telegram-inner-item",children:[(0,a.jsxs)("span",{className:"telegram-inner-inner-item",children:[(0,a.jsx)("i",{className:"far fa-comments"}),"Total Messages"]}),(0,a.jsx)("span",{children:t.messages})]})}),(0,a.jsx)("div",{className:"channel-details-item",children:(0,a.jsxs)("span",{className:"telegram-inner-item",children:[(0,a.jsxs)("span",{className:"telegram-inner-inner-item",children:[(0,a.jsx)("i",{className:"fa fa-users"}),"Groups"]}),(0,a.jsx)("span",{children:"3"})]})})]}),(0,a.jsx)("div",{className:"join-social-media-button",children:(0,a.jsx)("a",{href:"http://www.t.me/thedivinecastertelegram",target:"_blank",rel:"noopener noreferrer",className:"join-channel-item-button join-social-media-item-button",children:(0,a.jsx)("span",{className:"join-channel-button-header",children:"Join Channel"})})})]})})},v=e=>{let{data:t}=e;return(0,a.jsxs)("div",{className:"social-item",children:[(0,a.jsxs)("div",{className:"social-item-box",children:[(0,a.jsxs)("div",{className:"social-item-title",children:[(0,a.jsx)("i",{className:"fa-brands fa-whatsapp",style:{color:"#25D366"}}),"thedivinecaster",(0,a.jsx)(u,{})]}),(0,a.jsxs)("div",{className:"social-item-pic-counter",children:[(0,a.jsx)("img",{src:h,alt:"",className:"profile-picture"}),(0,a.jsxs)("div",{className:"channel-data",children:[(0,a.jsx)("div",{className:"channel-name",children:"TheDIVINEcasteR"}),(0,a.jsx)("div",{className:"channel-id",children:(0,a.jsx)("a",{href:"https://whatsapp.com/channel/0029VaA8FXd0LKZEC4MqFZ2S",target:"_blank",rel:"noopener noreferrer",children:"@TheDIVINEcasteR"})}),(0,a.jsxs)("div",{className:"channel-status",children:[(0,a.jsx)("span",{className:"subscriber-count",children:"Channel"}),(0,a.jsx)("span",{children:" \u2027 "}),(0,a.jsxs)("span",{className:"video-count",children:[t.followers," followers"]})]})]})]}),(0,a.jsxs)("div",{className:"channel-details",children:[(0,a.jsxs)("div",{className:"channel-details-item",children:[(0,a.jsx)("i",{className:"fa fa-envelope-o"}),(0,a.jsx)("span",{className:"view-email-address",children:(0,a.jsx)("a",{href:"mailto:someone@example.com",target:"_blank",rel:"noopener noreferrer",children:"Send an email"})})]}),(0,a.jsxs)("div",{className:"channel-details-item",children:[(0,a.jsx)("i",{className:"fas fa-globe"}),"Public Channel"]}),(0,a.jsxs)("div",{className:"channel-details-item",children:[(0,a.jsx)("i",{className:"fa fa-users","aria-hidden":"true"}),t.followers," followers"]}),(0,a.jsxs)("div",{className:"channel-details-item",children:[(0,a.jsx)("i",{className:"fa fa-video-camera"}),t.posts," posts"]}),(0,a.jsxs)("div",{className:"channel-details-item",children:[(0,a.jsx)("i",{className:"fa fa-thumbs-up"}),t.likes," likes"]}),(0,a.jsxs)("div",{className:"channel-details-item",children:[(0,a.jsx)("i",{className:"fa fa-globe"}),"Kerala, India"]})]})]}),(0,a.jsx)("div",{className:"join-social-media-button",children:(0,a.jsx)("a",{href:"https://whatsapp.com/channel/0029VaA8FXd0LKZEC4MqFZ2S",target:"_blank",rel:"noopener noreferrer",className:"join-whatsapp-channel-item-button join-social-media-item-button",children:(0,a.jsx)("span",{className:"join-whatsapp-channel-button-header",children:"Join Channel"})})})]})},y=e=>{let{data:t}=e;return(0,a.jsxs)("div",{className:"social-item",children:[(0,a.jsxs)("div",{className:"social-item-box",children:[(0,a.jsxs)("div",{className:"social-item-title",children:[(0,a.jsx)("i",{className:"fa-brands fa-threads",style:{color:"purple"}}),"thedivinecaster",(0,a.jsx)(u,{})]}),(0,a.jsxs)("div",{className:"social-item-pic-counter",children:[(0,a.jsx)("img",{src:h,alt:"",className:"profile-picture"}),(0,a.jsxs)("div",{className:"follow-counter",children:[(0,a.jsxs)("div",{className:"social-item-counter-section",children:[(0,a.jsx)("div",{className:"social-item-counter-feed",children:(0,a.jsxs)("a",{href:"https://www.threads.net/@thedivinecaster/",rel:"noopener noreferrer",className:"channel-link",target:"_blank",children:[(0,a.jsx)("div",{className:"social-item-counter-value",children:t.threads}),(0,a.jsx)("div",{className:"social-item-counter-title",children:"Threads"})]})}),(0,a.jsx)("div",{className:"social-item-counter-feed",children:(0,a.jsxs)("a",{href:"https://www.threads.net/@thedivinecaster/replies",rel:"noopener noreferrer",className:"channel-link",target:"_blank",children:[(0,a.jsx)("div",{className:"social-item-counter-value",children:t.replies}),(0,a.jsx)("div",{className:"social-item-counter-title",children:"Replies"})]})}),(0,a.jsx)("div",{className:"social-item-counter-feed",children:(0,a.jsxs)("a",{href:"https://www.threads.net/@thedivinecaster/reposts",rel:"noopener noreferrer",className:"channel-link",target:"_blank",children:[(0,a.jsx)("div",{className:"social-item-counter-value",children:t.reposts}),(0,a.jsx)("div",{className:"social-item-counter-title",children:"Reposts"})]})})]}),(0,a.jsx)("a",{href:"https://www.instagram.com/thedivinecaster",target:"_blank",rel:"noopener noreferrer",className:"follow-button-text follow-button",style:{background:"#5f0981"},children:"Follow"})]})]}),(0,a.jsx)("div",{className:"social-item-name",children:"TheDIVINEcasteR"}),(0,a.jsxs)("div",{className:"threads",children:[(0,a.jsx)("i",{className:"fa-brands fa-instagram"}),(0,a.jsx)("a",{href:"https://www.instagram.com/thedivinecaster",className:"channel-link",children:"thedivinecaster"})]}),(0,a.jsx)("div",{className:"role",children:"Video creater"}),(0,a.jsxs)("div",{className:"social-item-bio",children:[(0,a.jsx)("div",{className:"bio-line",children:"#youtuber #gamer"}),(0,a.jsxs)("div",{className:"bio-line",children:["YT: ",(0,a.jsx)("a",{href:"https://www.youtube.com/thedivinecaster",target:"_blank",rel:"noopener noreferrer",className:"channel-link",children:"TheDIVINEcasteR"})]}),(0,a.jsxs)("div",{className:"bio-line",children:["YT: ",(0,a.jsx)("a",{href:"https://www.youtube.com/@divinesgaming",target:"_blank",rel:"noopener noreferrer",className:"channel-link",children:"DIVINES GAMING"})]}),(0,a.jsx)("div",{className:"bio-line",children:"Influencer | Tech Talks | Unboxing & Review"}),(0,a.jsx)("div",{className:"bio-line",children:"#Creating Virtual Gaming World"})]})]}),(0,a.jsx)("div",{className:"join-social-media-button",children:(0,a.jsx)("a",{href:"https://whatsapp.com/channel/0029VaA8FXd0LKZEC4MqFZ2S",target:"_blank",rel:"noopener noreferrer",className:"follow-threads-item-button join-social-media-item-button",children:(0,a.jsx)("span",{className:"follow-threads-button-header",children:"Follow Now"})})})]})},w=e=>{let{data:t}=e;return(0,a.jsxs)("div",{className:"social-item",children:[(0,a.jsxs)("div",{className:"social-item-box",children:[(0,a.jsxs)("div",{className:"social-item-title",children:[(0,a.jsx)("i",{className:"fa-brands fa-x-twitter"}),"thedivinecaster",(0,a.jsx)(u,{})]}),(0,a.jsxs)("div",{className:"social-item-pic-counter",children:[(0,a.jsx)("img",{src:h,alt:"",className:"profile-picture"}),(0,a.jsxs)("div",{className:"channel-data",children:[(0,a.jsx)("div",{className:"channel-name",children:"TheDIVINEcasteR"}),(0,a.jsx)("div",{className:"channel-id",children:(0,a.jsx)("a",{href:"https://twitter.com/thedivinecaster",target:"_blank",rel:"noopener noreferrer",children:"@TheDIVINEcasteR"})}),(0,a.jsxs)("div",{className:"channel-status",children:[(0,a.jsxs)("span",{className:"subscriber-count",children:[t.tweets," tweets"]}),(0,a.jsx)("span",{children:" \u2027 "}),(0,a.jsxs)("span",{className:"video-count",children:[t.followers," followers"]})]})]})]}),(0,a.jsxs)("div",{className:"channel-details",children:[(0,a.jsxs)("div",{className:"channel-details-item",children:[(0,a.jsx)("i",{className:"fa fa-link"}),(0,a.jsx)("span",{className:"view-email-address",children:(0,a.jsx)("a",{href:"mailto:someone@example.com",target:"_blank",rel:"noopener noreferrer",children:"Connect Now"})})]}),(0,a.jsxs)("div",{className:"channel-details-item",children:[(0,a.jsx)("i",{className:"fa fa-users","aria-hidden":"true"}),t.followers," followers"]}),(0,a.jsxs)("div",{className:"channel-details-item",children:[(0,a.jsx)("i",{className:"fa fa-twitter"}),t.tweets," Tweets"]}),(0,a.jsxs)("div",{className:"channel-details-item",children:[(0,a.jsx)("i",{className:"fa fa-retweet"}),t.retweets," Retweets"]}),(0,a.jsxs)("div",{className:"channel-details-item",children:[(0,a.jsx)("i",{className:"fa fa-calendar"}),"Joined November 2022"]}),(0,a.jsxs)("div",{className:"channel-details-item",children:[(0,a.jsx)("i",{className:"fa fa-globe"}),"Kerala, India"]})]})]}),(0,a.jsx)("div",{className:"join-social-media-button",children:(0,a.jsx)("a",{href:"https://twitter.com/thedivinecaster",target:"_blank",rel:"noopener noreferrer",className:"join-x-channel-item-button join-social-media-item-button",children:(0,a.jsx)("span",{className:"join-x-channel-button-header",children:"Follow Now"})})})]})},b=e=>{let{data:t}=e;return(0,a.jsxs)("div",{className:"social-item",children:[(0,a.jsxs)("div",{className:"social-item-box",children:[(0,a.jsxs)("div",{className:"social-item-title",children:[(0,a.jsx)("i",{className:"fa-brands fa-linkedin-square",style:{color:"#0077b5"}}),"thedivinecaster",(0,a.jsx)(u,{})]}),(0,a.jsxs)("div",{className:"social-item-pic-counter",children:[(0,a.jsx)("img",{src:h,alt:"",className:"profile-picture"}),(0,a.jsxs)("div",{className:"channel-data",children:[(0,a.jsx)("div",{className:"channel-name",children:"TheDIVINEcasteR"}),(0,a.jsx)("div",{className:"channel-id",children:(0,a.jsx)("a",{href:"https://linkedin.com/thedivinecaster",target:"_blank",rel:"noopener noreferrer",children:"@TheDIVINEcasteR"})}),(0,a.jsxs)("div",{className:"channel-status",children:[(0,a.jsxs)("span",{className:"posts-count",children:[t.posts," Posts"]}),(0,a.jsx)("span",{children:" \u2027 "}),(0,a.jsxs)("span",{className:"video-count",children:[t.connections," connections"]})]})]})]}),(0,a.jsxs)("div",{className:"channel-details",children:[(0,a.jsxs)("div",{className:"channel-details-item",children:[(0,a.jsx)("i",{className:"fa fa-link"}),(0,a.jsx)("span",{className:"view-email-address",children:(0,a.jsx)("a",{href:"mailto:souravponnu99@gmail.com",target:"_blank",rel:"noopener noreferrer",children:"Connect Now"})})]}),(0,a.jsxs)("div",{className:"channel-details-item",children:[(0,a.jsx)("i",{className:"fa fa-users","aria-hidden":"true"}),t.connections," connections"]}),(0,a.jsxs)("div",{className:"channel-details-item",children:[(0,a.jsx)("i",{className:"fa fa-sticky-note-o "}),t.posts," Posts"]}),(0,a.jsxs)("div",{className:"channel-details-item",children:[(0,a.jsx)("i",{className:"fa fa-thumbs-up"}),t.likes," likes"]}),(0,a.jsxs)("div",{className:"channel-details-item",children:[(0,a.jsx)("i",{className:"fa fa-calendar"}),"Joined November 2022"]}),(0,a.jsxs)("div",{className:"channel-details-item",children:[(0,a.jsx)("i",{className:"fa fa-globe"}),"Kerala, India"]})]})]}),(0,a.jsx)("div",{className:"join-social-media-button",children:(0,a.jsx)("a",{href:"https://linkedin.com/thedivinecaster",target:"_blank",rel:"noopener noreferrer",className:"join-linkedin-item-button join-social-media-item-button",children:(0,a.jsx)("span",{className:"join-linkedin-button-header",children:"Connect Now"})})})]})},_=e=>{let{data:t}=e;return(0,a.jsxs)("div",{className:"social-item",children:[(0,a.jsxs)("div",{className:"social-item-box",children:[(0,a.jsxs)("div",{className:"social-item-title",children:[(0,a.jsx)("i",{className:"fa-brands fa-facebook-square",style:{color:"#316FF6"}}),"thedivinecaster",(0,a.jsx)(u,{})]}),(0,a.jsxs)("div",{className:"social-item-pic-counter",children:[(0,a.jsx)("img",{src:h,alt:"",className:"profile-picture"}),(0,a.jsxs)("div",{className:"channel-data",children:[(0,a.jsx)("div",{className:"channel-name",children:"TheDIVINEcasteR"}),(0,a.jsx)("div",{className:"channel-id",children:(0,a.jsx)("a",{href:"https://www.facebook.com/tdcthedivinecaster",target:"_blank",rel:"noopener noreferrer",children:"@TheDIVINEcasteR"})}),(0,a.jsxs)("div",{className:"channel-status",children:[(0,a.jsxs)("span",{className:"posts-count",children:[t.posts," Posts"]}),(0,a.jsx)("span",{children:" \u2027 "}),(0,a.jsxs)("span",{className:"video-count",children:[t.friends," Friends"]})]})]})]}),(0,a.jsxs)("div",{className:"channel-details",children:[(0,a.jsxs)("div",{className:"channel-details-item",children:[(0,a.jsx)("i",{className:"fa fa-link"}),(0,a.jsx)("span",{className:"view-email-address",children:(0,a.jsx)("a",{href:"mailto:souravponnu99@gmail.com",target:"_blank",rel:"noopener noreferrer",children:"Connect Now"})})]}),(0,a.jsxs)("div",{className:"channel-details-item",children:[(0,a.jsx)("i",{className:"fa fa-users","aria-hidden":"true"}),t.friends," Friends"]}),(0,a.jsxs)("div",{className:"channel-details-item",children:[(0,a.jsx)("i",{className:"fa fa-sticky-note-o "}),t.posts," Posts"]}),(0,a.jsxs)("div",{className:"channel-details-item",children:[(0,a.jsx)("i",{className:"fa fa-thumbs-up"}),t.likes," likes"]}),(0,a.jsxs)("div",{className:"channel-details-item",children:[(0,a.jsx)("i",{className:"fa fa-calendar"}),"Joined December 2020"]}),(0,a.jsxs)("div",{className:"channel-details-item",children:[(0,a.jsx)("i",{className:"fa fa-globe"}),"Kerala, India"]})]})]}),(0,a.jsx)("div",{className:"join-social-media-button",children:(0,a.jsx)("a",{href:"https://www.facebook.com/tdcthedivinecaster",target:"_blank",rel:"noopener noreferrer",className:"join-facebook-item-button join-social-media-item-button",children:(0,a.jsx)("span",{className:"join-facebook-button-header",children:"Friend Request"})})})]})},I=e=>{let{data:t}=e;return(0,a.jsxs)("div",{className:"social-item",children:[(0,a.jsxs)("div",{className:"social-item-box",children:[(0,a.jsxs)("div",{className:"social-item-title",children:[(0,a.jsx)("i",{className:"fa-brands fa-discord",style:{color:"#7289da"}}),"thedivinecaster",(0,a.jsx)(u,{})]}),(0,a.jsxs)("div",{className:"social-item-pic-counter",children:[(0,a.jsx)("img",{src:h,alt:"",className:"profile-picture"}),(0,a.jsxs)("div",{className:"channel-data",children:[(0,a.jsx)("div",{className:"channel-name",children:"TheDIVINEcasteR"}),(0,a.jsx)("div",{className:"channel-id",children:(0,a.jsx)("a",{href:"https://discord.com/thedivinecaster",target:"_blank",rel:"noopener noreferrer",children:"@TheDIVINEcasteR"})}),(0,a.jsxs)("div",{className:"channel-status",children:[(0,a.jsxs)("span",{className:"posts-count",children:[t.channels," Channels"]}),(0,a.jsx)("span",{children:" \u2027 "}),(0,a.jsxs)("span",{className:"video-count",children:[t.friends," Friends"]})]})]})]}),(0,a.jsxs)("div",{className:"channel-details",children:[(0,a.jsxs)("div",{className:"channel-details-item",children:[(0,a.jsx)("i",{className:"fa fa-link"}),(0,a.jsx)("span",{className:"view-email-address",children:(0,a.jsx)("a",{href:"mailto:souravponnu99@gmail.com",target:"_blank",rel:"noopener noreferrer",children:"Connect Now"})})]}),(0,a.jsxs)("div",{className:"channel-details-item",children:[(0,a.jsx)("i",{className:"fa fa-users","aria-hidden":"true"}),t.friends," Friends"]}),(0,a.jsxs)("div",{className:"channel-details-item",children:[(0,a.jsx)("i",{className:"fa fa-sticky-note-o "}),t.channels," Channels"]}),(0,a.jsxs)("div",{className:"channel-details-item",children:[(0,a.jsx)("i",{className:"fa fa-thumbs-up"}),t.likes," likes"]}),(0,a.jsxs)("div",{className:"channel-details-item",children:[(0,a.jsx)("i",{className:"fa fa-calendar"}),"Joined December 2020"]}),(0,a.jsxs)("div",{className:"channel-details-item",children:[(0,a.jsx)("i",{className:"fa fa-globe"}),"Kerala, India"]})]})]}),(0,a.jsx)("div",{className:"join-social-media-button",children:(0,a.jsx)("a",{href:"https://dicord.com/thedivinecaster",target:"_blank",rel:"noopener noreferrer",className:"join-discord-item-button join-social-media-item-button",children:(0,a.jsx)("span",{className:"join-discord-button-header",children:"Join Now"})})})]})},E=()=>(0,a.jsxs)("div",{className:"footer-container content",children:[(0,a.jsxs)("div",{className:"social-media-links",children:[(0,a.jsx)("a",{href:"https://twitter.com/thedivinecaster",target:"_blank",rel:"noreferrer",children:(0,a.jsx)("i",{className:"fab fa-x-twitter"})}),(0,a.jsx)("a",{href:"https://www.instagram.com/thedivinecaster",target:"_blank",rel:"noreferrer",children:(0,a.jsx)("i",{className:"fab fa-instagram"})}),(0,a.jsx)("a",{href:"https://www.youtube.com/thedivinecaster",target:"_blank",rel:"noreferrer",children:(0,a.jsx)("i",{className:"fab fa-youtube"})}),(0,a.jsx)("a",{href:"https://whatsapp.com/channel/0029VaA8FXd0LKZEC4MqFZ2S",target:"_blank",rel:"noreferrer",children:(0,a.jsx)("i",{className:"fab fa-whatsapp"})}),(0,a.jsx)("a",{href:"https://whatsapp.com/channel/0029VaA8FXd0LKZEC4MqFZ2S",target:"_blank",rel:"noreferrer",children:(0,a.jsx)("i",{className:"fab fa-threads"})}),(0,a.jsx)("a",{href:"https://whatsapp.com/channel/0029VaA8FXd0LKZEC4MqFZ2S",target:"_blank",rel:"noreferrer",children:(0,a.jsx)("i",{className:"fab fa-telegram"})}),(0,a.jsx)("a",{href:"https://www.buymeacoffee.com/souravak",target:"_blank",rel:"noreferrer",children:(0,a.jsx)("i",{className:"fa fa-coffee"})}),(0,a.jsx)("a",{href:"https://discord.gg/WS44EXtvmA",target:"_blank",rel:"noreferrer",children:(0,a.jsx)("i",{className:"fa fa-discord"})}),(0,a.jsx)("a",{href:"https://www.tiktok.com",target:"_blank",rel:"noreferrer",children:(0,a.jsx)("i",{className:"fa fa-tiktok"})}),(0,a.jsx)("a",{href:"https://join.slack.com/t/thedivinecastergroup/shared_invite/zt-2d4zbfbdf-Q~9XeiB6f41OYC08BmnNxQ",target:"_blank",rel:"noreferrer",children:(0,a.jsx)("i",{className:"fa fa-slack"})}),(0,a.jsx)("a",{href:"https://www.facebook.com/tdcthedivinecaster",target:"_blank",rel:"noreferrer",children:(0,a.jsx)("i",{className:"fa fa-facebook-square"})}),(0,a.jsx)("a",{href:"https://www.linkedin.com/in/srvak",target:"_blank",rel:"noreferrer",children:(0,a.jsx)("i",{className:"fa fa-linkedin"})})]}),(0,a.jsx)("div",{className:"all-rights-reserved",children:(0,a.jsx)("span",{children:"\xa9 2024 All Rights Reserved"})})]}),k=()=>{const e=JSON.parse(sessionStorage.getItem("socialMediaData"));return(0,a.jsx)(a.Fragment,{children:e&&(0,a.jsxs)("div",{className:"about",children:[(0,a.jsxs)("div",{className:"about-body",children:[(0,a.jsx)("div",{className:"title",children:"About"}),(0,a.jsxs)("div",{className:"about-container",children:[(0,a.jsxs)("div",{className:"social-item-container",children:[(0,a.jsx)("div",{className:"social-title",children:"Instagram"}),(0,a.jsx)(d,{data:e.instagram})]}),(0,a.jsxs)("div",{className:"social-item-container",children:[(0,a.jsx)("div",{className:"social-title",children:"Youtube TDC"}),(0,a.jsx)(f,{data:e.youtubetdc})]}),(0,a.jsxs)("div",{className:"social-item-container",children:[(0,a.jsx)("div",{className:"social-title",children:"YouTube DG"}),(0,a.jsx)(m,{data:e.youtubedg})]}),(0,a.jsxs)("div",{className:"social-item-container",children:[(0,a.jsx)("div",{className:"social-title",children:"Telegram"}),(0,a.jsx)(g,{data:e.telegram})]}),(0,a.jsxs)("div",{className:"social-item-container",children:[(0,a.jsx)("div",{className:"social-title",children:"WhatsApp"}),(0,a.jsx)(v,{data:e.whatsapp})]}),(0,a.jsxs)("div",{className:"social-item-container",children:[(0,a.jsx)("div",{className:"social-title",children:"Threads"}),(0,a.jsx)(y,{data:e.threads})]}),(0,a.jsxs)("div",{className:"social-item-container",children:[(0,a.jsx)("div",{className:"social-title",children:"X"}),(0,a.jsx)(w,{data:e.x})]}),(0,a.jsxs)("div",{className:"social-item-container",children:[(0,a.jsx)("div",{className:"social-title",children:"LinkedIn"}),(0,a.jsx)(b,{data:e.linkedin})]}),(0,a.jsxs)("div",{className:"social-item-container",children:[(0,a.jsx)("div",{className:"social-title",children:"Facebook"}),(0,a.jsx)(_,{data:e.facebook})]}),(0,a.jsxs)("div",{className:"social-item-container",children:[(0,a.jsx)("div",{className:"social-title",children:"Discord"}),(0,a.jsx)(I,{data:e.discord})]})]})]}),(0,a.jsx)(E,{})]})})},S=e=>{let{videoLinks:t}=e;const n=t.map((e=>{const t=e.split("/");return e=t[t.length-1],"".concat(e)}));return(0,a.jsx)(a.Fragment,{children:n.map(((e,t)=>(0,a.jsx)("iframe",{src:"https://www.youtube.com/embed/".concat(e,"?autoplay=0&mute=0"),title:"Video",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0},t)))})},x=()=>{const e=JSON.parse(sessionStorage.getItem("videoLinks"))||[];return(0,a.jsxs)("div",{className:"trending-container",children:[(0,a.jsx)("div",{className:"videos-container",children:(0,a.jsx)("div",{className:"video-item",children:(0,a.jsx)(S,{videoLinks:e})})}),(0,a.jsx)(E,{})]})},T=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},N={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],s=i+1<e.length,a=s?e[i+1]:0,o=i+2<e.length,l=o?e[i+2]:0,c=t>>2,u=(3&t)<<4|a>>4;let h=(15&a)<<2|l>>6,d=63&l;o||(d=64,s||(h=64)),r.push(n[c],n[u],n[h],n[d])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(T(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],a=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],s=i<e.length?n[e.charAt(i)]:0;++i;const a=i<e.length?n[e.charAt(i)]:64;++i;const o=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==s||null==a||null==o)throw new A;const l=t<<2|s>>4;if(r.push(l),64!==a){const e=s<<4&240|a>>2;if(r.push(e),64!==o){const e=a<<6&192|o;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class A extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const C=function(e){return function(e){const t=T(e);return N.encodeByteArray(t,!0)}(e).replace(/\./g,"")},D=function(e){try{return N.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function R(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=R(e[n],t[n]));return e}const P=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,O=()=>{try{return P()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"/thedivinecaster",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const t=e&&D(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},j=e=>{var t,n;return null===(n=null===(t=O())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},L=()=>{var e;return null===(e=O())||void 0===e?void 0:e.config},M=e=>{var t;return null===(t=O())||void 0===t?void 0:t["_".concat(e)]};class F{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function U(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[C(JSON.stringify({alg:"none",type:"JWT"})),C(JSON.stringify(s)),""].join(".")}function V(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function B(){var e;const t=null===(e=O())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}function z(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function q(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function G(){const e=V();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function K(){return!B()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function H(){try{return"object"===typeof indexedDB}catch(e){return!1}}class Q extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,Q.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,W.prototype.create)}}class W{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(Y,((e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",s="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new Q(n,s,t)}}const Y=/\{\$([^}]+)}/g;function J(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function X(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],s=t[i];if(Z(n)&&Z(s)){if(!X(n,s))return!1}else if(n!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Z(e){return null!==e&&"object"===typeof e}function $(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function ee(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function te(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function ne(e,t){const n=new re(e,t);return n.subscribe.bind(n)}class re{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=ie),void 0===r.error&&(r.error=ie),void 0===r.complete&&(r.complete=ie);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(n){"undefined"!==typeof console&&console.error&&console.error(n)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function ie(){}function se(e){return e&&e._delegate?e._delegate:e}class ae{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const oe="[DEFAULT]";class le{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new F;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(n){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:oe})}catch(t){}for(const[e,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:r});n.resolve(e)}catch(t){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oe;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oe;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oe;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,s]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&s.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===oe?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(s){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oe;return this.component?this.component.multipleInstances?e:oe:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ce{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new le(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const ue=[];var he;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(he||(he={}));const de={debug:he.DEBUG,verbose:he.VERBOSE,info:he.INFO,warn:he.WARN,error:he.ERROR,silent:he.SILENT},fe=he.INFO,pe={[he.DEBUG]:"log",[he.VERBOSE]:"log",[he.INFO]:"info",[he.WARN]:"warn",[he.ERROR]:"error"},me=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=pe[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i=arguments.length,s=new Array(i>2?i-2:0),a=2;a<i;a++)s[a-2]=arguments[a];console[r]("[".concat(n,"]  ").concat(e.name,":"),...s)};class ge{constructor(e){this.name=e,this._logLevel=fe,this._logHandler=me,this._userLogHandler=null,ue.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in he))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?de[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,he.DEBUG,...t),this._logHandler(this,he.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,he.VERBOSE,...t),this._logHandler(this,he.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,he.INFO,...t),this._logHandler(this,he.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,he.WARN,...t),this._logHandler(this,he.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,he.ERROR,...t),this._logHandler(this,he.ERROR,...t)}}const ve=(e,t)=>t.some((t=>e instanceof t));let ye,we;const be=new WeakMap,_e=new WeakMap,Ie=new WeakMap,Ee=new WeakMap,ke=new WeakMap;let Se={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return _e.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Ie.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ne(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function xe(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(we||(we=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Ae(this),n),Ne(be.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Ne(e.apply(Ae(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const s=e.call(Ae(this),t,...r);return Ie.set(s,t.sort?t.sort():[t]),Ne(s)}}function Te(e){return"function"===typeof e?xe(e):(e instanceof IDBTransaction&&function(e){if(_e.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{t(),r()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)}));_e.set(e,t)}(e),ve(e,ye||(ye=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,Se):e)}function Ne(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{t(Ne(e.result)),r()},s=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",s)}));return t.then((t=>{t instanceof IDBCursor&&be.set(t,e)})).catch((()=>{})),ke.set(t,e),t}(e);if(Ee.has(e))return Ee.get(e);const t=Te(e);return t!==e&&(Ee.set(e,t),ke.set(t,e)),t}const Ae=e=>ke.get(e);const Ce=["get","getKey","getAll","getAllKeys","count"],De=["put","add","delete","clear"],Re=new Map;function Pe(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(Re.get(t))return Re.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=De.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Ce.includes(n))return;const s=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let s=t.store;for(var a=arguments.length,o=new Array(a>1?a-1:0),l=1;l<a;l++)o[l-1]=arguments[l];return r&&(s=s.index(o.shift())),(await Promise.all([s[n](...o),i&&t.done]))[0]};return Re.set(t,s),s}Se=(e=>({...e,get:(t,n,r)=>Pe(t,n)||e.get(t,n,r),has:(t,n)=>!!Pe(t,n)||e.has(t,n)}))(Se);class Oe{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((e=>e)).join(" ")}}const je="@firebase/app",Le="0.9.27",Me=new ge("@firebase/app"),Fe="[DEFAULT]",Ue={[je]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Ve=new Map,Be=new Map;function ze(e,t){try{e.container.addComponent(t)}catch(n){Me.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function qe(e,t){e.container.addOrOverwriteComponent(t)}function Ge(e){const t=e.name;if(Be.has(t))return Me.debug("There were multiple attempts to register component ".concat(t,".")),!1;Be.set(t,e);for(const n of Ve.values())ze(n,e);return!0}function Ke(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function He(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Fe;Ke(e,t).clearInstance(n)}function Qe(){Be.clear()}const We=new W("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Ye{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new ae("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw We.create("app-deleted",{appName:this._name})}}const Je="10.8.0";function Xe(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:Fe,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw We.create("bad-app-name",{appName:String(i)});if(n||(n=L()),!n)throw We.create("no-options");const s=Ve.get(i);if(s){if(X(n,s.options)&&X(r,s.config))return s;throw We.create("duplicate-app",{appName:i})}const a=new ce(i);for(const l of Be.values())a.addComponent(l);const o=new Ye(n,r,a);return Ve.set(i,o),o}function Ze(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fe;const t=Ve.get(e);if(!t&&e===Fe&&L())return Xe();if(!t)throw We.create("no-app",{appName:e});return t}function $e(){return Array.from(Ve.values())}async function et(e){const t=e.name;Ve.has(t)&&(Ve.delete(t),await Promise.all(e.container.getProviders().map((e=>e.delete()))),e.isDeleted=!0)}function tt(e,t,n){var r;let i=null!==(r=Ue[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));const s=i.match(/\s|\//),a=t.match(/\s|\//);if(s||a){const e=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return s&&e.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),s&&a&&e.push("and"),a&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Me.warn(e.join(" "))}Ge(new ae("".concat(i,"-version"),(()=>({library:i,version:t})),"VERSION"))}function nt(e,t){if(null!==e&&"function"!==typeof e)throw We.create("invalid-log-argument");!function(e,t){for(const n of ue){let r=null;t&&t.level&&(r=de[t.level]),n.userLogHandler=null===e?null:function(t,n){for(var i=arguments.length,s=new Array(i>2?i-2:0),a=2;a<i;a++)s[a-2]=arguments[a];const o=s.map((e=>{if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((e=>e)).join(" ");n>=(null!==r&&void 0!==r?r:t.logLevel)&&e({level:he[n].toLowerCase(),message:o,args:s,type:t.name})}}}(e,t)}function rt(e){var t;t=e,ue.forEach((e=>{e.setLogLevel(t)}))}const it="firebase-heartbeat-database",st=1,at="firebase-heartbeat-store";let ot=null;function lt(){return ot||(ot=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=indexedDB.open(e,t),o=Ne(a);return r&&a.addEventListener("upgradeneeded",(e=>{r(Ne(a.result),e.oldVersion,e.newVersion,Ne(a.transaction),e)})),n&&a.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),o.then((e=>{s&&e.addEventListener("close",(()=>s())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),o}(it,st,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(at)}catch(n){console.warn(n)}}}).catch((e=>{throw We.create("idb-open",{originalErrorMessage:e.message})}))),ot}async function ct(e,t){try{const n=(await lt()).transaction(at,"readwrite"),r=n.objectStore(at);await r.put(t,ut(e)),await n.done}catch(n){if(n instanceof Q)Me.warn(n.message);else{const e=We.create("idb-set",{originalErrorMessage:null===n||void 0===n?void 0:n.message});Me.warn(e.message)}}}function ut(e){return"".concat(e.name,"!").concat(e.options.appId)}class ht{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new ft(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){var e,t;const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=dt();if((null!=(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||(this._heartbeatsCache=await this._heartbeatsCachePromise,null!=(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))&&this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((e=>e.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=dt(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),pt(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),pt(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=C(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function dt(){return(new Date).toISOString().substring(0,10)}class ft{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!H()&&new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await lt()).transaction(at),n=await t.objectStore(at).get(ut(e));return await t.done,n}catch(t){if(t instanceof Q)Me.warn(t.message);else{const e=We.create("idb-get",{originalErrorMessage:null===t||void 0===t?void 0:t.message});Me.warn(e.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return ct(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return ct(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function pt(e){return C(JSON.stringify({version:2,heartbeats:e})).length}var mt;mt="",Ge(new ae("platform-logger",(e=>new Oe(e)),"PRIVATE")),Ge(new ae("heartbeat",(e=>new ht(e)),"PRIVATE")),tt(je,Le,mt),tt(je,Le,"esm2017"),tt("fire-js","");class gt{constructor(e,t){this._delegate=e,this.firebase=t,ze(e,new ae("app-compat",(()=>this),"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise((e=>{this._delegate.checkDestroyed(),e()})).then((()=>(this.firebase.INTERNAL.removeApp(this.name),et(this._delegate))))}_getService(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Fe;var n;this._delegate.checkDestroyed();const r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:t})}_removeServiceInstance(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Fe;this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){ze(this._delegate,e)}_addOrOverwriteComponent(e){qe(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const vt=new W("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."});const yt=function t(){const n=function(t){const n={},r={__esModule:!0,initializeApp:function(e){const i=Xe(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(J(n,i.name))return n[i.name];const s=new t(i,r);return n[i.name]=s,s},app:i,registerVersion:tt,setLogLevel:rt,onLog:nt,apps:null,SDK_VERSION:Je,INTERNAL:{registerComponent:function(e){const n=e.name,s=n.replace("-compat","");if(Ge(e)&&"PUBLIC"===e.type){const a=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[s])throw vt.create("invalid-app-argument",{appName:n});return e[s]()};void 0!==e.serviceProps&&R(a,e.serviceProps),r[s]=a,t.prototype[s]=function(){const t=this._getService.bind(this,n);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[s]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!J(n,e=e||Fe))throw vt.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((e=>n[e]))}}),i.App=t,r}(gt);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){R(n,e)},createSubscribe:ne,ErrorFactory:W,deepExtend:R}),n}(),wt=new ge("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){wt.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const e=self.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&wt.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const bt=yt;!function(e){tt("@firebase/app-compat","0.2.27",e)}();bt.registerVersion("firebase","10.8.0","app-compat");function _t(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;const It={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},Et="EMAIL_SIGNIN",kt="PASSWORD_RESET",St="RECOVER_EMAIL",xt="REVERT_SECOND_FACTOR_ADDITION",Tt="VERIFY_AND_CHANGE_EMAIL",Nt="VERIFY_EMAIL";function At(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Ct=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},Dt=At,Rt=new W("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Pt=new ge("@firebase/auth");function Ot(e){if(Pt.logLevel<=he.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Pt.error("Auth (".concat(Je,"): ").concat(e),...n)}}function jt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Ut(e,...n)}function Lt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Ut(e,...n)}function Mt(e,t,n){const r=Object.assign(Object.assign({},Dt()),{[t]:n});return new W("auth","Firebase",r).create(t,{appName:e.name})}function Ft(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&jt(e,"argument-error"),Mt(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function Ut(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return Rt.create(e,...n)}function Vt(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Ut(t,...r)}}function Bt(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Ot(t),new Error(t)}function zt(e,t){e||Bt(t)}function qt(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Gt(){return"http:"===Kt()||"https:"===Kt()}function Kt(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class Ht{constructor(e,t){this.shortDelay=e,this.longDelay=t,zt(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(V())||q()}get(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Gt()||z()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function Qt(e,t){zt(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class Wt{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void Bt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void Bt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void Bt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Yt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Jt=new Ht(3e4,6e4);function Xt(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Zt(e,t,n,r){return $t(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},(async()=>{let i={},s={};r&&("GET"===t?s=r:i={body:JSON.stringify(r)});const a=$(Object.assign({key:e.config.apiKey},s)).slice(1),o=await e._getAdditionalHeaders();return o["Content-Type"]="application/json",e.languageCode&&(o["X-Firebase-Locale"]=e.languageCode),Wt.fetch()(tn(e,e.config.apiHost,n,a),Object.assign({method:t,headers:o,referrerPolicy:"no-referrer"},i))}))}async function $t(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},Yt),t);try{const t=new rn(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const s=await i.json();if("needConfirmation"in s)throw sn(e,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const t=i.ok?s.errorMessage:s.error.message,[n,a]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw sn(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw sn(e,"email-already-in-use",s);if("USER_DISABLED"===n)throw sn(e,"user-disabled",s);const o=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(a)throw Mt(e,o,a);jt(e,o)}}catch(i){if(i instanceof Q)throw i;jt(e,"network-request-failed",{message:String(i)})}}async function en(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const s=await Zt(e,t,n,r,i);return"mfaPendingCredential"in s&&jt(e,"multi-factor-auth-required",{_serverResponse:s}),s}function tn(e,t,n,r){const i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?Qt(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}function nn(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class rn{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(Lt(this.auth,"network-request-failed"))),Jt.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function sn(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Lt(e,t,r);return i.customData._tokenResponse=n,i}function an(e){return void 0!==e&&void 0!==e.getResponse}function on(e){return void 0!==e&&void 0!==e.enterprise}class ln{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return nn(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}async function cn(e,t){return Zt(e,"GET","/v2/recaptchaConfig",Xt(e,t))}function un(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(t){}}function hn(e){return 1e3*Number(e)}function dn(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return Ot("JWT malformed, contained fewer than 3 sections"),null;try{const e=D(n);return e?JSON.parse(e):(Ot("Failed to decode base64 JWT payload"),null)}catch(i){return Ot("Caught error parsing JWT payload as JSON",null===i||void 0===i?void 0:i.toString()),null}}async function fn(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(n){throw n instanceof Q&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(n)&&e.auth.currentUser===e&&await e.auth.signOut(),n}}class pn{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void((null===e||void 0===e?void 0:e.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class mn{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=un(this.lastLoginAt),this.creationTime=un(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function gn(e){var t;const n=e.auth,r=await e.getIdToken(),i=await fn(e,async function(e,t){return Zt(e,"POST","/v1/accounts:lookup",t)}(n,{idToken:r}));Vt(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const a=(null===(t=s.providerUserInfo)||void 0===t?void 0:t.length)?s.providerUserInfo.map((e=>{var{providerId:t}=e,n=_t(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[];const o=(l=e.providerData,c=a,[...l.filter((e=>!c.some((t=>t.providerId===e.providerId)))),...c]);var l,c;const u=e.isAnonymous,h=!(e.email&&s.passwordHash)&&!(null===o||void 0===o?void 0:o.length),d=!!u&&h,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new mn(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(e,f)}class vn{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Vt(e.idToken,"internal-error"),Vt("undefined"!==typeof e.idToken,"internal-error"),Vt("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){const t=dn(e);return Vt(t,"internal-error"),Vt("undefined"!==typeof t.exp,"internal-error"),Vt("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}async getToken(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Vt(!this.accessToken||this.refreshToken,e,"user-token-expired"),t||!this.accessToken||this.isExpired?this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await $t(e,{},(async()=>{const n=$({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,s=tn(e,r,"/v1/token","key=".concat(i)),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Wt.fetch()(s,{method:"POST",headers:a,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,s=new vn;return n&&(Vt("string"===typeof n,"internal-error",{appName:e}),s.refreshToken=n),r&&(Vt("string"===typeof r,"internal-error",{appName:e}),s.accessToken=r),i&&(Vt("number"===typeof i,"internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new vn,this.toJSON())}_performRefresh(){return Bt("not implemented")}}function yn(e,t){Vt("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class wn{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=_t(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new pn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new mn(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await fn(this,this.stsTokenManager.getToken(this.auth,e));return Vt(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=se(e),r=await n.getIdToken(t),i=dn(r);Vt(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"===typeof i.firebase?i.firebase:void 0,a=null===s||void 0===s?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:un(hn(i.auth_time)),issuedAtTime:un(hn(i.iat)),expirationTime:un(hn(i.exp)),signInProvider:a||null,signInSecondFactor:(null===s||void 0===s?void 0:s.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=se(e);await gn(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(Vt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new wn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Vt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await gn(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await fn(this,async function(e,t){return Zt(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,s,a,o,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,d=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(s=t.photoURL)&&void 0!==s?s:void 0,p=null!==(a=t.tenantId)&&void 0!==a?a:void 0,m=null!==(o=t._redirectEventId)&&void 0!==o?o:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,v=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:y,emailVerified:w,isAnonymous:b,providerData:_,stsTokenManager:I}=t;Vt(y&&I,e,"internal-error");const E=vn.fromJSON(this.name,I);Vt("string"===typeof y,e,"internal-error"),yn(u,e.name),yn(h,e.name),Vt("boolean"===typeof w,e,"internal-error"),Vt("boolean"===typeof b,e,"internal-error"),yn(d,e.name),yn(f,e.name),yn(p,e.name),yn(m,e.name),yn(g,e.name),yn(v,e.name);const k=new wn({uid:y,auth:e,email:h,emailVerified:w,displayName:u,isAnonymous:b,photoURL:f,phoneNumber:d,tenantId:p,stsTokenManager:E,createdAt:g,lastLoginAt:v});return _&&Array.isArray(_)&&(k.providerData=_.map((e=>Object.assign({},e)))),m&&(k._redirectEventId=m),k}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new vn;r.updateFromServerResponse(t);const i=new wn({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await gn(i),i}}const bn=new Map;function _n(e){zt(e instanceof Function,"Expected a class definition");let t=bn.get(e);return t?(zt(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,bn.set(e,t),t)}class In{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}In.type="NONE";const En=In;function kn(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class Sn{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=kn(this.userKey,r.apiKey,i),this.fullPersistenceKey=kn("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?wn._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new Sn(_n(En),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let i=r[0]||_n(En);const s=kn(n,e.config.apiKey,e.name);let a=null;for(const c of t)try{const t=await c._get(s);if(t){const n=wn._fromJSON(e,t);c!==i&&(a=n),i=c;break}}catch(l){}const o=r.filter((e=>e._shouldAllowMigration));return i._shouldAllowMigration&&o.length?(i=o[0],a&&await i._set(s,a.toJSON()),await Promise.all(t.map((async e=>{if(e!==i)try{await e._remove(s)}catch(l){}}))),new Sn(i,e,n)):new Sn(i,e,n)}}function xn(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Cn(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Tn(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Rn(t))return"Blackberry";if(Pn(t))return"Webos";if(Nn(t))return"Safari";if((t.includes("chrome/")||An(t))&&!t.includes("edge/"))return"Chrome";if(Dn(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function Tn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V();return/firefox\//i.test(e)}function Nn(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:V()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function An(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V();return/crios\//i.test(e)}function Cn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V();return/iemobile/i.test(e)}function Dn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V();return/android/i.test(e)}function Rn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V();return/blackberry/i.test(e)}function Pn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V();return/webos/i.test(e)}function On(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function jn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V();return On(e)||Dn(e)||Pn(e)||Rn(e)||/windows phone/i.test(e)||Cn(e)}function Ln(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=xn(V());break;case"Worker":t="".concat(xn(V()),"-").concat(e);break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Je,"/").concat(r)}class Mn{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,r)=>{try{n(e(t))}catch(i){r(i)}}));n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const e of t)try{e()}catch(r){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===n||void 0===n?void 0:n.message})}}}class Fn{constructor(e){var t,n,r,i;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=s.minPasswordLength)&&void 0!==t?t:6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),void 0!==s.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),void 0!==s.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),void 0!==s.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),void 0!==s.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,s,a;const o={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,o),this.validatePasswordCharacterOptions(e,o),o.isValid&&(o.isValid=null===(t=o.meetsMinPasswordLength)||void 0===t||t),o.isValid&&(o.isValid=null===(n=o.meetsMaxPasswordLength)||void 0===n||n),o.isValid&&(o.isValid=null===(r=o.containsLowercaseLetter)||void 0===r||r),o.isValid&&(o.isValid=null===(i=o.containsUppercaseLetter)||void 0===i||i),o.isValid&&(o.isValid=null===(s=o.containsNumericCharacter)||void 0===s||s),o.isValid&&(o.isValid=null===(a=o.containsNonAlphanumericCharacter)||void 0===a||a),o}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class Un{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Bn(this),this.idTokenSubscription=new Bn(this),this.beforeStateQueue=new Mn(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Rt,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=_n(t)),this._initializationPromise=this.queue((async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await Sn.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(i){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUser(e){var t;const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,s=null===r||void 0===r?void 0:r._redirectEventId,a=await this.tryRedirectSignIn(e);n&&n!==s||!(null===a||void 0===a?void 0:a.user)||(r=a.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(s)))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Vt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(n){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await gn(e)}catch(t){if((null===t||void 0===t?void 0:t.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const t=e?se(e):null;return t&&Vt(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&Vt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue((async()=>{await this.assertedPersistence.setPersistence(_n(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return Zt(e,"GET","/v2/passwordPolicy",Xt(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new Fn(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new W("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise(((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged((()=>{n(),e()}),t)}}))}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return Zt(e,"POST","/v2/accounts:revokeToken",Xt(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&_n(e)||this._popupRedirectResolver;Vt(t,this,"argument-error"),this.redirectPersistenceManager=await Sn.create(this,[_n(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Vt(a,this,"internal-error"),a.then((()=>{s||i(this.currentUser)})),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{s=!0,i()}}{const n=e.addObserver(t);return()=>{s=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Vt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Ln(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(Pt.logLevel<=he.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Pt.warn("Auth (".concat(Je,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function Vn(e){return se(e)}class Bn{constructor(e){this.auth=e,this.observer=null,this.addObserver=ne((e=>this.observer=e))}get next(){return Vt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let zn={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function qn(e){return zn.loadJS(e)}function Gn(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class Kn{constructor(e){this.type="recaptcha-enterprise",this.auth=Vn(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;on(i)?i.enterprise.ready((()=>{i.enterprise.execute(t,{action:e}).then((e=>{n(e)})).catch((()=>{n("NO_RECAPTCHA")}))})):r(Error("No reCAPTCHA enterprise script loaded."))}return new Promise(((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,n)=>{cn(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((r=>{if(void 0!==r.recaptchaKey){const n=new ln(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{n(e)}))}))})(this.auth).then((i=>{if(!t&&on(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=zn.recaptchaEnterpriseScript;0!==t.length&&(t+=i),qn(t).then((()=>{n(i,e,r)})).catch((e=>{r(e)}))}})).catch((e=>{r(e)}))}))}}async function Hn(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=new Kn(e);let s;try{s=await i.verify(n)}catch(o){s=await i.verify(n,!0)}const a=Object.assign({},t);return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Qn(e,t,n,r){var i;if(null===(i=e._getRecaptchaConfig())||void 0===i?void 0:i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await Hn(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch((async i=>{if(i.code==="auth/".concat("missing-recaptcha-token")){console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const i=await Hn(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)}))}function Wn(e,t,n){const r=Vn(e);Vt(r._canInitEmulator,r,"emulator-config-failed"),Vt(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),s=Yn(t),{host:a,port:o}=function(e){const t=Yn(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:Jn(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:Jn(t)}}}(t),l=null===o?"":":".concat(o);r.config.emulator={url:"".concat(s,"//").concat(a).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:o,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Yn(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Jn(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Xn{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Bt("not implemented")}_getIdTokenResponse(e){return Bt("not implemented")}_linkToIdToken(e,t){return Bt("not implemented")}_getReauthenticationResolver(e){return Bt("not implemented")}}async function Zn(e,t){return Zt(e,"POST","/v1/accounts:resetPassword",Xt(e,t))}async function $n(e,t){return Zt(e,"POST","/v1/accounts:signUp",t)}async function er(e,t){return en(e,"POST","/v1/accounts:signInWithPassword",Xt(e,t))}async function tr(e,t){return Zt(e,"POST","/v1/accounts:sendOobCode",Xt(e,t))}async function nr(e,t){return tr(e,t)}async function rr(e,t){return tr(e,t)}class ir extends Xn{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new ir(e,t,"password")}static _fromEmailAndCode(e,t){return new ir(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return Qn(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",er);case"emailLink":return async function(e,t){return en(e,"POST","/v1/accounts:signInWithEmailLink",Xt(e,t))}(e,{email:this._email,oobCode:this._password});default:jt(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return Qn(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",$n);case"emailLink":return async function(e,t){return en(e,"POST","/v1/accounts:signInWithEmailLink",Xt(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:jt(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function sr(e,t){return en(e,"POST","/v1/accounts:signInWithIdp",Xt(e,t))}class ar extends Xn{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new ar(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):jt("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=_t(t,["providerId","signInMethod"]);if(!n||!r)return null;const s=new ar(n,r);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(e){return sr(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,sr(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,sr(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=$(t)}return e}}const or={USER_NOT_FOUND:"user-not-found"};class lr extends Xn{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new lr({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new lr({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return en(e,"POST","/v1/accounts:signInWithPhoneNumber",Xt(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await en(e,"POST","/v1/accounts:signInWithPhoneNumber",Xt(e,t));if(n.temporaryProof)throw sn(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return en(e,"POST","/v1/accounts:signInWithPhoneNumber",Xt(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),or)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new lr({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class cr{constructor(e){var t,n,r,i,s,a;const o=ee(te(e)),l=null!==(t=o.apiKey)&&void 0!==t?t:null,c=null!==(n=o.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=o.mode)&&void 0!==r?r:null);Vt(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(i=o.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(s=o.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(a=o.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function(e){const t=ee(te(e)).link,n=t?ee(te(t)).deep_link_id:null,r=ee(te(e)).deep_link_id;return(r?ee(te(r)).link:null)||r||n||t||e}(e);try{return new cr(t)}catch(n){return null}}}class ur{constructor(){this.providerId=ur.PROVIDER_ID}static credential(e,t){return ir._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=cr.parseLink(t);return Vt(n,"argument-error"),ir._fromEmailAndCode(e,n.code,n.tenantId)}}ur.PROVIDER_ID="password",ur.EMAIL_PASSWORD_SIGN_IN_METHOD="password",ur.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class hr{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class dr extends hr{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class fr extends dr{static credentialFromJSON(e){const t="string"===typeof e?JSON.parse(e):e;return Vt("providerId"in t&&"signInMethod"in t,"argument-error"),ar._fromParams(t)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return Vt(e.idToken||e.accessToken,"argument-error"),ar._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return fr.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return fr.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:s,nonce:a,providerId:o}=t;if(!r&&!i&&!n&&!s)return null;if(!o)return null;try{return new fr(o)._credential({idToken:n,accessToken:r,nonce:a,pendingToken:s})}catch(l){return null}}}class pr extends dr{constructor(){super("facebook.com")}static credential(e){return ar._fromParams({providerId:pr.PROVIDER_ID,signInMethod:pr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return pr.credentialFromTaggedObject(e)}static credentialFromError(e){return pr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return pr.credential(t.oauthAccessToken)}catch(n){return null}}}pr.FACEBOOK_SIGN_IN_METHOD="facebook.com",pr.PROVIDER_ID="facebook.com";class mr extends dr{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return ar._fromParams({providerId:mr.PROVIDER_ID,signInMethod:mr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return mr.credentialFromTaggedObject(e)}static credentialFromError(e){return mr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return mr.credential(n,r)}catch(i){return null}}}mr.GOOGLE_SIGN_IN_METHOD="google.com",mr.PROVIDER_ID="google.com";class gr extends dr{constructor(){super("github.com")}static credential(e){return ar._fromParams({providerId:gr.PROVIDER_ID,signInMethod:gr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return gr.credentialFromTaggedObject(e)}static credentialFromError(e){return gr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return gr.credential(t.oauthAccessToken)}catch(n){return null}}}gr.GITHUB_SIGN_IN_METHOD="github.com",gr.PROVIDER_ID="github.com";class vr extends Xn{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){return sr(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,sr(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,sr(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r,pendingToken:i}=t;return n&&r&&i&&n===r?new vr(n,i):null}static _create(e,t){return new vr(e,t)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class yr extends hr{constructor(e){Vt(e.startsWith("saml."),"argument-error"),super(e)}static credentialFromResult(e){return yr.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return yr.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const t=vr.fromJSON(e);return Vt(t,"argument-error"),t}static samlCredentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{pendingToken:n,providerId:r}=t;if(!n||!r)return null;try{return vr._create(r,n)}catch(i){return null}}}class wr extends dr{constructor(){super("twitter.com")}static credential(e,t){return ar._fromParams({providerId:wr.PROVIDER_ID,signInMethod:wr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return wr.credentialFromTaggedObject(e)}static credentialFromError(e){return wr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return wr.credential(n,r)}catch(i){return null}}}async function br(e,t){return en(e,"POST","/v1/accounts:signUp",Xt(e,t))}wr.TWITTER_SIGN_IN_METHOD="twitter.com",wr.PROVIDER_ID="twitter.com";class _r{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await wn._fromIdTokenResponse(e,n,r),s=Ir(n);return new _r({user:i,providerId:s,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=Ir(n);return new _r({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function Ir(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class Er extends Q{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,Er.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new Er(e,t,n,r)}}function kr(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw Er._fromErrorAndOperation(e,n,t,r);throw n}))}function Sr(e){return new Set(e.map((e=>{let{providerId:t}=e;return t})).filter((e=>!!e)))}async function xr(e,t){const n=se(e);await Nr(!0,n,t);const{providerUserInfo:r}=await async function(e,t){return Zt(e,"POST","/v1/accounts:update",t)}(n.auth,{idToken:await n.getIdToken(),deleteProvider:[t]}),i=Sr(r||[]);return n.providerData=n.providerData.filter((e=>i.has(e.providerId))),i.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}async function Tr(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await fn(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return _r._forOperation(e,"link",r)}async function Nr(e,t,n){await gn(t);const r=!1===e?"provider-already-linked":"no-such-provider";Vt(Sr(t.providerData).has(n)===e,t.auth,r)}async function Ar(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e,i="reauthenticate";try{const s=await fn(e,kr(r,i,t,e),n);Vt(s.idToken,r,"internal-error");const a=dn(s.idToken);Vt(a,r,"internal-error");const{sub:o}=a;return Vt(e.uid===o,r,"user-mismatch"),_r._forOperation(e,i,s)}catch(s){throw(null===s||void 0===s?void 0:s.code)==="auth/".concat("user-not-found")&&jt(r,"user-mismatch"),s}}async function Cr(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r="signIn",i=await kr(e,r,t),s=await _r._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(s.user),s}async function Dr(e,t){return Cr(Vn(e),t)}async function Rr(e,t){const n=se(e);return await Nr(!1,n,t.providerId),Tr(n,t)}async function Pr(e,t){return Ar(se(e),t)}async function Or(e,t){const n=Vn(e),r=await async function(e,t){return en(e,"POST","/v1/accounts:signInWithCustomToken",Xt(e,t))}(n,{token:t,returnSecureToken:!0}),i=await _r._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(i.user),i}class jr{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?Lr._fromServerResponse(e,t):"totpInfo"in t?Mr._fromServerResponse(e,t):jt(e,"internal-error")}}class Lr extends jr{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new Lr(t)}}class Mr extends jr{constructor(e){super("totp",e)}static _fromServerResponse(e,t){return new Mr(t)}}function Fr(e,t,n){var r;Vt((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),Vt("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Vt(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(Vt(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}async function Ur(e){const t=Vn(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function Vr(e,t){await async function(e,t){return Zt(e,"POST","/v1/accounts:update",Xt(e,t))}(se(e),{oobCode:t})}async function Br(e,t){const n=se(e),r=await Zn(n,{oobCode:t}),i=r.requestType;switch(Vt(i,n,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Vt(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Vt(r.mfaInfo,n,"internal-error");default:Vt(r.email,n,"internal-error")}let s=null;return r.mfaInfo&&(s=jr._fromServerResponse(Vn(n),r.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.newEmail:r.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.email:r.newEmail)||null,multiFactorInfo:s},operation:i}}function zr(e,t,n){return Dr(se(e),ur.credential(t,n)).catch((async t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&Ur(e),t}))}async function qr(e,t){const n={identifier:t,continueUri:Gt()?qt():"http://localhost"},{signinMethods:r}=await async function(e,t){return Zt(e,"POST","/v1/accounts:createAuthUri",Xt(e,t))}(se(e),n);return r||[]}async function Gr(e,t){const n=se(e),r={requestType:"VERIFY_EMAIL",idToken:await e.getIdToken()};t&&Fr(n.auth,r,t);const{email:i}=await async function(e,t){return tr(e,t)}(n.auth,r);i!==e.email&&await e.reload()}async function Kr(e,t,n){const r=se(e),i={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await e.getIdToken(),newEmail:t};n&&Fr(r.auth,i,n);const{email:s}=await async function(e,t){return tr(e,t)}(r.auth,i);s!==e.email&&await e.reload()}async function Hr(e,t){let{displayName:n,photoURL:r}=t;if(void 0===n&&void 0===r)return;const i=se(e),s={idToken:await i.getIdToken(),displayName:n,photoUrl:r,returnSecureToken:!0},a=await fn(i,async function(e,t){return Zt(e,"POST","/v1/accounts:update",t)}(i.auth,s));i.displayName=a.displayName||null,i.photoURL=a.photoUrl||null;const o=i.providerData.find((e=>{let{providerId:t}=e;return"password"===t}));o&&(o.displayName=i.displayName,o.photoURL=i.photoURL),await i._updateTokensIfNecessary(a)}async function Qr(e,t,n){const{auth:r}=e,i={idToken:await e.getIdToken(),returnSecureToken:!0};t&&(i.email=t),n&&(i.password=n);const s=await fn(e,async function(e,t){return Zt(e,"POST","/v1/accounts:update",t)}(r,i));await e._updateTokensIfNecessary(s,!0)}class Wr{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.isNewUser=e,this.providerId=t,this.profile=n}}class Yr extends Wr{constructor(e,t,n,r){super(e,t,n),this.username=r}}class Jr extends Wr{constructor(e,t){super(e,"facebook.com",t)}}class Xr extends Yr{constructor(e,t){super(e,"github.com",t,"string"===typeof(null===t||void 0===t?void 0:t.login)?null===t||void 0===t?void 0:t.login:null)}}class Zr extends Wr{constructor(e,t){super(e,"google.com",t)}}class $r extends Yr{constructor(e,t,n){super(e,"twitter.com",t,n)}}function ei(e){const{user:t,_tokenResponse:n}=e;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;const{providerId:r}=e,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},s=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){const r=null===(n=null===(t=dn(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(r)return new Wr(s,"anonymous"!==r&&"custom"!==r?r:null)}if(!r)return null;switch(r){case"facebook.com":return new Jr(s,i);case"github.com":return new Xr(s,i);case"google.com":return new Zr(s,i);case"twitter.com":return new $r(s,i,e.screenName||null);case"custom":case"anonymous":return new Wr(s,null);default:return new Wr(s,r,i)}}(n)}class ti{constructor(e,t,n){this.type=e,this.credential=t,this.user=n}static _fromIdtoken(e,t){return new ti("enroll",e,t)}static _fromMfaPendingCredential(e){return new ti("signin",e)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var t,n;if(null===e||void 0===e?void 0:e.multiFactorSession){if(null===(t=e.multiFactorSession)||void 0===t?void 0:t.pendingCredential)return ti._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(null===(n=e.multiFactorSession)||void 0===n?void 0:n.idToken)return ti._fromIdtoken(e.multiFactorSession.idToken)}return null}}class ni{constructor(e,t,n){this.session=e,this.hints=t,this.signInResolver=n}static _fromError(e,t){const n=Vn(e),r=t.customData._serverResponse,i=(r.mfaInfo||[]).map((e=>jr._fromServerResponse(n,e)));Vt(r.mfaPendingCredential,n,"internal-error");const s=ti._fromMfaPendingCredential(r.mfaPendingCredential);return new ni(s,i,(async e=>{const i=await e._process(n,s);delete r.mfaInfo,delete r.mfaPendingCredential;const a=Object.assign(Object.assign({},r),{idToken:i.idToken,refreshToken:i.refreshToken});switch(t.operationType){case"signIn":const e=await _r._fromIdTokenResponse(n,t.operationType,a);return await n._updateCurrentUser(e.user),e;case"reauthenticate":return Vt(t.user,n,"internal-error"),_r._forOperation(t.user,t.operationType,a);default:jt(n,"internal-error")}}))}async resolveSignIn(e){const t=e;return this.signInResolver(t)}}class ri{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload((t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map((t=>jr._fromServerResponse(e.auth,t))))}))}static _fromUser(e){return new ri(e)}async getSession(){return ti._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,t){const n=e,r=await this.getSession(),i=await fn(this.user,n._process(this.user.auth,r,t));return await this.user._updateTokensIfNecessary(i),this.user.reload()}async unenroll(e){const t="string"===typeof e?e:e.uid,n=await this.user.getIdToken();try{const e=await fn(this.user,function(e,t){return Zt(e,"POST","/v2/accounts/mfaEnrollment:withdraw",Xt(e,t))}(this.user.auth,{idToken:n,mfaEnrollmentId:t}));this.enrolledFactors=this.enrolledFactors.filter((e=>{let{uid:n}=e;return n!==t})),await this.user._updateTokensIfNecessary(e),await this.user.reload()}catch(r){throw r}}}const ii=new WeakMap;const si="__sak";class ai{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(si,"1"),this.storage.removeItem(si),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class oi extends ai{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=V();return Nn(e)||On(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),this.fallbackToPolling=jn(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(e.newValue!==r)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);G()&&10===document.documentMode&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}oi.type="LOCAL";const li=oi;class ci extends ai{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}ci.type="SESSION";const ui=ci;class hi{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new hi(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,s=this.handlersMap[r];if(!(null===s||void 0===s?void 0:s.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const a=Array.from(s).map((async e=>e(t.origin,i))),o=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}})))}(a);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:o})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function di(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}hi.receivers=[];class fi{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,s;return new Promise(((a,o)=>{const l=di("",20);r.port1.start();const c=setTimeout((()=>{o(new Error("unsupported_event"))}),n);s={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout((()=>{o(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),a(t.data.response);break;default:clearTimeout(c),clearTimeout(i),o(new Error("invalid_response"))}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])})).finally((()=>{s&&this.removeMessageHandler(s)}))}}function pi(){return window}function mi(){return"undefined"!==typeof pi().WorkerGlobalScope&&"function"===typeof pi().importScripts}const gi="firebaseLocalStorageDb",vi="firebaseLocalStorage",yi="fbase_key";class wi{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function bi(e,t){return e.transaction([vi],t?"readwrite":"readonly").objectStore(vi)}function _i(){const e=indexedDB.open(gi,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(vi,{keyPath:yi})}catch(r){n(r)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(vi)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(gi);return new wi(e).toPromise()}(),t(await _i()))}))}))}async function Ii(e,t,n){const r=bi(e,!0).put({[yi]:t,value:n});return new wi(r).toPromise()}function Ei(e,t){const n=bi(e,!0).delete(t);return new wi(n).toPromise()}class ki{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await _i()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(n){if(t++>3)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return mi()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=hi._getInstance(mi()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new fi(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await _i();return await Ii(e,si,"1"),await Ei(e,si),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>Ii(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=bi(e,!1).get(t),r=await new wi(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>Ei(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=bi(e,!1).getAll();return new wi(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}ki.type="LOCAL";const Si=ki;const xi=1e12;class Ti{constructor(e){this.auth=e,this.counter=xi,this._widgets=new Map}render(e,t){const n=this.counter;return this._widgets.set(n,new Ni(e,this.auth.name,t||{})),this.counter++,n}reset(e){var t;const n=e||xi;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}getResponse(e){var t;const n=e||xi;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}async execute(e){var t;const n=e||xi;return null===(t=this._widgets.get(n))||void 0===t||t.execute(),""}}class Ni{constructor(e,t,n){this.params=n,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const r="string"===typeof e?document.getElementById(e):e;Vt(r,"argument-error",{appName:t}),this.container=r,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((()=>{this.responseToken=function(e){const t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch(n){}this.timerId=window.setTimeout((()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch(n){}this.isVisible&&this.execute()}),6e4)}),500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Ai=Gn("rcb"),Ci=new Ht(3e4,6e4);class Di{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(e=pi().grecaptcha)||void 0===e?void 0:e.render)}load(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Vt(function(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}(t),e,"argument-error"),this.shouldResolveImmediately(t)&&an(pi().grecaptcha)?Promise.resolve(pi().grecaptcha):new Promise(((n,r)=>{const i=pi().setTimeout((()=>{r(Lt(e,"network-request-failed"))}),Ci.get());pi()[Ai]=()=>{pi().clearTimeout(i),delete pi()[Ai];const s=pi().grecaptcha;if(!s||!an(s))return void r(Lt(e,"internal-error"));const a=s.render;s.render=(e,t)=>{const n=a(e,t);return this.counter++,n},this.hostLanguage=t,n(s)};qn("".concat(zn.recaptchaV2Script,"?").concat($({onload:Ai,render:"explicit",hl:t}))).catch((()=>{clearTimeout(i),r(Lt(e,"internal-error"))}))}))}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var t;return!!(null===(t=pi().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Ri{async load(e){return new Ti(e)}clearedOneInstance(){}}const Pi="recaptcha",Oi={theme:"light",type:"image"};class ji{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object.assign({},Oi);this.parameters=n,this.type=Pi,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Vn(e),this.isInvisible="invisible"===this.parameters.size,Vt("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");const r="string"===typeof t?document.getElementById(t):t;Vt(r,this.auth,"argument-error"),this.container=r,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Ri:new Di,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),t=this.getAssertedRecaptcha(),n=t.getResponse(e);return n||new Promise((n=>{const r=e=>{e&&(this.tokenChangeListeners.delete(r),n(e))};this.tokenChangeListeners.add(r),this.isInvisible&&t.execute(e)}))}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((e=>{throw this.renderPromise=null,e}))),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((e=>{this.container.removeChild(e)}))}validateStartingState(){Vt(!this.parameters.sitekey,this.auth,"argument-error"),Vt(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Vt("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach((e=>e(t))),"function"===typeof e)e(t);else if("string"===typeof e){const n=pi()[e];"function"===typeof n&&n(t)}}}assertNotDestroyed(){Vt(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const t=document.createElement("div");e.appendChild(t),e=t}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){Vt(Gt()&&!mi(),this.auth,"internal-error"),await function(){let e=null;return new Promise((t=>{"complete"!==document.readyState?(e=()=>t(),window.addEventListener("load",e)):t()})).catch((t=>{throw e&&window.removeEventListener("load",e),t}))}(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await async function(e){return(await Zt(e,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}(this.auth);Vt(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return Vt(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Li{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=lr._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}async function Mi(e,t,n){var r;const i=await n.verify();try{let s;if(Vt("string"===typeof i,e,"argument-error"),Vt(n.type===Pi,e,"argument-error"),s="string"===typeof t?{phoneNumber:t}:t,"session"in s){const t=s.session;if("phoneNumber"in s){Vt("enroll"===t.type,e,"internal-error");const n=await function(e,t){return Zt(e,"POST","/v2/accounts/mfaEnrollment:start",Xt(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:i}});return n.phoneSessionInfo.sessionInfo}{Vt("signin"===t.type,e,"internal-error");const n=(null===(r=s.multiFactorHint)||void 0===r?void 0:r.uid)||s.multiFactorUid;Vt(n,e,"missing-multi-factor-info");const a=await function(e,t){return Zt(e,"POST","/v2/accounts/mfaSignIn:start",Xt(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}});return a.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return Zt(e,"POST","/v1/accounts:sendVerificationCode",Xt(e,t))}(e,{phoneNumber:s.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}}class Fi{constructor(e){this.providerId=Fi.PROVIDER_ID,this.auth=Vn(e)}verifyPhoneNumber(e,t){return Mi(this.auth,e,se(t))}static credential(e,t){return lr._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Fi.credentialFromTaggedObject(t)}static credentialFromError(e){return Fi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?lr._fromTokenResponse(n,r):null}}function Ui(e,t){return t?_n(t):(Vt(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Fi.PROVIDER_ID="phone",Fi.PHONE_SIGN_IN_METHOD="phone";class Vi extends Xn{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return sr(e,this._buildIdpRequest())}_linkToIdToken(e,t){return sr(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return sr(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Bi(e){return Cr(e.auth,new Vi(e),e.bypassAuthState)}function zi(e){const{auth:t,user:n}=e;return Vt(n,t,"internal-error"),Ar(n,new Vi(e),e.bypassAuthState)}async function qi(e){const{auth:t,user:n}=e;return Vt(n,t,"internal-error"),Tr(n,new Vi(e),e.bypassAuthState)}class Gi{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:s,type:a}=e;if(s)return void this.reject(s);const o={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(o))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Bi;case"linkViaPopup":case"linkViaRedirect":return qi;case"reauthViaPopup":case"reauthViaRedirect":return zi;default:jt(this.auth,"internal-error")}}resolve(e){zt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){zt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Ki=new Ht(2e3,1e4);class Hi extends Gi{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,Hi.currentPopupAction&&Hi.currentPopupAction.cancel(),Hi.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Vt(e,this.auth,"internal-error"),e}async onExecution(){zt(1===this.filter.length,"Popup operations only handle one event");const e=di();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(Lt(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(Lt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Hi.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(Lt(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,Ki.get())};e()}}Hi.currentPopupAction=null;const Qi="pendingRedirect",Wi=new Map;class Yi extends Gi{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=Wi.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=$i(t),r=Zi(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(t){e=()=>Promise.reject(t)}Wi.set(this.auth._key(),e)}return this.bypassAuthState||Wi.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}async function Ji(e,t){return Zi(e)._set($i(t),"true")}function Xi(e,t){Wi.set(e._key(),t)}function Zi(e){return _n(e._redirectPersistence)}function $i(e){return kn(Qi,e.config.apiKey,e.name)}function es(e,t,n){return async function(e,t,n){const r=Vn(e);Ft(e,t,hr),await r._initializationPromise;const i=Ui(r,n);return await Ji(i,r),i._openRedirect(r,t,"signInViaRedirect")}(e,t,n)}function ts(e,t,n){return async function(e,t,n){const r=se(e);Ft(r.auth,t,hr),await r.auth._initializationPromise;const i=Ui(r.auth,n);await Ji(i,r.auth);const s=await is(r);return i._openRedirect(r.auth,t,"reauthViaRedirect",s)}(e,t,n)}function ns(e,t,n){return async function(e,t,n){const r=se(e);Ft(r.auth,t,hr),await r.auth._initializationPromise;const i=Ui(r.auth,n);await Nr(!1,r,t.providerId),await Ji(i,r.auth);const s=await is(r);return i._openRedirect(r.auth,t,"linkViaRedirect",s)}(e,t,n)}async function rs(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=Vn(e),i=Ui(r,t),s=new Yi(r,i,n),a=await s.execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,t)),a}async function is(e){const t=di("".concat(e.uid,":::"));return e._redirectEventId=t,await e.auth._setRedirectUser(e),await e.auth._persistUserIfCurrent(e),t}class ss{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return os(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!os(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Lt(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(as(e))}saveEventToCache(e){this.cachedEventUids.add(as(e)),this.lastProcessedEventTime=Date.now()}}function as(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function os(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}async function ls(e){return Zt(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}const cs=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,us=/^https?/;function hs(e){const t=qt(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!us.test(n))return!1;if(cs.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const ds=new Ht(3e4,6e4);function fs(){const e=pi().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function ps(e){return new Promise(((t,n)=>{var r,i,s;function a(){fs(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{fs(),n(Lt(e,"network-request-failed"))},timeout:ds.get()})}if(null===(i=null===(r=pi().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(s=pi().gapi)||void 0===s?void 0:s.load)){const t=Gn("iframefcb");return pi()[t]=()=>{gapi.load?a():n(Lt(e,"network-request-failed"))},qn("".concat(zn.gapiScript,"?onload=").concat(t)).catch((e=>n(e)))}a()}})).catch((e=>{throw ms=null,e}))}let ms=null;const gs=new Ht(5e3,15e3),vs="__/auth/iframe",ys="emulator/auth/iframe",ws={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},bs=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function _s(e){const t=e.config;Vt(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Qt(t,ys):"https://".concat(e.config.authDomain,"/").concat(vs),r={apiKey:t.apiKey,appName:e.name,v:Je},i=bs.get(e.config.apiHost);i&&(r.eid=i);const s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),"".concat(n,"?").concat($(r).slice(1))}async function Is(e){const t=await function(e){return ms=ms||ps(e),ms}(e),n=pi().gapi;return Vt(n,e,"internal-error"),t.open({where:document.body,url:_s(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ws,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=Lt(e,"network-request-failed"),s=pi().setTimeout((()=>{r(i)}),gs.get());function a(){pi().clearTimeout(s),n(t)}t.ping(a).then(a,(()=>{r(i)}))}))))}const Es={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class ks{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function Ss(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let o="";const l=Object.assign(Object.assign({},Es),{width:r.toString(),height:i.toString(),top:s,left:a}),c=V().toLowerCase();n&&(o=An(c)?"_blank":n),Tn(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce(((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")}),"");if(function(){var e;return On(arguments.length>0&&void 0!==arguments[0]?arguments[0]:V())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==o)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",o),new ks(null);const h=window.open(t||"",o,u);Vt(h,e,"popup-blocked");try{h.focus()}catch(d){}return new ks(h)}const xs="__/auth/handler",Ts="emulator/auth/handler",Ns=encodeURIComponent("fac");async function As(e,t,n,r,i,s){Vt(e.config.authDomain,e,"auth-domain-config-required"),Vt(e.config.apiKey,e,"invalid-api-key");const a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Je,eventId:i};if(t instanceof hr){t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(s||{}))a[e]=t}if(t instanceof dr){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(a.scopes=e.join(","))}e.tenantId&&(a.tid=e.tenantId);const o=a;for(const u of Object.keys(o))void 0===o[u]&&delete o[u];const l=await e._getAppCheckToken(),c=l?"#".concat(Ns,"=").concat(encodeURIComponent(l)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(xs);return Qt(t,Ts)}(e),"?").concat($(o).slice(1)).concat(c)}const Cs="webStorageSupport";const Ds=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ui,this._completeRedirectFn=rs,this._overrideRedirectResult=Xi}async _openPopup(e,t,n,r){var i;zt(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return Ss(e,await As(e,t,n,qt(),r),di())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){pi().location.href=e}(await As(e,t,n,qt(),r)),new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(zt(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await Is(e),n=new ss(e);return t.register("authEvent",(t=>{Vt(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Cs,{type:Cs},(n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[Cs];void 0!==i&&t(!!i),jt(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){if(e.config.emulator)return;const{authorizedDomains:t}=await ls(e);for(const r of t)try{if(hs(r))return}catch(n){}jt(e,"unauthorized-domain")}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return jn()||Nn()||On()}};class Rs{constructor(e){this.factorId=e}_process(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return Bt("unexpected MultiFactorSessionType")}}}class Ps extends Rs{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new Ps(e)}_finalizeEnroll(e,t,n){return function(e,t){return Zt(e,"POST","/v2/accounts/mfaEnrollment:finalize",Xt(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return function(e,t){return Zt(e,"POST","/v2/accounts/mfaSignIn:finalize",Xt(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class Os{constructor(){}static assertion(e){return Ps._fromCredential(e)}}Os.FACTOR_ID="phone";var js="@firebase/auth",Ls="1.6.0";class Ms{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Vt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Fs=M("authIdTokenMaxAge")||300;let Us=null;function Vs(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ze();const t=Ke(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=Ke(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(X(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;jt(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:Ds,persistence:[Si,li,ui]}),r=M("authTokenSyncURL");if(r){const e=(i=r,async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>Fs)return;const r=null===t||void 0===t?void 0:t.token;Us!==r&&(Us=r,await fetch(i,{method:r?"POST":"DELETE",headers:r?{Authorization:"Bearer ".concat(r)}:{}}))});!function(e,t,n){se(e).beforeAuthStateChanged(t,n)}(n,e,(()=>e(n.currentUser))),function(e,t,n,r){se(e).onIdTokenChanged(t,n,r)}(n,(t=>e(t)))}var i;const s=j("auth");return s&&Wn(n,"http://".concat(s)),n}var Bs;function zs(){return window}!function(e){zn=e}({loadJS:e=>new Promise(((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=Lt("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)})),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),Bs="Browser",Ge(new ae("auth",((e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=r.options;Vt(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:a,authDomain:o,clientPlatform:Bs,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ln(Bs)},c=new Un(r,i,s,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(_n);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),Ge(new ae("auth-internal",(e=>(e=>new Ms(e))(Vn(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),tt(js,Ls,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(Bs)),tt(js,Ls,"esm2017");async function qs(e,t,n){var r;const{BuildInfo:i}=zs();zt(t.sessionId,"AuthEvent did not contain a session ID");const s=await async function(e){const t=function(e){if(zt(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);const t=new ArrayBuffer(e.length),n=new Uint8Array(t);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(e),n=await crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(n)).map((e=>e.toString(16).padStart(2,"0"))).join("")}(t.sessionId),a={};return On()?a.ibi=i.packageName:Dn()?a.apn=i.packageName:jt(e,"operation-not-supported-in-this-environment"),i.displayName&&(a.appDisplayName=i.displayName),a.sessionId=s,As(e,n,t.type,void 0,null!==(r=t.eventId)&&void 0!==r?r:void 0,a)}function Gs(e){const{cordova:t}=zs();return new Promise((n=>{t.plugins.browsertab.isAvailable((r=>{let i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}const Ks=20;class Hs extends ss{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise((e=>{this.resolveInialized=e}))}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInialized(),this.passiveListeners.forEach((t=>t(e))),super.onEvent(e)}async initialized(){await this.initPromise}}async function Qs(e){const t=await Js()._get(Xs(e));return t&&await Js()._remove(Xs(e)),t}function Ws(e,t){var n,r;const i=function(e){const t=Zs(e),n=t.link?decodeURIComponent(t.link):void 0,r=Zs(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return Zs(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){const t=Zs(i),s=t.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(t.firebaseError)):null,a=null===(r=null===(n=null===s||void 0===s?void 0:s.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],o=a?Lt(a):null;return o?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:o,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function Ys(){const e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<Ks;n++){const n=Math.floor(62*Math.random());e.push(t.charAt(n))}return e.join("")}function Js(){return _n(li)}function Xs(e){return kn("authEvent",e.config.apiKey,e.name)}function Zs(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};const[t,...n]=e.split("?");return ee(n.join("?"))}const $s=class{constructor(){this._redirectPersistence=ui,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=rs,this._overrideRedirectResult=Xi}async _initialize(e){const t=e._key();let n=this.eventManagers.get(t);return n||(n=new Hs(e),this.eventManagers.set(t,n),this.attachCallbackListeners(e,n)),n}_openPopup(e){jt(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,t,n,r){!function(e){var t,n,r,i,s,a,o,l,c,u;const h=zs();Vt("function"===typeof(null===(t=null===h||void 0===h?void 0:h.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Vt("undefined"!==typeof(null===(n=null===h||void 0===h?void 0:h.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Vt("function"===typeof(null===(s=null===(i=null===(r=null===h||void 0===h?void 0:h.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===s?void 0:s.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Vt("function"===typeof(null===(l=null===(o=null===(a=null===h||void 0===h?void 0:h.cordova)||void 0===a?void 0:a.plugins)||void 0===o?void 0:o.browsertab)||void 0===l?void 0:l.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Vt("function"===typeof(null===(u=null===(c=null===h||void 0===h?void 0:h.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===u?void 0:u.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(e);const i=await this._initialize(e);await i.initialized(),i.resetRedirect(),Wi.clear(),await this._originValidation(e);const s=function(e,t){return{type:t,eventId:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,urlResponse:null,sessionId:Ys(),postBody:null,tenantId:e.tenantId,error:Lt(e,"no-auth-event")}}(e,n,r);await function(e,t){return Js()._set(Xs(e),t)}(e,s);const a=await qs(e,s,t);return async function(e,t,n){const{cordova:r}=zs();let i=()=>{};try{await new Promise(((s,a)=>{let o=null;function l(){var e;s();const t=null===(e=r.plugins.browsertab)||void 0===e?void 0:e.close;"function"===typeof t&&t(),"function"===typeof(null===n||void 0===n?void 0:n.close)&&n.close()}function c(){o||(o=window.setTimeout((()=>{a(Lt(e,"redirect-cancelled-by-user"))}),2e3))}function u(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}t.addPassiveListener(l),document.addEventListener("resume",c,!1),Dn()&&document.addEventListener("visibilitychange",u,!1),i=()=>{t.removePassiveListener(l),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",u,!1),o&&window.clearTimeout(o)}}))}finally{i()}}(e,i,await Gs(a))}_isIframeWebStorageSupported(e,t){throw new Error("Method not implemented.")}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){const{BuildInfo:t}=zs(),n={};On()?n.iosBundleId=t.packageName:Dn()?n.androidPackageName=t.packageName:jt(e,"operation-not-supported-in-this-environment"),await ls(e,n)}(e)),this.originValidationPromises[t]}attachCallbackListeners(e,t){const{universalLinks:n,handleOpenURL:r,BuildInfo:i}=zs(),s=setTimeout((async()=>{await Qs(e),t.onEvent(ea())}),500),a=async n=>{clearTimeout(s);const r=await Qs(e);let i=null;r&&(null===n||void 0===n?void 0:n.url)&&(i=Ws(r,n.url)),t.onEvent(i||ea())};"undefined"!==typeof n&&"function"===typeof n.subscribe&&n.subscribe(null,a);const o=r,l="".concat(i.packageName.toLowerCase(),"://");zs().handleOpenURL=async e=>{if(e.toLowerCase().startsWith(l)&&a({url:e}),"function"===typeof o)try{o(e)}catch(t){console.error(t)}}}};function ea(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Lt("no-auth-event")}}function ta(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function na(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V();return!("file:"!==ta()&&"ionic:"!==ta()&&"capacitor:"!==ta()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function ra(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V();return G()&&11===(null===document||void 0===document?void 0:document.documentMode)||function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V();return/Edge\/\d+/.test(e)}(e)}function ia(){try{const e=self.localStorage,t=di();if(e)return e.setItem(t,"1"),e.removeItem(t),!ra()||H()}catch(e){return sa()&&H()}return!1}function sa(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function aa(){return("http:"===ta()||"https:"===ta()||z()||na())&&!(q()||B())&&ia()&&!sa()}function oa(){return na()&&"undefined"!==typeof document}const la={LOCAL:"local",NONE:"none",SESSION:"session"},ca=Vt,ua="persistence";async function ha(e){await e._initializationPromise;const t=da(),n=kn(ua,e.config.apiKey,e.name);t&&t.setItem(n,e._getPersistence())}function da(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}const fa=Vt;class pa{constructor(){this.browserResolver=_n(Ds),this.cordovaResolver=_n($s),this.underlyingResolver=null,this._redirectPersistence=ui,this._completeRedirectFn=rs,this._overrideRedirectResult=Xi}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,t,n,r){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,t,n,r)}async _openRedirect(e,t,n,r){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,t,n,r)}_isIframeWebStorageSupported(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return oa()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return fa(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await async function(){return!!oa()&&new Promise((e=>{const t=setTimeout((()=>{e(!1)}),1e3);document.addEventListener("deviceready",(()=>{clearTimeout(t),e(!0)}))}))}();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}function ma(e){return e.unwrap()}function ga(e,t){var n;const r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===t||void 0===t?void 0:t.code)){t.resolver=new ba(e,function(e,t){var n;const r=se(e),i=t;return Vt(t.customData.operationType,r,"argument-error"),Vt(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),ni._fromError(r,i)}(e,t))}else if(r){const e=va(t),n=t;e&&(n.credential=e,n.tenantId=r.tenantId||void 0,n.email=r.email||void 0,n.phoneNumber=r.phoneNumber||void 0)}}function va(e){const{_tokenResponse:t}=e instanceof Q?e.customData:e;if(!t)return null;if(!(e instanceof Q)&&"temporaryProof"in t&&"phoneNumber"in t)return Fi.credentialFromResult(e);const n=t.providerId;if(!n||n===It.PASSWORD)return null;let r;switch(n){case It.GOOGLE:r=mr;break;case It.FACEBOOK:r=pr;break;case It.GITHUB:r=gr;break;case It.TWITTER:r=wr;break;default:const{oauthIdToken:e,oauthAccessToken:i,oauthTokenSecret:s,pendingToken:a,nonce:o}=t;return i||s||e||a?a?n.startsWith("saml.")?vr._create(n,a):ar._fromParams({providerId:n,signInMethod:n,pendingToken:a,idToken:e,accessToken:i}):new fr(n).credential({idToken:e,accessToken:i,rawNonce:o}):null}return e instanceof Q?r.credentialFromError(e):r.credentialFromResult(e)}function ya(e,t){return t.catch((t=>{throw t instanceof Q&&ga(e,t),t})).then((e=>{const t=e.operationType,n=e.user;return{operationType:t,credential:(r=e,va(r)),additionalUserInfo:ei(e),user:_a.getOrCreate(n)};var r}))}async function wa(e,t){const n=await t;return{verificationId:n.verificationId,confirm:t=>ya(e,n.confirm(t))}}class ba{constructor(e,t){this.resolver=t,this.auth=e.wrapped()}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return ya(ma(this.auth),this.resolver.resolveSignIn(e))}}class _a{constructor(e){this._delegate=e,this.multiFactor=function(e){const t=se(e);return ii.has(t)||ii.set(t,ri._fromUser(t)),ii.get(t)}(e)}static getOrCreate(e){return _a.USER_MAP.has(e)||_a.USER_MAP.set(e,new _a(e)),_a.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return ya(this.auth,Rr(this._delegate,e))}async linkWithPhoneNumber(e,t){return wa(this.auth,async function(e,t,n){const r=se(e);await Nr(!1,r,"phone");const i=await Mi(r.auth,t,se(n));return new Li(i,(e=>Rr(r,e)))}(this._delegate,e,t))}async linkWithPopup(e){return ya(this.auth,async function(e,t,n){const r=se(e);Ft(r.auth,t,hr);const i=Ui(r.auth,n);return new Hi(r.auth,"linkViaPopup",t,i,r).executeNotNull()}(this._delegate,e,pa))}async linkWithRedirect(e){return await ha(Vn(this.auth)),ns(this._delegate,e,pa)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return ya(this.auth,Pr(this._delegate,e))}reauthenticateWithPhoneNumber(e,t){return wa(this.auth,async function(e,t,n){const r=se(e),i=await Mi(r.auth,t,se(n));return new Li(i,(e=>Pr(r,e)))}(this._delegate,e,t))}reauthenticateWithPopup(e){return ya(this.auth,async function(e,t,n){const r=se(e);Ft(r.auth,t,hr);const i=Ui(r.auth,n);return new Hi(r.auth,"reauthViaPopup",t,i,r).executeNotNull()}(this._delegate,e,pa))}async reauthenticateWithRedirect(e){return await ha(Vn(this.auth)),ts(this._delegate,e,pa)}sendEmailVerification(e){return Gr(this._delegate,e)}async unlink(e){return await xr(this._delegate,e),this}updateEmail(e){return function(e,t){return Qr(se(e),t,null)}(this._delegate,e)}updatePassword(e){return function(e,t){return Qr(se(e),null,t)}(this._delegate,e)}updatePhoneNumber(e){return async function(e,t){await Tr(se(e),t)}(this._delegate,e)}updateProfile(e){return Hr(this._delegate,e)}verifyBeforeUpdateEmail(e,t){return Kr(this._delegate,e,t)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}_a.USER_MAP=new WeakMap;const Ia=Vt;class Ea{constructor(e,t){if(this.app=e,t.isInitialized())return this._delegate=t.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:n}=e.options;Ia(n,"invalid-api-key",{appName:e.name}),Ia(n,"invalid-api-key",{appName:e.name});const r="undefined"!==typeof window?pa:void 0;this._delegate=t.initialize({options:{persistence:Sa(n,e.name),popupRedirectResolver:r}}),this._delegate._updateErrorMap(Ct),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?_a.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,t){Wn(this._delegate,e,t)}applyActionCode(e){return Vr(this._delegate,e)}checkActionCode(e){return Br(this._delegate,e)}confirmPasswordReset(e,t){return async function(e,t,n){await Zn(se(e),{oobCode:t,newPassword:n}).catch((async t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&Ur(e),t}))}(this._delegate,e,t)}async createUserWithEmailAndPassword(e,t){return ya(this._delegate,async function(e,t,n){const r=Vn(e),i=Qn(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",br),s=await i.catch((t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&Ur(e),t})),a=await _r._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(a.user),a}(this._delegate,e,t))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return qr(this._delegate,e)}isSignInWithEmailLink(e){return function(e,t){const n=cr.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}async getRedirectResult(){Ia(aa(),this._delegate,"operation-not-supported-in-this-environment");const e=await async function(e,t){return await Vn(e)._initializationPromise,rs(e,t,!1)}(this._delegate,pa);return e?ya(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){!function(e,t){Vn(e)._logFramework(t)}(this._delegate,e)}onAuthStateChanged(e,t,n){const{next:r,error:i,complete:s}=ka(e,t,n);return this._delegate.onAuthStateChanged(r,i,s)}onIdTokenChanged(e,t,n){const{next:r,error:i,complete:s}=ka(e,t,n);return this._delegate.onIdTokenChanged(r,i,s)}sendSignInLinkToEmail(e,t){return async function(e,t,n){const r=Vn(e),i={requestType:"EMAIL_SIGNIN",email:t,clientType:"CLIENT_TYPE_WEB"};!function(e,t){Vt(t.handleCodeInApp,r,"argument-error"),t&&Fr(r,e,t)}(i,n),await Qn(r,i,"getOobCode",rr)}(this._delegate,e,t)}sendPasswordResetEmail(e,t){return async function(e,t,n){const r=Vn(e),i={requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"};n&&Fr(r,i,n),await Qn(r,i,"getOobCode",nr)}(this._delegate,e,t||void 0)}async setPersistence(e){let t;switch(function(e,t){ca(Object.values(la).includes(t),e,"invalid-persistence-type"),q()?ca(t!==la.SESSION,e,"unsupported-persistence-type"):B()?ca(t===la.NONE,e,"unsupported-persistence-type"):sa()?ca(t===la.NONE||t===la.LOCAL&&H(),e,"unsupported-persistence-type"):ca(t===la.NONE||ia(),e,"unsupported-persistence-type")}(this._delegate,e),e){case la.SESSION:t=ui;break;case la.LOCAL:t=await _n(Si)._isAvailable()?Si:li;break;case la.NONE:t=En;break;default:return jt("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(t)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return ya(this._delegate,async function(e){var t;const n=Vn(e);if(await n._initializationPromise,null===(t=n.currentUser)||void 0===t?void 0:t.isAnonymous)return new _r({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await br(n,{returnSecureToken:!0}),i=await _r._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}(this._delegate))}signInWithCredential(e){return ya(this._delegate,Dr(this._delegate,e))}signInWithCustomToken(e){return ya(this._delegate,Or(this._delegate,e))}signInWithEmailAndPassword(e,t){return ya(this._delegate,zr(this._delegate,e,t))}signInWithEmailLink(e,t){return ya(this._delegate,async function(e,t,n){const r=se(e),i=ur.credentialWithLink(t,n||qt());return Vt(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),Dr(r,i)}(this._delegate,e,t))}signInWithPhoneNumber(e,t){return wa(this._delegate,async function(e,t,n){const r=Vn(e),i=await Mi(r,t,se(n));return new Li(i,(e=>Dr(r,e)))}(this._delegate,e,t))}async signInWithPopup(e){return Ia(aa(),this._delegate,"operation-not-supported-in-this-environment"),ya(this._delegate,async function(e,t,n){const r=Vn(e);Ft(e,t,hr);const i=Ui(r,n);return new Hi(r,"signInViaPopup",t,i).executeNotNull()}(this._delegate,e,pa))}async signInWithRedirect(e){return Ia(aa(),this._delegate,"operation-not-supported-in-this-environment"),await ha(this._delegate),es(this._delegate,e,pa)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return async function(e,t){const{data:n}=await Br(se(e),t);return n.email}(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}function ka(e,t,n){let r=e;"function"!==typeof e&&({next:r,error:t,complete:n}=e);const i=r;return{next:e=>i(e&&_a.getOrCreate(e)),error:t,complete:n}}function Sa(e,t){const n=function(e,t){const n=da();if(!n)return[];const r=kn(ua,e,t);switch(n.getItem(r)){case la.NONE:return[En];case la.LOCAL:return[Si,ui];case la.SESSION:return[ui];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(Si)||n.push(Si),"undefined"!==typeof window)for(const r of[li,ui])n.includes(r)||n.push(r);return n.includes(En)||n.push(En),n}Ea.Persistence=la;class xa{constructor(){this.providerId="phone",this._delegate=new Fi(ma(bt.auth()))}static credential(e,t){return Fi.credential(e,t)}verifyPhoneNumber(e,t){return this._delegate.verifyPhoneNumber(e,t)}unwrap(){return this._delegate}}xa.PHONE_SIGN_IN_METHOD=Fi.PHONE_SIGN_IN_METHOD,xa.PROVIDER_ID=Fi.PROVIDER_ID;const Ta=Vt;class Na{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:bt.app();var r;Ta(null===(r=n.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:n.name}),this._delegate=new ji(n.auth(),e,t),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}var Aa;(Aa=bt).INTERNAL.registerComponent(new ae("auth-compat",(e=>{const t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new Ea(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Et,PASSWORD_RESET:kt,RECOVER_EMAIL:St,REVERT_SECOND_FACTOR_ADDITION:xt,VERIFY_AND_CHANGE_EMAIL:Tt,VERIFY_EMAIL:Nt}},EmailAuthProvider:ur,FacebookAuthProvider:pr,GithubAuthProvider:gr,GoogleAuthProvider:mr,OAuthProvider:fr,SAMLAuthProvider:yr,PhoneAuthProvider:xa,PhoneMultiFactorGenerator:Os,RecaptchaVerifier:Na,TwitterAuthProvider:wr,Auth:Ea,AuthCredential:Xn,Error:Q}).setInstantiationMode("LAZY").setMultipleInstances(!1)),Aa.registerVersion("@firebase/auth-compat","0.5.2");var Ca,Da="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Ra={},Pa=Pa||{},Oa=Da||self;function ja(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function La(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Ma="closure_uid_"+(1e9*Math.random()>>>0),Fa=0;function Ua(e,t,n){return e.call.apply(e.bind,arguments)}function Va(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Ba(e,t,n){return(Ba=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Ua:Va).apply(null,arguments)}function za(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function qa(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}function Ga(){this.s=this.s,this.o=this.o}Ga.prototype.s=!1,Ga.prototype.sa=function(){var e;!this.s&&(this.s=!0,this.N(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,Ma)&&e[Ma]||(e[Ma]=++Fa))},Ga.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Ka=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function Ha(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function Qa(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(ja(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function Wa(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}Wa.prototype.h=function(){this.defaultPrevented=!0};var Ya=function(){if(!Oa.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};Oa.addEventListener("test",e,t),Oa.removeEventListener("test",e,t)}catch(n){}return e}();function Ja(e){return/^[\s\xa0]*$/.test(e)}function Xa(){var e=Oa.navigator;return e&&(e=e.userAgent)?e:""}function Za(e){return-1!=Xa().indexOf(e)}function $a(e){return $a[" "](e),e}$a[" "]=function(){};var eo,to,no=Za("Opera"),ro=Za("Trident")||Za("MSIE"),io=Za("Edge"),so=io||ro,ao=Za("Gecko")&&!(-1!=Xa().toLowerCase().indexOf("webkit")&&!Za("Edge"))&&!(Za("Trident")||Za("MSIE"))&&!Za("Edge"),oo=-1!=Xa().toLowerCase().indexOf("webkit")&&!Za("Edge");function lo(){var e=Oa.document;return e?e.documentMode:void 0}e:{var co="",uo=function(){var e=Xa();return ao?/rv:([^\);]+)(\)|;)/.exec(e):io?/Edge\/([\d\.]+)/.exec(e):ro?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):oo?/WebKit\/(\S+)/.exec(e):no?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(uo&&(co=uo?uo[1]:""),ro){var ho=lo();if(null!=ho&&ho>parseFloat(co)){eo=String(ho);break e}}eo=co}if(Oa.document&&ro){var fo=lo();to=fo||(parseInt(eo,10)||void 0)}else to=void 0;var po=to;function mo(e,t){if(Wa.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(ao){e:{try{$a(t.nodeName);var i=!0;break e}catch(s){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:go[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&mo.$.h.call(this)}}qa(mo,Wa);var go={2:"touch",3:"pen",4:"mouse"};mo.prototype.h=function(){mo.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var vo="closure_listenable_"+(1e6*Math.random()|0),yo=0;function wo(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++yo,this.fa=this.ia=!1}function bo(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function _o(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function Io(e){const t={};for(const n in e)t[n]=e[n];return t}const Eo="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ko(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<Eo.length;t++)n=Eo[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function So(e){this.src=e,this.g={},this.h=0}function xo(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],s=Ka(i,t);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(bo(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function To(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.fa&&s.listener==t&&s.capture==!!n&&s.la==r)return i}return-1}So.prototype.add=function(e,t,n,r,i){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var a=To(e,t,r,i);return-1<a?(t=e[a],n||(t.ia=!1)):((t=new wo(t,this.src,s,!!r,i)).ia=n,e.push(t)),t};var No="closure_lm_"+(1e6*Math.random()|0),Ao={};function Co(e,t,n,r,i){if(r&&r.once)return Ro(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)Co(e,t[s],n,r,i);return null}return n=Uo(n),e&&e[vo]?e.O(t,n,La(r)?!!r.capture:!!r,i):Do(e,t,n,!1,r,i)}function Do(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var a=La(i)?!!i.capture:!!i,o=Mo(e);if(o||(e[No]=o=new So(e)),(n=o.add(t,n,r,a,s)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=Lo;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Ya||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(jo(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Ro(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)Ro(e,t[s],n,r,i);return null}return n=Uo(n),e&&e[vo]?e.P(t,n,La(r)?!!r.capture:!!r,i):Do(e,t,n,!0,r,i)}function Po(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)Po(e,t[s],n,r,i);else r=La(r)?!!r.capture:!!r,n=Uo(n),e&&e[vo]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=To(s=e.g[t],n,r,i))&&(bo(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete e.g[t],e.h--)))):e&&(e=Mo(e))&&(t=e.g[t.toString()],e=-1,t&&(e=To(t,n,r,i)),(n=-1<e?t[e]:null)&&Oo(n))}function Oo(e){if("number"!==typeof e&&e&&!e.fa){var t=e.src;if(t&&t[vo])xo(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(jo(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Mo(t))?(xo(n,e),0==n.h&&(n.src=null,t[No]=null)):bo(e)}}}function jo(e){return e in Ao?Ao[e]:Ao[e]="on"+e}function Lo(e,t){if(e.fa)e=!0;else{t=new mo(t,this);var n=e.listener,r=e.la||e.src;e.ia&&Oo(e),e=n.call(r,t)}return e}function Mo(e){return(e=e[No])instanceof So?e:null}var Fo="__closure_events_fn_"+(1e9*Math.random()>>>0);function Uo(e){return"function"===typeof e?e:(e[Fo]||(e[Fo]=function(t){return e.handleEvent(t)}),e[Fo])}function Vo(){Ga.call(this),this.i=new So(this),this.S=this,this.J=null}function Bo(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"===typeof t)t=new Wa(t,e);else if(t instanceof Wa)t.target=t.target||e;else{var i=t;ko(t=new Wa(r,e),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var a=t.g=n[s];i=zo(a,r,!0,t)&&i}if(i=zo(a=t.g=e,r,!0,t)&&i,i=zo(a,r,!1,t)&&i,n)for(s=0;s<n.length;s++)i=zo(a=t.g=n[s],r,!1,t)&&i}function zo(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var a=t[s];if(a&&!a.fa&&a.capture==n){var o=a.listener,l=a.la||a.src;a.ia&&xo(e.i,a),i=!1!==o.call(l,r)&&i}}return i&&!r.defaultPrevented}qa(Vo,Ga),Vo.prototype[vo]=!0,Vo.prototype.removeEventListener=function(e,t,n,r){Po(this,e,t,n,r)},Vo.prototype.N=function(){if(Vo.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)bo(n[r]);delete t.g[e],t.h--}}this.J=null},Vo.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Vo.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var qo=Oa.JSON.stringify;function Go(){var e=Xo;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Ko=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new Ho),(e=>e.reset()));class Ho{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Qo(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function Wo(e){Oa.setTimeout((()=>{throw e}),0)}let Yo,Jo=!1,Xo=new class{constructor(){this.h=this.g=null}add(e,t){const n=Ko.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},Zo=()=>{const e=Oa.Promise.resolve(void 0);Yo=()=>{e.then($o)}};var $o=()=>{for(var e;e=Go();){try{e.h.call(e.g)}catch(n){Wo(n)}var t=Ko;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Jo=!1};function el(e,t){Vo.call(this),this.h=e||1,this.g=t||Oa,this.j=Ba(this.qb,this),this.l=Date.now()}function tl(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function nl(e,t,n){if("function"===typeof e)n&&(e=Ba(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Ba(e.handleEvent,e)}return 2147483647<Number(t)?-1:Oa.setTimeout(e,t||0)}function rl(e){e.g=nl((()=>{e.g=null,e.i&&(e.i=!1,rl(e))}),e.j);const t=e.h;e.h=null,e.m.apply(null,t)}qa(el,Vo),(Ca=el.prototype).ga=!1,Ca.T=null,Ca.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Bo(this,"tick"),this.ga&&(tl(this),this.start()))}},Ca.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Ca.N=function(){el.$.N.call(this),tl(this),delete this.g};class il extends Ga{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:rl(this)}N(){super.N(),this.g&&(Oa.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function sl(e){Ga.call(this),this.h=e,this.g={}}qa(sl,Ga);var al=[];function ol(e,t,n,r){Array.isArray(n)||(n&&(al[0]=n.toString()),n=al);for(var i=0;i<n.length;i++){var s=Co(t,n[i],r||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function ll(e){_o(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Oo(e)}),e),e.g={}}function cl(){this.g=!0}function ul(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var a=1;a<i.length;a++)i[a]=""}}}return qo(n)}catch(o){return t}}(e,n)+(r?" "+r:"")}))}sl.prototype.N=function(){sl.$.N.call(this),ll(this)},sl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},cl.prototype.Ea=function(){this.g=!1},cl.prototype.info=function(){};var hl={},dl=null;function fl(){return dl=dl||new Vo}function pl(e){Wa.call(this,hl.Ta,e)}function ml(e){const t=fl();Bo(t,new pl(t))}function gl(e,t){Wa.call(this,hl.STAT_EVENT,e),this.stat=t}function vl(e){const t=fl();Bo(t,new gl(t,e))}function yl(e,t){Wa.call(this,hl.Ua,e),this.size=t}function wl(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return Oa.setTimeout((function(){e()}),t)}hl.Ta="serverreachability",qa(pl,Wa),hl.STAT_EVENT="statevent",qa(gl,Wa),hl.Ua="timingevent",qa(yl,Wa);var bl={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},_l={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Il(){}function El(e){return e.h||(e.h=e.i())}function kl(){}Il.prototype.h=null;var Sl,xl={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Tl(){Wa.call(this,"d")}function Nl(){Wa.call(this,"c")}function Al(){}function Cl(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new sl(this),this.P=Rl,e=so?125:void 0,this.V=new el(e),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Dl}function Dl(){this.i=null,this.g="",this.h=!1}qa(Tl,Wa),qa(Nl,Wa),qa(Al,Il),Al.prototype.g=function(){return new XMLHttpRequest},Al.prototype.i=function(){return{}},Sl=new Al;var Rl=45e3,Pl={},Ol={};function jl(e,t,n){e.L=1,e.A=ec(Yl(t)),e.u=n,e.S=!0,Ll(e,null)}function Ll(e,t){e.G=Date.now(),Vl(e),e.B=Yl(e.A);var n=e.B,r=e.W;Array.isArray(r)||(r=[String(r)]),fc(n.i,"t",r),e.o=0,n=e.l.J,e.h=new Dl,e.g=pu(e.l,n?t:null,!e.u),0<e.O&&(e.M=new il(Ba(e.Pa,e,e.g),e.O)),ol(e.U,e.g,"readystatechange",e.nb),t=e.I?Io(e.I):{},e.u?(e.v||(e.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.B,e.v,e.u,t)):(e.v="GET",e.g.ha(e.B,e.v,null,t)),ml(),function(e,t,n,r,i,s){e.info((function(){if(e.g)if(s)for(var a="",o=s.split("&"),l=0;l<o.length;l++){var c=o[l].split("=");if(1<c.length){var u=c[0];c=c[1];var h=u.split("_");a=2<=h.length&&"type"==h[1]?a+(u+"=")+c+"&":a+(u+"=redacted&")}}else a=null;else a=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+a}))}(e.j,e.v,e.B,e.m,e.W,e.u)}function Ml(e){return!!e.g&&("GET"==e.v&&2!=e.L&&e.l.Ha)}function Fl(e,t,n){let r,i=!0;for(;!e.J&&e.o<n.length;){if(r=Ul(e,n),r==Ol){4==t&&(e.s=4,vl(14),i=!1),ul(e.j,e.m,null,"[Incomplete Response]");break}if(r==Pl){e.s=4,vl(15),ul(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}ul(e.j,e.m,r,null),Kl(e,r)}Ml(e)&&0!=e.o&&(e.h.g=e.h.g.slice(e.o),e.o=0),4!=t||0!=n.length||e.h.h||(e.s=1,vl(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ba&&(e.ba=!0,(t=e.l).g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),au(t),t.M=!0,vl(11))):(ul(e.j,e.m,n,"[Invalid Chunked Response]"),Gl(e),ql(e))}function Ul(e,t){var n=e.o,r=t.indexOf("\n",n);return-1==r?Ol:(n=Number(t.substring(n,r)),isNaN(n)?Pl:(r+=1)+n>t.length?Ol:(t=t.slice(r,r+n),e.o=r+n,t))}function Vl(e){e.Y=Date.now()+e.P,Bl(e,e.P)}function Bl(e,t){if(null!=e.C)throw Error("WatchDog timer not null");e.C=wl(Ba(e.lb,e),t)}function zl(e){e.C&&(Oa.clearTimeout(e.C),e.C=null)}function ql(e){0==e.l.H||e.J||cu(e.l,e)}function Gl(e){zl(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,tl(e.V),ll(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function Kl(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||bc(n.i,e)))if(!e.K&&bc(n.i,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(c){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;lu(n),Zc(n)}su(n),vl(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=wl(Ba(n.ib,n),6e3));if(1>=wc(n.i)&&n.oa){try{n.oa()}catch(c){}n.oa=void 0}}else hu(n,11)}else if((e.K||n.g==e)&&lu(n),!Ja(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){let c=i[t];if(n.V=c[0],c=c[1],2==n.H)if("c"==c[0]){n.K=c[1],n.pa=c[2];const t=c[3];null!=t&&(n.ra=t,n.l.info("VER="+n.ra));const i=c[4];null!=i&&(n.Ga=i,n.l.info("SVER="+n.Ga));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=r.i;s.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(_c(s,s.h),s.h=null))}if(r.F){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.Da=e,$l(r.I,r.F,e))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms"));var a=e;if((r=n).wa=fu(r,r.J?r.pa:null,r.Y),a.K){Ic(r.i,a);var o=a,l=r.L;l&&o.setTimeout(l),o.C&&(zl(o),Vl(o)),r.g=a}else iu(r);0<n.j.length&&eu(n)}else"stop"!=c[0]&&"close"!=c[0]||hu(n,7);else 3==n.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?hu(n,7):Xc(n):"noop"!=c[0]&&n.h&&n.h.Aa(c),n.A=0)}ml()}catch(c){}}function Hl(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(ja(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(ja(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(ja(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}(Ca=Cl.prototype).setTimeout=function(e){this.P=e},Ca.nb=function(e){e=e.target;const t=this.M;t&&3==Kc(e)?t.l():this.Pa(e)},Ca.Pa=function(e){try{if(e==this.g)e:{const u=Kc(this.g);var t=this.g.Ia();this.g.da();if(!(3>u)&&(3!=u||so||this.g&&(this.h.h||this.g.ja()||Hc(this.g)))){this.J||4!=u||7==t||ml(),zl(this);var n=this.g.da();this.ca=n;t:if(Ml(this)){var r=Hc(this.g);e="";var i=r.length,s=4==Kc(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Gl(this),ql(this);var a="";break t}this.h.i=new Oa.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:s&&t==i-1});r.length=0,this.h.g+=e,this.o=0,a=this.h.g}else a=this.g.ja();if(this.i=200==n,function(e,t,n,r,i,s,a){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+s+" "+a}))}(this.j,this.v,this.B,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var o,l=this.g;if((o=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ja(o)){var c=o;break t}}c=null}if(!(n=c)){this.i=!1,this.s=3,vl(12),Gl(this),ql(this);break e}ul(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Kl(this,n)}this.S?(Fl(this,u,a),so&&this.i&&3==u&&(ol(this.U,this.V,"tick",this.mb),this.V.start())):(ul(this.j,this.m,a,null),Kl(this,a)),4==u&&Gl(this),this.i&&!this.J&&(4==u?cu(this.l,this):(this.i=!1,Vl(this)))}else(function(e){const t={};e=(e.g&&2<=Kc(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(Ja(e[r]))continue;var n=Qo(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const s=t[i]||[];t[i]=s,s.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<a.indexOf("Unknown SID")?(this.s=3,vl(12)):(this.s=0,vl(13)),Gl(this),ql(this)}}}catch(u){}},Ca.mb=function(){if(this.g){var e=Kc(this.g),t=this.g.ja();this.o<t.length&&(zl(this),Fl(this,e,t),this.i&&4!=e&&Vl(this))}},Ca.cancel=function(){this.J=!0,Gl(this)},Ca.lb=function(){this.C=null;const e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.B),2!=this.L&&(ml(),vl(17)),Gl(this),this.s=2,ql(this)):Bl(this,this.Y-e)};var Ql=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Wl(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof Wl){this.h=e.h,Jl(this,e.j),this.s=e.s,this.g=e.g,Xl(this,e.m),this.l=e.l;var t=e.i,n=new cc;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),Zl(this,n),this.o=e.o}else e&&(t=String(e).match(Ql))?(this.h=!1,Jl(this,t[1]||"",!0),this.s=tc(t[2]||""),this.g=tc(t[3]||"",!0),Xl(this,t[4]),this.l=tc(t[5]||"",!0),Zl(this,t[6]||"",!0),this.o=tc(t[7]||"")):(this.h=!1,this.i=new cc(null,this.h))}function Yl(e){return new Wl(e)}function Jl(e,t,n){e.j=n?tc(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Xl(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Zl(e,t,n){t instanceof cc?(e.i=t,function(e,t){t&&!e.j&&(uc(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(hc(this,t),fc(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=nc(t,oc)),e.i=new cc(t,e.h))}function $l(e,t,n){e.i.set(t,n)}function ec(e){return $l(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function tc(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function nc(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,rc),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function rc(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Wl.prototype.toString=function(){var e=[],t=this.j;t&&e.push(nc(t,ic,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(nc(t,ic,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(nc(n,"/"==n.charAt(0)?ac:sc,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",nc(n,lc)),e.join("")};var ic=/[#\/\?@]/g,sc=/[#\?:]/g,ac=/[#\?]/g,oc=/[#\?@]/g,lc=/#/g;function cc(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function uc(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function hc(e,t){uc(e),t=pc(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function dc(e,t){return uc(e),t=pc(e,t),e.g.has(t)}function fc(e,t,n){hc(e,t),0<n.length&&(e.i=null,e.g.set(pc(e,t),Ha(n)),e.h+=n.length)}function pc(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Ca=cc.prototype).add=function(e,t){uc(this),this.i=null,e=pc(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Ca.forEach=function(e,t){uc(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},Ca.ta=function(){uc(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},Ca.Z=function(e){uc(this);let t=[];if("string"===typeof e)dc(this,e)&&(t=t.concat(this.g.get(pc(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},Ca.set=function(e,t){return uc(this),this.i=null,dc(this,e=pc(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Ca.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},Ca.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const s=encodeURIComponent(String(r)),a=this.Z(r);for(r=0;r<a.length;r++){var i=s;""!==a[r]&&(i+="="+encodeURIComponent(String(a[r]))),e.push(i)}}return this.i=e.join("&")};var mc=class{constructor(e,t){this.g=e,this.map=t}};function gc(e){this.l=e||vc,Oa.PerformanceNavigationTiming?e=0<(e=Oa.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(Oa.g&&Oa.g.Ka&&Oa.g.Ka()&&Oa.g.Ka().dc),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var vc=10;function yc(e){return!!e.h||!!e.g&&e.g.size>=e.j}function wc(e){return e.h?1:e.g?e.g.size:0}function bc(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function _c(e,t){e.g?e.g.add(t):e.h=t}function Ic(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Ec(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return Ha(e.i)}gc.prototype.cancel=function(){if(this.i=Ec(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var kc,Sc=class{stringify(e){return Oa.JSON.stringify(e,void 0)}parse(e){return Oa.JSON.parse(e,void 0)}};function xc(){this.g=new Sc}function Tc(e,t,n){const r=n||"";try{Hl(e,(function(e,n){let i=e;La(e)&&(i=qo(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Nc(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(s){}}function Ac(e){this.l=e.ec||null,this.j=e.ob||!1}function Cc(e,t){Vo.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=Dc,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}qa(Ac,Il),Ac.prototype.g=function(){return new Cc(this.l,this.j)},Ac.prototype.i=(kc={},function(){return kc}),qa(Cc,Vo);var Dc=0;function Rc(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function Pc(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Oc(e)}function Oc(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Ca=Cc.prototype).open=function(e,t){if(this.readyState!=Dc)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Oc(this)},Ca.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||Oa).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},Ca.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Pc(this)),this.readyState=Dc},Ca.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Oc(this)),this.g&&(this.readyState=3,Oc(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof Oa.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Rc(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},Ca.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Pc(this):Oc(this),3==this.readyState&&Rc(this)}},Ca.Za=function(e){this.g&&(this.response=this.responseText=e,Pc(this))},Ca.Ya=function(e){this.g&&(this.response=e,Pc(this))},Ca.ka=function(){this.g&&Pc(this)},Ca.setRequestHeader=function(e,t){this.v.append(e,t)},Ca.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Ca.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Cc.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var jc=Oa.JSON.parse;function Lc(e){Vo.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Mc,this.L=this.M=!1}qa(Lc,Vo);var Mc="",Fc=/^https?$/i,Uc=["POST","PUT"];function Vc(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Bc(e),qc(e)}function Bc(e){e.F||(e.F=!0,Bo(e,"complete"),Bo(e,"error"))}function zc(e){if(e.h&&"undefined"!=typeof Pa&&(!e.C[1]||4!=Kc(e)||2!=e.da()))if(e.v&&4==Kc(e))nl(e.La,0,e);else if(Bo(e,"readystatechange"),4==Kc(e)){e.h=!1;try{const o=e.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===o){var i=String(e.I).match(Ql)[1]||null;!i&&Oa.self&&Oa.self.location&&(i=Oa.self.location.protocol.slice(0,-1)),r=!Fc.test(i?i.toLowerCase():"")}n=r}if(n)Bo(e,"complete"),Bo(e,"success");else{e.m=6;try{var s=2<Kc(e)?e.g.statusText:""}catch(a){s=""}e.j=s+" ["+e.da()+"]",Bc(e)}}finally{qc(e)}}}function qc(e,t){if(e.g){Gc(e);const r=e.g,i=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||Bo(e,"ready");try{r.onreadystatechange=i}catch(n){}}}function Gc(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(Oa.clearTimeout(e.A),e.A=null)}function Kc(e){return e.g?e.g.readyState:0}function Hc(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case Mc:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch($u){return null}}function Qc(e){let t="";return _o(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Wc(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Qc(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):$l(e,t,n))}function Yc(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Jc(e){this.Ga=0,this.j=[],this.l=new cl,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Yc("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Yc("baseRetryDelayMs",5e3,e),this.hb=Yc("retryDelaySeedMs",1e4,e),this.eb=Yc("forwardChannelMaxRetries",2,e),this.xa=Yc("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new gc(e&&e.concurrentRequestLimit),this.Ja=new xc,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function Xc(e){if($c(e),3==e.H){var t=e.W++,n=Yl(e.I);if($l(n,"SID",e.K),$l(n,"RID",t),$l(n,"TYPE","terminate"),nu(e,n),(t=new Cl(e,e.l,t)).L=2,t.A=ec(Yl(n)),n=!1,Oa.navigator&&Oa.navigator.sendBeacon)try{n=Oa.navigator.sendBeacon(t.A.toString(),"")}catch(r){}!n&&Oa.Image&&((new Image).src=t.A,n=!0),n||(t.g=pu(t.l,null),t.g.ha(t.A)),t.G=Date.now(),Vl(t)}du(e)}function Zc(e){e.g&&(au(e),e.g.cancel(),e.g=null)}function $c(e){Zc(e),e.u&&(Oa.clearTimeout(e.u),e.u=null),lu(e),e.i.cancel(),e.m&&("number"===typeof e.m&&Oa.clearTimeout(e.m),e.m=null)}function eu(e){if(!yc(e.i)&&!e.m){e.m=!0;var t=e.Na;Yo||Zo(),Jo||(Yo(),Jo=!0),Xo.add(t,e),e.C=0}}function tu(e,t){var n;n=t?t.m:e.W++;const r=Yl(e.I);$l(r,"SID",e.K),$l(r,"RID",n),$l(r,"AID",e.V),nu(e,r),e.o&&e.s&&Wc(r,e.o,e.s),n=new Cl(e,e.l,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=ru(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),_c(e.i,n),jl(n,r,t)}function nu(e,t){e.na&&_o(e.na,(function(e,n){$l(t,n,e)})),e.h&&Hl({},(function(e,n){$l(t,n,e)}))}function ru(e,t,n){n=Math.min(e.j.length,n);var r=e.h?Ba(e.h.Va,e.h,e):null;e:{var i=e.j;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let s=!0;for(let a=0;a<n;a++){let n=i[a].g;const o=i[a].map;if(n-=t,0>n)t=Math.max(0,i[a].g-100),s=!1;else try{Tc(o,e,"req"+n+"_")}catch(gd){r&&r(o)}}if(s){r=e.join("&");break e}}}return e=e.j.splice(0,n),t.F=e,r}function iu(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;Yo||Zo(),Jo||(Yo(),Jo=!0),Xo.add(t,e),e.A=0}}function su(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=wl(Ba(e.Ma,e),uu(e,e.A)),e.A++,!0)}function au(e){null!=e.B&&(Oa.clearTimeout(e.B),e.B=null)}function ou(e){e.g=new Cl(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=Yl(e.wa);$l(t,"RID","rpc"),$l(t,"SID",e.K),$l(t,"AID",e.V),$l(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&$l(t,"TO",e.qa),$l(t,"TYPE","xmlhttp"),nu(e,t),e.o&&e.s&&Wc(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.A=ec(Yl(t)),n.u=null,n.S=!0,Ll(n,e)}function lu(e){null!=e.v&&(Oa.clearTimeout(e.v),e.v=null)}function cu(e,t){var n=null;if(e.g==t){lu(e),au(e),e.g=null;var r=2}else{if(!bc(e.i,t))return;n=t.F,Ic(e.i,t),r=1}if(0!=e.H)if(t.i)if(1==r){n=t.u?t.u.length:0,t=Date.now()-t.G;var i=e.C;Bo(r=fl(),new yl(r,n)),eu(e)}else iu(e);else if(3==(i=t.s)||0==i&&0<t.ca||!(1==r&&function(e,t){return!(wc(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.j=t.F.concat(e.j),!0):!(1==e.H||2==e.H||e.C>=(e.cb?0:e.eb))&&(e.m=wl(Ba(e.Na,e,t),uu(e,e.C)),e.C++,!0))}(e,t)||2==r&&su(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:hu(e,5);break;case 4:hu(e,10);break;case 3:hu(e,6);break;default:hu(e,2)}}function uu(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function hu(e,t){if(e.l.info("Error code "+t),2==t){var n=null;e.h&&(n=null);var r=Ba(e.pb,e);n||(n=new Wl("//www.google.com/images/cleardot.gif"),Oa.location&&"http"==Oa.location.protocol||Jl(n,"https"),ec(n)),function(e,t){const n=new cl;if(Oa.Image){const r=new Image;r.onload=za(Nc,n,r,"TestLoadImage: loaded",!0,t),r.onerror=za(Nc,n,r,"TestLoadImage: error",!1,t),r.onabort=za(Nc,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=za(Nc,n,r,"TestLoadImage: timeout",!1,t),Oa.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else vl(2);e.H=0,e.h&&e.h.za(t),du(e),$c(e)}function du(e){if(e.H=0,e.ma=[],e.h){const t=Ec(e.i);0==t.length&&0==e.j.length||(Qa(e.ma,t),Qa(e.ma,e.j),e.i.i.length=0,Ha(e.j),e.j.length=0),e.h.ya()}}function fu(e,t,n){var r=n instanceof Wl?Yl(n):new Wl(n);if(""!=r.g)t&&(r.g=t+"."+r.g),Xl(r,r.m);else{var i=Oa.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var s=new Wl(null);r&&Jl(s,r),t&&(s.g=t),i&&Xl(s,i),n&&(s.l=n),r=s}return n=e.F,t=e.Da,n&&t&&$l(r,n,t),$l(r,"VER",e.ra),nu(e,r),r}function pu(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ha&&!e.va?new Lc(new Ac({ob:n})):new Lc(e.va)).Oa(e.J),t}function mu(){}function gu(){if(ro&&!(10<=Number(po)))throw Error("Environmental error: no available transport.")}function vu(e,t){Vo.call(this),this.g=new Jc(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!Ja(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Ja(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new bu(this)}function yu(e){Tl.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function wu(){Nl.call(this),this.status=1}function bu(e){this.g=e}function _u(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Iu(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var s=e.g[3],a=t+(s^n&(i^s))+r[0]+3614090360&4294967295;a=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=n+(a<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[3]+3250441966&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[7]+4249261313&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[11]+2304563134&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[15]+1236535329&4294967295)<<22&4294967295|a>>>10))+((a=t+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[11]+643717713&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[15]+3634488961&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[3]+4107603335&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[7]+1735328473&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|a>>>12))+((a=t+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[14]+4259657740&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[10]+3200236656&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[6]+76029189&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[15]+530742520&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[2]+3299628645&4294967295)<<23&4294967295|a>>>9))+((a=t+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|a>>>11))+((s=(t=n+((a=t+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|a>>>22))^((i=s+((a=i+(t^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|a>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(a<<21&4294967295|a>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+s&4294967295}function Eu(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var s=0|e[i];r&&s==t||(n[i]=s,r=!1)}this.g=n}(Ca=Lc.prototype).Oa=function(e){this.M=e},Ca.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Sl.g(),this.C=this.u?El(this.u):El(Sl),this.g.onreadystatechange=Ba(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(s){return void Vc(this,s)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),i=Oa.FormData&&e instanceof Oa.FormData,!(0<=Ka(Uc,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[a,o]of n)this.g.setRequestHeader(a,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Gc(this),0<this.B&&((this.L=function(e){return ro&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ba(this.ua,this)):this.A=nl(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){Vc(this,s)}},Ca.ua=function(){"undefined"!=typeof Pa&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Bo(this,"timeout"),this.abort(8))},Ca.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Bo(this,"complete"),Bo(this,"abort"),qc(this))},Ca.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),qc(this,!0)),Lc.$.N.call(this)},Ca.La=function(){this.s||(this.G||this.v||this.l?zc(this):this.kb())},Ca.kb=function(){zc(this)},Ca.isActive=function(){return!!this.g},Ca.da=function(){try{return 2<Kc(this)?this.g.status:-1}catch(kc){return-1}},Ca.ja=function(){try{return this.g?this.g.responseText:""}catch(kc){return""}},Ca.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),jc(t)}},Ca.Ia=function(){return this.m},Ca.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(Ca=Jc.prototype).ra=8,Ca.H=1,Ca.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const i=new Cl(this,this.l,e);let s=this.s;if(this.U&&(s?(s=Io(s),ko(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var t=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.j.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=ru(this,i,t),$l(n=Yl(this.I),"RID",e),$l(n,"CVER",22),this.F&&$l(n,"X-HTTP-Session-Id",this.F),nu(this,n),s&&(this.O?t="headers="+encodeURIComponent(String(Qc(s)))+"&"+t:this.o&&Wc(n,this.o,s)),_c(this.i,i),this.bb&&$l(n,"TYPE","init"),this.P?($l(n,"$req",t),$l(n,"SID","null"),i.aa=!0,jl(i,n,null)):jl(i,n,t),this.H=2}}else 3==this.H&&(e?tu(this,e):0==this.j.length||yc(this.i)||tu(this))},Ca.Ma=function(){if(this.u=null,ou(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=wl(Ba(this.jb,this),e)}},Ca.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,vl(10),Zc(this),ou(this))},Ca.ib=function(){null!=this.v&&(this.v=null,Zc(this),su(this),vl(19))},Ca.pb=function(e){e?(this.l.info("Successfully pinged google.com"),vl(2)):(this.l.info("Failed to ping google.com"),vl(1))},Ca.isActive=function(){return!!this.h&&this.h.isActive(this)},(Ca=mu.prototype).Ba=function(){},Ca.Aa=function(){},Ca.za=function(){},Ca.ya=function(){},Ca.isActive=function(){return!0},Ca.Va=function(){},gu.prototype.g=function(e,t){return new vu(e,t)},qa(vu,Vo),vu.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;vl(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=fu(e,null,e.Y),eu(e)},vu.prototype.close=function(){Xc(this.g)},vu.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=qo(e),e=n);t.j.push(new mc(t.fb++,e)),3==t.H&&eu(t)},vu.prototype.N=function(){this.g.h=null,delete this.j,Xc(this.g),delete this.g,vu.$.N.call(this)},qa(yu,Tl),qa(wu,Nl),qa(bu,mu),bu.prototype.Ba=function(){Bo(this.g,"a")},bu.prototype.Aa=function(e){Bo(this.g,new yu(e))},bu.prototype.za=function(e){Bo(this.g,new wu)},bu.prototype.ya=function(){Bo(this.g,"b")},qa(_u,(function(){this.blockSize=-1})),_u.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},_u.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,s=0;s<t;){if(0==i)for(;s<=n;)Iu(this,e,s),s+=this.blockSize;if("string"===typeof e){for(;s<t;)if(r[i++]=e.charCodeAt(s++),i==this.blockSize){Iu(this,r),i=0;break}}else for(;s<t;)if(r[i++]=e[s++],i==this.blockSize){Iu(this,r),i=0;break}}this.h=i,this.i+=t},_u.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var ku={};function Su(e){return-128<=e&&128>e?function(e,t){var n=ku;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new Eu([0|e],0>e?-1:0)})):new Eu([0|e],0>e?-1:0)}function xu(e){if(isNaN(e)||!isFinite(e))return Nu;if(0>e)return Pu(xu(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=Tu;return new Eu(t,0)}var Tu=4294967296,Nu=Su(0),Au=Su(1),Cu=Su(16777216);function Du(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function Ru(e){return-1==e.h}function Pu(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new Eu(n,~e.h).add(Au)}function Ou(e,t){return e.add(Pu(t))}function ju(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function Lu(e,t){this.g=e,this.h=t}function Mu(e,t){if(Du(t))throw Error("division by zero");if(Du(e))return new Lu(Nu,Nu);if(Ru(e))return t=Mu(Pu(e),t),new Lu(Pu(t.g),Pu(t.h));if(Ru(t))return t=Mu(e,Pu(t)),new Lu(Pu(t.g),t.h);if(30<e.g.length){if(Ru(e)||Ru(t))throw Error("slowDivide_ only works with positive integers.");for(var n=Au,r=t;0>=r.X(e);)n=Fu(n),r=Fu(r);var i=Uu(n,1),s=Uu(r,1);for(r=Uu(r,2),n=Uu(n,2);!Du(r);){var a=s.add(r);0>=a.X(e)&&(i=i.add(n),s=a),r=Uu(r,1),n=Uu(n,1)}return t=Ou(e,i.R(t)),new Lu(i,t)}for(i=Nu;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),a=(s=xu(n)).R(t);Ru(a)||0<a.X(e);)a=(s=xu(n-=r)).R(t);Du(s)&&(s=Au),i=i.add(s),e=Ou(e,a)}return new Lu(i,e)}function Fu(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new Eu(n,e.h)}function Uu(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],s=0;s<r;s++)i[s]=0<t?e.D(s+n)>>>t|e.D(s+n+1)<<32-t:e.D(s+n);return new Eu(i,e.h)}(Ca=Eu.prototype).ea=function(){if(Ru(this))return-Pu(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:Tu+r)*t,t*=Tu}return e},Ca.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(Du(this))return"0";if(Ru(this))return"-"+Pu(this).toString(e);for(var t=xu(Math.pow(e,6)),n=this,r="";;){var i=Mu(n,t).g,s=((0<(n=Ou(n,i.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(Du(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},Ca.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},Ca.X=function(e){return Ru(e=Ou(this,e))?-1:Du(e)?0:1},Ca.abs=function(){return Ru(this)?Pu(this):this},Ca.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var s=r+(65535&this.D(i))+(65535&e.D(i)),a=(s>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=a>>>16,s&=65535,a&=65535,n[i]=a<<16|s}return new Eu(n,-2147483648&n[n.length-1]?-1:0)},Ca.R=function(e){if(Du(this)||Du(e))return Nu;if(Ru(this))return Ru(e)?Pu(this).R(Pu(e)):Pu(Pu(this).R(e));if(Ru(e))return Pu(this.R(Pu(e)));if(0>this.X(Cu)&&0>e.X(Cu))return xu(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var s=this.D(r)>>>16,a=65535&this.D(r),o=e.D(i)>>>16,l=65535&e.D(i);n[2*r+2*i]+=a*l,ju(n,2*r+2*i),n[2*r+2*i+1]+=s*l,ju(n,2*r+2*i+1),n[2*r+2*i+1]+=a*o,ju(n,2*r+2*i+1),n[2*r+2*i+2]+=s*o,ju(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new Eu(n,0)},Ca.gb=function(e){return Mu(this,e).h},Ca.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new Eu(n,this.h&e.h)},Ca.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new Eu(n,this.h|e.h)},Ca.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new Eu(n,this.h^e.h)},gu.prototype.createWebChannel=gu.prototype.g,vu.prototype.send=vu.prototype.u,vu.prototype.open=vu.prototype.m,vu.prototype.close=vu.prototype.close,bl.NO_ERROR=0,bl.TIMEOUT=8,bl.HTTP_ERROR=6,_l.COMPLETE="complete",kl.EventType=xl,xl.OPEN="a",xl.CLOSE="b",xl.ERROR="c",xl.MESSAGE="d",Vo.prototype.listen=Vo.prototype.O,Lc.prototype.listenOnce=Lc.prototype.P,Lc.prototype.getLastError=Lc.prototype.Sa,Lc.prototype.getLastErrorCode=Lc.prototype.Ia,Lc.prototype.getStatus=Lc.prototype.da,Lc.prototype.getResponseJson=Lc.prototype.Wa,Lc.prototype.getResponseText=Lc.prototype.ja,Lc.prototype.send=Lc.prototype.ha,Lc.prototype.setWithCredentials=Lc.prototype.Oa,_u.prototype.digest=_u.prototype.l,_u.prototype.reset=_u.prototype.reset,_u.prototype.update=_u.prototype.j,Eu.prototype.add=Eu.prototype.add,Eu.prototype.multiply=Eu.prototype.R,Eu.prototype.modulo=Eu.prototype.gb,Eu.prototype.compare=Eu.prototype.X,Eu.prototype.toNumber=Eu.prototype.ea,Eu.prototype.toString=Eu.prototype.toString,Eu.prototype.getBits=Eu.prototype.D,Eu.fromNumber=xu,Eu.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return Pu(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=xu(Math.pow(n,8)),i=Nu,s=0;s<t.length;s+=8){var a=Math.min(8,t.length-s),o=parseInt(t.substring(s,s+a),n);8>a?(a=xu(Math.pow(n,a)),i=i.R(a).add(xu(o))):i=(i=i.R(r)).add(xu(o))}return i};var Vu=Ra.createWebChannelTransport=function(){return new gu},Bu=Ra.getStatEventTarget=function(){return fl()},zu=Ra.ErrorCode=bl,qu=Ra.EventType=_l,Gu=Ra.Event=hl,Ku=Ra.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Hu=(Ra.FetchXmlHttpFactory=Ac,Ra.WebChannel=kl),Qu=Ra.XhrIo=Lc,Wu=Ra.Md5=_u,Yu=Ra.Integer=Eu;const Ju="@firebase/firestore";class Xu{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Xu.UNAUTHENTICATED=new Xu(null),Xu.GOOGLE_CREDENTIALS=new Xu("google-credentials-uid"),Xu.FIRST_PARTY=new Xu("first-party-uid"),Xu.MOCK_USER=new Xu("mock-user");let Zu="10.8.0";const $u=new ge("@firebase/firestore");function eh(){return $u.logLevel}function th(e){if($u.logLevel<=he.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(ih);$u.debug("Firestore (".concat(Zu,"): ").concat(e),...i)}}function nh(e){if($u.logLevel<=he.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(ih);$u.error("Firestore (".concat(Zu,"): ").concat(e),...i)}}function rh(e){if($u.logLevel<=he.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(ih);$u.warn("Firestore (".concat(Zu,"): ").concat(e),...i)}}function ih(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function sh(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state";const t="FIRESTORE (".concat(Zu,") INTERNAL ASSERTION FAILED: ")+e;throw nh(t),new Error(t)}function ah(e,t){e||sh()}function oh(e,t){return e}const lh={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ch extends Q{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class uh{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class hh{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class dh{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Xu.UNAUTHENTICATED)))}shutdown(){}}class fh{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class ph{constructor(e){this.t=e,this.currentUser=Xu.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new uh;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new uh,e.enqueueRetryable((()=>r(this.currentUser)))};const s=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},a=e=>{th("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit((e=>a(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?a(e):(th("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new uh)}}),0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(th("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(ah("string"==typeof t.accessToken),new hh(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return ah(null===e||"string"==typeof e),new Xu(e)}}class mh{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=Xu.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class gh{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new mh(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable((()=>t(Xu.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class vh{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class yh{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){const n=e=>{null!=e.error&&th("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.R;return this.R=e.token,th("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{th("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.A.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.A.getImmediate({optional:!0});e?r(e):th("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(ah("string"==typeof e.token),this.R=e.token,new vh(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function wh(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class bh{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=wh(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62))}return n}}function _h(e,t){return e<t?-1:e>t?1:0}function Ih(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}function Eh(e){return e+"\0"}class kh{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ch(lh.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ch(lh.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new ch(lh.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ch(lh.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return kh.fromMillis(Date.now())}static fromDate(e){return kh.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new kh(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?_h(this.nanoseconds,e.nanoseconds):_h(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Sh{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Sh(e)}static min(){return new Sh(new kh(0,0))}static max(){return new Sh(new kh(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class xh{constructor(e,t,n){void 0===t?t=0:t>e.length&&sh(),void 0===n?n=e.length-t:n>e.length-t&&sh(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===xh.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof xh?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Th extends xh{construct(e,t,n){return new Th(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new ch(lh.INVALID_ARGUMENT,"Invalid segment (".concat(i,"). Paths must not contain // in them."));e.push(...i.split("/").filter((e=>e.length>0)))}return new Th(e)}static emptyPath(){return new Th([])}}const Nh=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ah extends xh{construct(e,t,n){return new Ah(e,t,n)}static isValidIdentifier(e){return Nh.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ah.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Ah(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new ch(lh.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let s=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new ch(lh.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new ch(lh.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(s=!s,r++):"."!==t||s?(n+=t,r++):(i(),r++)}if(i(),s)throw new ch(lh.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ah(t)}static emptyPath(){return new Ah([])}}class Ch{constructor(e){this.path=e}static fromPath(e){return new Ch(Th.fromString(e))}static fromName(e){return new Ch(Th.fromString(e).popFirst(5))}static empty(){return new Ch(Th.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Th.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Th.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ch(new Th(e.slice()))}}class Dh{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}function Rh(e){return e.fields.find((e=>2===e.kind))}function Ph(e){return e.fields.filter((e=>2!==e.kind))}Dh.UNKNOWN_ID=-1;class Oh{constructor(e,t){this.fieldPath=e,this.kind=t}}class jh{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new jh(0,Fh.min())}}function Lh(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Sh.fromTimestamp(1e9===r?new kh(n+1,0):new kh(n,r));return new Fh(i,Ch.empty(),t)}function Mh(e){return new Fh(e.readTime,e.key,-1)}class Fh{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Fh(Sh.min(),Ch.empty(),-1)}static max(){return new Fh(Sh.max(),Ch.empty(),-1)}}function Uh(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=Ch.comparator(e.documentKey,t.documentKey),0!==n?n:_h(e.largestBatchId,t.largestBatchId))}const Vh="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Bh{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function zh(e){if(e.code!==lh.FAILED_PRECONDITION||e.message!==Vh)throw e;th("LocalStore","Unexpectedly lost primary lease")}class qh{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&sh(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new qh(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof qh?t:qh.resolve(t)}catch(e){return qh.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):qh.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):qh.reject(t)}static resolve(e){return new qh(((t,n)=>{t(e)}))}static reject(e){return new qh(((t,n)=>{n(e)}))}static waitFor(e){return new qh(((t,n)=>{let r=0,i=0,s=!1;e.forEach((e=>{++r,e.next((()=>{++i,s&&i===r&&t()}),(e=>n(e)))})),s=!0,i===r&&t()}))}static or(e){let t=qh.resolve(!1);for(const n of e)t=t.next((e=>e?qh.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new qh(((n,r)=>{const i=e.length,s=new Array(i);let a=0;for(let o=0;o<i;o++){const l=o;t(e[l]).next((e=>{s[l]=e,++a,a===i&&n(s)}),(e=>r(e)))}}))}static doWhile(e,t){return new qh(((n,r)=>{const i=()=>{!0===e()?t().next((()=>{i()}),r):n()};i()}))}}class Gh{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.V=new uh,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{t.error?this.V.reject(new Qh(e,t.error)):this.V.resolve()},this.transaction.onerror=t=>{const n=Zh(t.target.error);this.V.reject(new Qh(e,n))}}static open(e,t,n,r){try{return new Gh(t,e.transaction(r,n))}catch(e){throw new Qh(t,e)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(th("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new Yh(t)}}class Kh{constructor(e,t,n){this.name=e,this.version=t,this.p=n,12.2===Kh.S(V())&&nh("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return th("SimpleDb","Removing database:",e),Jh(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!H())return!1;if(Kh.C())return!0;const e=V(),t=Kh.S(e),n=0<t&&t<10,r=Kh.v(e),i=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||i)}static C(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.__PRIVATE_env)||void 0===e?void 0:e.F)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}static v(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}async O(e){return this.db||(th("SimpleDb","Opening database:",this.name),this.db=await new Promise(((t,n)=>{const r=indexedDB.open(this.name,this.version);r.onsuccess=e=>{const n=e.target.result;t(n)},r.onblocked=()=>{n(new Qh(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=t=>{const r=t.target.error;"VersionError"===r.name?n(new ch(lh.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===r.name?n(new ch(lh.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+r)):n(new Qh(e,r))},r.onupgradeneeded=e=>{th("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',e.oldVersion);const t=e.target.result;this.p.N(t,r.transaction,e.oldVersion,this.version).next((()=>{th("SimpleDb","Database upgrade to version "+this.version+" complete")}))}}))),this.B&&(this.db.onversionchange=e=>this.B(e)),this.db}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,n,r){const i="readonly"===t;let s=0;for(;;){++s;try{this.db=await this.O(e);const t=Gh.open(this.db,e,i?"readonly":"readwrite",n),s=r(t).next((e=>(t.g(),e))).catch((e=>(t.abort(e),qh.reject(e)))).toPromise();return s.catch((()=>{})),await t.m,s}catch(e){const t=e,n="FirebaseError"!==t.name&&s<3;if(th("SimpleDb","Transaction failed with error:",t.message,"Retrying:",n),this.close(),!n)return Promise.reject(t)}}}close(){this.db&&this.db.close(),this.db=void 0}}class Hh{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return Jh(this.k.delete())}}class Qh extends ch{constructor(e,t){super(lh.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(t)),this.name="IndexedDbTransactionError"}}function Wh(e){return"IndexedDbTransactionError"===e.name}class Yh{constructor(e){this.store=e}put(e,t){let n;return void 0!==t?(th("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(th("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Jh(n)}add(e){return th("SimpleDb","ADD",this.store.name,e,e),Jh(this.store.add(e))}get(e){return Jh(this.store.get(e)).next((t=>(void 0===t&&(t=null),th("SimpleDb","GET",this.store.name,e,t),t)))}delete(e){return th("SimpleDb","DELETE",this.store.name,e),Jh(this.store.delete(e))}count(){return th("SimpleDb","COUNT",this.store.name),Jh(this.store.count())}W(e,t){const n=this.options(e,t),r=n.index?this.store.index(n.index):this.store;if("function"==typeof r.getAll){const e=r.getAll(n.range);return new qh(((t,n)=>{e.onerror=e=>{n(e.target.error)},e.onsuccess=e=>{t(e.target.result)}}))}{const e=this.cursor(n),t=[];return this.G(e,((e,n)=>{t.push(n)})).next((()=>t))}}j(e,t){const n=this.store.getAll(e,null===t?void 0:t);return new qh(((e,t)=>{n.onerror=e=>{t(e.target.error)},n.onsuccess=t=>{e(t.target.result)}}))}H(e,t){th("SimpleDb","DELETE ALL",this.store.name);const n=this.options(e,t);n.J=!1;const r=this.cursor(n);return this.G(r,((e,t,n)=>n.delete()))}Y(e,t){let n;t?n=e:(n={},t=e);const r=this.cursor(n);return this.G(r,t)}Z(e){const t=this.cursor({});return new qh(((n,r)=>{t.onerror=e=>{const t=Zh(e.target.error);r(t)},t.onsuccess=t=>{const r=t.target.result;r?e(r.primaryKey,r.value).next((e=>{e?r.continue():n()})):n()}}))}G(e,t){const n=[];return new qh(((r,i)=>{e.onerror=e=>{i(e.target.error)},e.onsuccess=e=>{const i=e.target.result;if(!i)return void r();const s=new Hh(i),a=t(i.primaryKey,i.value,s);if(a instanceof qh){const e=a.catch((e=>(s.done(),qh.reject(e))));n.push(e)}s.isDone?r():null===s.$?i.continue():i.continue(s.$)}})).next((()=>qh.waitFor(n)))}options(e,t){let n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const n=this.store.index(e.index);return e.J?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Jh(e){return new qh(((t,n)=>{e.onsuccess=e=>{const n=e.target.result;t(n)},e.onerror=e=>{const t=Zh(e.target.error);n(t)}}))}let Xh=!1;function Zh(e){const t=Kh.S(V());if(t>=12.2&&t<13){const t="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(t)>=0){const e=new ch("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(t,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return Xh||(Xh=!0,setTimeout((()=>{throw e}),0)),e}}return e}class $h{constructor(e,t){this.asyncQueue=e,this.X=t,this.task=null}start(){this.ee(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}ee(e){th("IndexBackfiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{th("IndexBackfiller","Documents written: ".concat(await this.X.te()))}catch(e){Wh(e)?th("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",e):await zh(e)}await this.ee(6e4)}))}}class ed{constructor(e,t){this.localStore=e,this.persistence=t}async te(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50;return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(t=>this.ne(t,e)))}ne(e,t){const n=new Set;let r=t,i=!0;return qh.doWhile((()=>!0===i&&r>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((t=>{if(null!==t&&!n.has(t))return th("IndexBackfiller","Processing collection: ".concat(t)),this.re(e,t,r).next((e=>{r-=e,n.add(t)}));i=!1})))).next((()=>t-r))}re(e,t,n){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((r=>this.localStore.localDocuments.getNextDocuments(e,t,r,n).next((n=>{const i=n.changes;return this.localStore.indexManager.updateIndexEntries(e,i).next((()=>this.ie(r,n))).next((n=>(th("IndexBackfiller","Updating offset: ".concat(n)),this.localStore.indexManager.updateCollectionGroup(e,t,n)))).next((()=>i.size))}))))}ie(e,t){let n=e;return t.changes.forEach(((e,t)=>{const r=Mh(t);Uh(r,n)>0&&(n=r)})),new Fh(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}class td{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.se(e),this.oe=e=>t.writeSequenceNumber(e))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}function nd(e){return null==e}function rd(e){return 0===e&&1/e==-1/0}function id(e){return"number"==typeof e&&Number.isInteger(e)&&!rd(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}function sd(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=od(t)),t=ad(e.get(n),t);return od(t)}function ad(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const t=e.charAt(i);switch(t){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=t}}return n}function od(e){return e+"\x01\x01"}function ld(e){const t=e.length;if(ah(t>=2),2===t)return ah("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),Th.emptyPath();const n=t-2,r=[];let i="";for(let s=0;s<t;){const t=e.indexOf("\x01",s);switch((t<0||t>n)&&sh(),e.charAt(t+1)){case"\x01":const n=e.substring(s,t);let a;0===i.length?a=n:(i+=n,a=i,i=""),r.push(a);break;case"\x10":i+=e.substring(s,t),i+="\0";break;case"\x11":i+=e.substring(s,t+1);break;default:sh()}s=t+2}return new Th(r)}td._e=-1;const cd=["userId","batchId"];function ud(e,t){return[e,sd(t)]}function hd(e,t,n){return[e,sd(t),n]}const dd={},fd=["prefixPath","collectionGroup","readTime","documentId"],pd=["prefixPath","collectionGroup","documentId"],md=["collectionGroup","readTime","prefixPath","documentId"],gd=["canonicalId","targetId"],vd=["targetId","path"],yd=["path","targetId"],wd=["collectionId","parent"],bd=["indexId","uid"],_d=["uid","sequenceNumber"],Id=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Ed=["indexId","uid","orderedDocumentKey"],kd=["userId","collectionPath","documentId"],Sd=["userId","collectionPath","largestBatchId"],xd=["userId","collectionGroup","largestBatchId"],Td=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Nd=[...Td,"documentOverlays"],Ad=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Cd=Ad,Dd=[...Cd,"indexConfiguration","indexState","indexEntries"];class Rd extends Bh{constructor(e,t){super(),this.ae=e,this.currentSequenceNumber=t}}function Pd(e,t){const n=oh(e);return Kh.M(n.ae,t)}function Od(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function jd(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Ld(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class Md{constructor(e,t){this.comparator=e,this.root=t||Ud.EMPTY}insert(e,t){return new Md(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ud.BLACK,null,null))}remove(e){return new Md(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ud.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push("".concat(t,":").concat(n)),!1))),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Fd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Fd(this.root,e,this.comparator,!1)}getReverseIterator(){return new Fd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Fd(this.root,e,this.comparator,!0)}}class Fd{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ud{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:Ud.RED,this.left=null!=r?r:Ud.EMPTY,this.right=null!=i?i:Ud.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new Ud(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Ud.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Ud.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ud.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ud.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw sh();if(this.right.isRed())throw sh();const e=this.left.check();if(e!==this.right.check())throw sh();return e+(this.isRed()?0:1)}}Ud.EMPTY=null,Ud.RED=!0,Ud.BLACK=!1,Ud.EMPTY=new class{constructor(){this.size=0}get key(){throw sh()}get value(){throw sh()}get color(){throw sh()}get left(){throw sh()}get right(){throw sh()}copy(e,t,n,r,i){return this}insert(e,t,n){return new Ud(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Vd{constructor(e){this.comparator=e,this.data=new Md(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Bd(this.data.getIterator())}getIteratorFrom(e){return new Bd(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof Vd))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Vd(this.comparator);return t.data=e,t}}class Bd{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function zd(e){return e.hasNext()?e.getNext():void 0}class qd{constructor(e){this.fields=e,e.sort(Ah.comparator)}static empty(){return new qd([])}unionWith(e){let t=new Vd(Ah.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new qd(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ih(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class Gd extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Kd{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new Gd("Invalid base64 string: "+e):e}}(e);return new Kd(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new Kd(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return _h(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Kd.EMPTY_BYTE_STRING=new Kd("");const Hd=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Qd(e){if(ah(!!e),"string"==typeof e){let t=0;const n=Hd.exec(e);if(ah(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Wd(e.seconds),nanos:Wd(e.nanos)}}function Wd(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Yd(e){return"string"==typeof e?Kd.fromBase64String(e):Kd.fromUint8Array(e)}function Jd(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Xd(e){const t=e.mapValue.fields.__previous_value__;return Jd(t)?Xd(t):t}function Zd(e){const t=Qd(e.mapValue.fields.__local_write_time__.timestampValue);return new kh(t.seconds,t.nanos)}class $d{constructor(e,t,n,r,i,s,a,o,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=o,this.useFetchStreams=l}}class ef{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new ef("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof ef&&e.projectId===this.projectId&&e.database===this.database}}const tf={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},nf={nullValue:"NULL_VALUE"};function rf(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Jd(e)?4:yf(e)?9007199254740991:10:sh()}function sf(e,t){if(e===t)return!0;const n=rf(e);if(n!==rf(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Zd(e).isEqual(Zd(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=Qd(e.timestampValue),r=Qd(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Yd(e.bytesValue).isEqual(Yd(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Wd(e.geoPointValue.latitude)===Wd(t.geoPointValue.latitude)&&Wd(e.geoPointValue.longitude)===Wd(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Wd(e.integerValue)===Wd(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=Wd(e.doubleValue),r=Wd(t.doubleValue);return n===r?rd(n)===rd(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Ih(e.arrayValue.values||[],t.arrayValue.values||[],sf);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Od(n)!==Od(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!sf(n[i],r[i])))return!1;return!0}(e,t);default:return sh()}}function af(e,t){return void 0!==(e.values||[]).find((e=>sf(e,t)))}function of(e,t){if(e===t)return 0;const n=rf(e),r=rf(t);if(n!==r)return _h(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return _h(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=Wd(e.integerValue||e.doubleValue),r=Wd(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return lf(e.timestampValue,t.timestampValue);case 4:return lf(Zd(e),Zd(t));case 5:return _h(e.stringValue,t.stringValue);case 6:return function(e,t){const n=Yd(e),r=Yd(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=_h(n[i],r[i]);if(0!==e)return e}return _h(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=_h(Wd(e.latitude),Wd(t.latitude));return 0!==n?n:_h(Wd(e.longitude),Wd(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=of(n[i],r[i]);if(e)return e}return _h(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===tf.mapValue&&t===tf.mapValue)return 0;if(e===tf.mapValue)return 1;if(t===tf.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let a=0;a<r.length&&a<s.length;++a){const e=_h(r[a],s[a]);if(0!==e)return e;const t=of(n[r[a]],i[s[a]]);if(0!==t)return t}return _h(r.length,s.length)}(e.mapValue,t.mapValue);default:throw sh()}}function lf(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return _h(e,t);const n=Qd(e),r=Qd(t),i=_h(n.seconds,r.seconds);return 0!==i?i:_h(n.nanos,r.nanos)}function cf(e){return uf(e)}function uf(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=Qd(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return Yd(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return Ch.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=uf(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+="".concat(i,":").concat(uf(e.fields[i]));return n+"}"}(e.mapValue):sh()}function hf(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function df(e){return!!e&&"integerValue"in e}function ff(e){return!!e&&"arrayValue"in e}function pf(e){return!!e&&"nullValue"in e}function mf(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function gf(e){return!!e&&"mapValue"in e}function vf(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return jd(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=vf(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=vf(e.arrayValue.values[n]);return t}return Object.assign({},e)}function yf(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function wf(e){return"nullValue"in e?nf:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?hf(ef.empty(),Ch.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:sh()}function bf(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?hf(ef.empty(),Ch.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?tf:sh()}function _f(e,t){const n=of(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function If(e,t){const n=of(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}class Ef{constructor(e){this.value=e}static empty(){return new Ef({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!gf(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=vf(t)}setAll(e){let t=Ah.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=vf(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());gf(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return sf(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];gf(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){jd(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new Ef(vf(this.value))}}function kf(e){const t=[];return jd(e.fields,((e,n)=>{const r=new Ah([e]);if(gf(n)){const e=kf(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new qd(t)}class Sf{constructor(e,t,n,r,i,s,a){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=s,this.documentState=a}static newInvalidDocument(e){return new Sf(e,0,Sh.min(),Sh.min(),Sh.min(),Ef.empty(),0)}static newFoundDocument(e,t,n,r){return new Sf(e,1,t,Sh.min(),n,r,0)}static newNoDocument(e,t){return new Sf(e,2,t,Sh.min(),Sh.min(),Ef.empty(),0)}static newUnknownDocument(e,t){return new Sf(e,3,t,Sh.min(),Sh.min(),Ef.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Sh.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ef.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ef.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Sh.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Sf&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Sf(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class xf{constructor(e,t){this.position=e,this.inclusive=t}}function Tf(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],a=e.position[i];if(r=s.field.isKeyField()?Ch.comparator(Ch.fromName(a.referenceValue),n.key):of(a,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function Nf(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!sf(e.position[n],t.position[n]))return!1;return!0}class Af{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function Cf(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class Df{}class Rf extends Df{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new zf(e,t,n):"array-contains"===t?new Hf(e,n):"in"===t?new Qf(e,n):"not-in"===t?new Wf(e,n):"array-contains-any"===t?new Yf(e,n):new Rf(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new qf(e,n):new Gf(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(of(t,this.value)):null!==t&&rf(this.value)===rf(t)&&this.matchesComparison(of(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return sh()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Pf extends Df{constructor(e,t){super(),this.filters=e,this.op=t,this.ue=null}static create(e,t){return new Pf(e,t)}matches(e){return Of(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function Of(e){return"and"===e.op}function jf(e){return"or"===e.op}function Lf(e){return Mf(e)&&Of(e)}function Mf(e){for(const t of e.filters)if(t instanceof Pf)return!1;return!0}function Ff(e){if(e instanceof Rf)return e.field.canonicalString()+e.op.toString()+cf(e.value);if(Lf(e))return e.filters.map((e=>Ff(e))).join(",");{const t=e.filters.map((e=>Ff(e))).join(",");return"".concat(e.op,"(").concat(t,")")}}function Uf(e,t){return e instanceof Rf?function(e,t){return t instanceof Rf&&e.op===t.op&&e.field.isEqual(t.field)&&sf(e.value,t.value)}(e,t):e instanceof Pf?function(e,t){return t instanceof Pf&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&Uf(n,t.filters[r])),!0)}(e,t):void sh()}function Vf(e,t){const n=e.filters.concat(t);return Pf.create(n,e.op)}function Bf(e){return e instanceof Rf?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(cf(e.value))}(e):e instanceof Pf?function(e){return e.op.toString()+" {"+e.getFilters().map(Bf).join(" ,")+"}"}(e):"Filter"}class zf extends Rf{constructor(e,t,n){super(e,t,n),this.key=Ch.fromName(n.referenceValue)}matches(e){const t=Ch.comparator(e.key,this.key);return this.matchesComparison(t)}}class qf extends Rf{constructor(e,t){super(e,"in",t),this.keys=Kf("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class Gf extends Rf{constructor(e,t){super(e,"not-in",t),this.keys=Kf("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function Kf(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>Ch.fromName(e.referenceValue)))}class Hf extends Rf{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return ff(t)&&af(t.arrayValue,this.value)}}class Qf extends Rf{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&af(this.value.arrayValue,t)}}class Wf extends Rf{constructor(e,t){super(e,"not-in",t)}matches(e){if(af(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!af(this.value.arrayValue,t)}}class Yf extends Rf{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!ff(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>af(this.value.arrayValue,e)))}}class Jf{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=a,this.ce=null}}function Xf(e){return new Jf(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function Zf(e){const t=oh(e);if(null===t.ce){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>Ff(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),nd(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>cf(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>cf(e))).join(",")),t.ce=e}return t.ce}function $f(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Cf(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!Uf(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Nf(e.startAt,t.startAt)&&Nf(e.endAt,t.endAt)}function ep(e){return Ch.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function tp(e,t){return e.filters.filter((e=>e instanceof Rf&&e.field.isEqual(t)))}function np(e,t,n){let r=nf,i=!0;for(const s of tp(e,t)){let e=nf,t=!0;switch(s.op){case"<":case"<=":e=wf(s.value);break;case"==":case"in":case">=":e=s.value;break;case">":e=s.value,t=!1;break;case"!=":case"not-in":e=nf}_f({value:r,inclusive:i},{value:e,inclusive:t})<0&&(r=e,i=t)}if(null!==n)for(let s=0;s<e.orderBy.length;++s)if(e.orderBy[s].field.isEqual(t)){const e=n.position[s];_f({value:r,inclusive:i},{value:e,inclusive:n.inclusive})<0&&(r=e,i=n.inclusive);break}return{value:r,inclusive:i}}function rp(e,t,n){let r=tf,i=!0;for(const s of tp(e,t)){let e=tf,t=!0;switch(s.op){case">=":case">":e=bf(s.value),t=!1;break;case"==":case"in":case"<=":e=s.value;break;case"<":e=s.value,t=!1;break;case"!=":case"not-in":e=tf}If({value:r,inclusive:i},{value:e,inclusive:t})>0&&(r=e,i=t)}if(null!==n)for(let s=0;s<e.orderBy.length;++s)if(e.orderBy[s].field.isEqual(t)){const e=n.position[s];If({value:r,inclusive:i},{value:e,inclusive:n.inclusive})>0&&(r=e,i=n.inclusive);break}return{value:r,inclusive:i}}class ip{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=a,this.endAt=o,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function sp(e,t,n,r,i,s,a,o){return new ip(e,t,n,r,i,s,a,o)}function ap(e){return new ip(e)}function op(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function lp(e){return null!==e.collectionGroup}function cp(e){const t=oh(e);if(null===t.le){t.le=[];const e=new Set;for(const i of t.explicitOrderBy)t.le.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new Vd(Ah.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t}(t);r.forEach((r=>{e.has(r.canonicalString())||r.isKeyField()||t.le.push(new Af(r,n))})),e.has(Ah.keyField().canonicalString())||t.le.push(new Af(Ah.keyField(),n))}return t.le}function up(e){const t=oh(e);return t.he||(t.he=hp(t,cp(e))),t.he}function hp(e,t){if("F"===e.limitType)return Xf(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{const t="desc"===e.dir?"asc":"desc";return new Af(e.field,t)}));const n=e.endAt?new xf(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new xf(e.startAt.position,e.startAt.inclusive):null;return Xf(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function dp(e,t){const n=e.filters.concat([t]);return new ip(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function fp(e,t,n){return new ip(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function pp(e,t){return $f(up(e),up(t))&&e.limitType===t.limitType}function mp(e){return"".concat(Zf(up(e)),"|lt:").concat(e.limitType)}function gp(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((e=>Bf(e))).join(", "),"]")),nd(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e))).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>cf(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>cf(e))).join(",")),"Target(".concat(t,")")}(up(e)),"; limitType=").concat(e.limitType,")")}function vp(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Ch.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of cp(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=Tf(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,cp(e),t))&&!(e.endAt&&!function(e,t,n){const r=Tf(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,cp(e),t))}(e,t)}function yp(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function wp(e){return(t,n)=>{let r=!1;for(const i of cp(e)){const e=bp(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function bp(e,t,n){const r=e.field.isKeyField()?Ch.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?of(r,i):sh()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return sh()}}class _p{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){jd(this.inner,((t,n)=>{for(const[r,i]of n)e(r,i)}))}isEmpty(){return Ld(this.inner)}size(){return this.innerSize}}const Ip=new Md(Ch.comparator);function Ep(){return Ip}const kp=new Md(Ch.comparator);function Sp(){let e=kp;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function xp(e){let t=kp;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function Tp(){return Ap()}function Np(){return Ap()}function Ap(){return new _p((e=>e.toString()),((e,t)=>e.isEqual(t)))}const Cp=new Md(Ch.comparator),Dp=new Vd(Ch.comparator);function Rp(){let e=Dp;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const Pp=new Vd(_h);function Op(){return Pp}function jp(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:rd(t)?"-0":t}}function Lp(e){return{integerValue:""+e}}function Mp(e,t){return id(t)?Lp(t):jp(e,t)}class Fp{constructor(){this._=void 0}}function Up(e,t,n){return e instanceof zp?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&Jd(t)&&(t=Xd(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof qp?Gp(e,t):e instanceof Kp?Hp(e,t):function(e,t){const n=Bp(e,t),r=Wp(n)+Wp(e.Ie);return df(n)&&df(e.Ie)?Lp(r):jp(e.serializer,r)}(e,t)}function Vp(e,t,n){return e instanceof qp?Gp(e,t):e instanceof Kp?Hp(e,t):n}function Bp(e,t){return e instanceof Qp?function(e){return df(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class zp extends Fp{}class qp extends Fp{constructor(e){super(),this.elements=e}}function Gp(e,t){const n=Yp(t);for(const r of e.elements)n.some((e=>sf(e,r)))||n.push(r);return{arrayValue:{values:n}}}class Kp extends Fp{constructor(e){super(),this.elements=e}}function Hp(e,t){let n=Yp(t);for(const r of e.elements)n=n.filter((e=>!sf(e,r)));return{arrayValue:{values:n}}}class Qp extends Fp{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function Wp(e){return Wd(e.integerValue||e.doubleValue)}function Yp(e){return ff(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class Jp{constructor(e,t){this.field=e,this.transform=t}}class Xp{constructor(e,t){this.version=e,this.transformResults=t}}class Zp{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Zp}static exists(e){return new Zp(void 0,e)}static updateTime(e){return new Zp(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function $p(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class em{}function tm(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new hm(e.key,Zp.none()):new am(e.key,e.data,Zp.none());{const n=e.data,r=Ef.empty();let i=new Vd(Ah.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new om(e.key,r,new qd(i.toArray()),Zp.none())}}function nm(e,t,n){e instanceof am?function(e,t,n){const r=e.value.clone(),i=cm(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof om?function(e,t,n){if(!$p(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=cm(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(lm(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function rm(e,t,n,r){return e instanceof am?function(e,t,n,r){if(!$p(e.precondition,t))return n;const i=e.value.clone(),s=um(e.fieldTransforms,r,t);return i.setAll(s),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof om?function(e,t,n,r){if(!$p(e.precondition,t))return n;const i=um(e.fieldTransforms,r,t),s=t.data;return s.setAll(lm(e)),s.setAll(i),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return $p(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function im(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=Bp(r.transform,e||null);null!=i&&(null===n&&(n=Ef.empty()),n.set(r.field,i))}return n||null}function sm(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Ih(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof qp&&t instanceof qp||e instanceof Kp&&t instanceof Kp?Ih(e.elements,t.elements,sf):e instanceof Qp&&t instanceof Qp?sf(e.Ie,t.Ie):e instanceof zp&&t instanceof zp}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class am extends em{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class om extends em{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function lm(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function cm(e,t,n){const r=new Map;ah(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],a=s.transform,o=t.data.field(s.field);r.set(s.field,Vp(a,o,n[i]))}return r}function um(e,t,n){const r=new Map;for(const i of e){const e=i.transform,s=n.data.field(i.field);r.set(i.field,Up(e,s,t))}return r}class hm extends em{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class dm extends em{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class fm{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&nm(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=rm(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=rm(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=Np();return this.mutations.forEach((r=>{const i=e.get(r.key),s=i.overlayedDocument;let a=this.applyToLocalView(s,i.mutatedFields);a=t.has(r.key)?null:a;const o=tm(s,a);null!==o&&n.set(r.key,o),s.isValidDocument()||s.convertToNoDocument(Sh.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Rp())}isEqual(e){return this.batchId===e.batchId&&Ih(this.mutations,e.mutations,((e,t)=>sm(e,t)))&&Ih(this.baseMutations,e.baseMutations,((e,t)=>sm(e,t)))}}class pm{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){ah(e.mutations.length===n.length);let r=Cp;const i=e.mutations;for(let s=0;s<i.length;s++)r=r.insert(i[s].key,n[s].version);return new pm(e,t,n,r)}}class mm{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class gm{constructor(e,t){this.count=e,this.unchangedNames=t}}var vm,ym;function wm(e){switch(e){default:return sh();case lh.CANCELLED:case lh.UNKNOWN:case lh.DEADLINE_EXCEEDED:case lh.RESOURCE_EXHAUSTED:case lh.INTERNAL:case lh.UNAVAILABLE:case lh.UNAUTHENTICATED:return!1;case lh.INVALID_ARGUMENT:case lh.NOT_FOUND:case lh.ALREADY_EXISTS:case lh.PERMISSION_DENIED:case lh.FAILED_PRECONDITION:case lh.ABORTED:case lh.OUT_OF_RANGE:case lh.UNIMPLEMENTED:case lh.DATA_LOSS:return!0}}function bm(e){if(void 0===e)return nh("GRPC error has no .code"),lh.UNKNOWN;switch(e){case vm.OK:return lh.OK;case vm.CANCELLED:return lh.CANCELLED;case vm.UNKNOWN:return lh.UNKNOWN;case vm.DEADLINE_EXCEEDED:return lh.DEADLINE_EXCEEDED;case vm.RESOURCE_EXHAUSTED:return lh.RESOURCE_EXHAUSTED;case vm.INTERNAL:return lh.INTERNAL;case vm.UNAVAILABLE:return lh.UNAVAILABLE;case vm.UNAUTHENTICATED:return lh.UNAUTHENTICATED;case vm.INVALID_ARGUMENT:return lh.INVALID_ARGUMENT;case vm.NOT_FOUND:return lh.NOT_FOUND;case vm.ALREADY_EXISTS:return lh.ALREADY_EXISTS;case vm.PERMISSION_DENIED:return lh.PERMISSION_DENIED;case vm.FAILED_PRECONDITION:return lh.FAILED_PRECONDITION;case vm.ABORTED:return lh.ABORTED;case vm.OUT_OF_RANGE:return lh.OUT_OF_RANGE;case vm.UNIMPLEMENTED:return lh.UNIMPLEMENTED;case vm.DATA_LOSS:return lh.DATA_LOSS;default:return sh()}}(ym=vm||(vm={}))[ym.OK=0]="OK",ym[ym.CANCELLED=1]="CANCELLED",ym[ym.UNKNOWN=2]="UNKNOWN",ym[ym.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ym[ym.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ym[ym.NOT_FOUND=5]="NOT_FOUND",ym[ym.ALREADY_EXISTS=6]="ALREADY_EXISTS",ym[ym.PERMISSION_DENIED=7]="PERMISSION_DENIED",ym[ym.UNAUTHENTICATED=16]="UNAUTHENTICATED",ym[ym.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ym[ym.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ym[ym.ABORTED=10]="ABORTED",ym[ym.OUT_OF_RANGE=11]="OUT_OF_RANGE",ym[ym.UNIMPLEMENTED=12]="UNIMPLEMENTED",ym[ym.INTERNAL=13]="INTERNAL",ym[ym.UNAVAILABLE=14]="UNAVAILABLE",ym[ym.DATA_LOSS=15]="DATA_LOSS";let _m=null;function Im(){return new TextEncoder}const Em=new Yu([4294967295,4294967295],0);function km(e){const t=Im().encode(e),n=new Wu;return n.update(t),new Uint8Array(n.digest())}function Sm(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new Yu([n,r],0),new Yu([i,s],0)]}class xm{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Tm("Invalid padding: ".concat(t));if(n<0)throw new Tm("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new Tm("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new Tm("Invalid padding when bitmap length is 0: ".concat(t));this.Te=8*e.length-t,this.Ee=Yu.fromNumber(this.Te)}de(e,t,n){let r=e.add(t.multiply(Yu.fromNumber(n)));return 1===r.compare(Em)&&(r=new Yu([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Ee).toNumber()}Ae(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const t=km(e),[n,r]=Sm(t);for(let i=0;i<this.hashCount;i++){const e=this.de(n,r,i);if(!this.Ae(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),s=new xm(i,r,t);return n.forEach((e=>s.insert(e))),s}insert(e){if(0===this.Te)return;const t=km(e),[n,r]=Sm(t);for(let i=0;i<this.hashCount;i++){const e=this.de(n,r,i);this.Re(e)}}Re(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class Tm extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Nm{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,Am.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new Nm(Sh.min(),r,new Md(_h),Ep(),Rp())}}class Am{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new Am(n,t,Rp(),Rp(),Rp())}}class Cm{constructor(e,t,n,r){this.Ve=e,this.removedTargetIds=t,this.key=n,this.me=r}}class Dm{constructor(e,t){this.targetId=e,this.fe=t}}class Rm{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Kd.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class Pm{constructor(){this.ge=0,this.pe=Lm(),this.ye=Kd.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=Rp(),t=Rp(),n=Rp();return this.pe.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:sh()}})),new Am(this.ye,this.we,e,t,n)}Fe(){this.Se=!1,this.pe=Lm()}Me(e,t){this.Se=!0,this.pe=this.pe.insert(e,t)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,ah(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class Om{constructor(e){this.Le=e,this.ke=new Map,this.qe=Ep(),this.Qe=jm(),this.Ke=new Md(_h)}$e(e){for(const t of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(t,e.me):this.We(t,e.key,e.me);for(const t of e.removedTargetIds)this.We(t,e.key,e.me)}Ge(e){this.forEachTarget(e,(t=>{const n=this.ze(t);switch(e.state){case 0:this.je(t)&&n.Ce(e.resumeToken);break;case 1:n.Ne(),n.be||n.Fe(),n.Ce(e.resumeToken);break;case 2:n.Ne(),n.be||this.removeTarget(t);break;case 3:this.je(t)&&(n.Be(),n.Ce(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),n.Ce(e.resumeToken));break;default:sh()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ke.forEach(((e,n)=>{this.je(n)&&t(n)}))}Je(e){const t=e.targetId,n=e.fe.count,r=this.Ye(t);if(r){const i=r.target;if(ep(i))if(0===n){const e=new Ch(i.path);this.We(t,e,Sf.newNoDocument(e,Sh.min()))}else ah(1===n);else{const r=this.Ze(t);if(r!==n){const n=this.Xe(e),i=n?this.et(n,e,r):1;if(0!==i){this.He(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,e)}null==_m||_m.tt(function(e,t,n,r,i){var s,a,o,l,c,u;const h={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},d=t.unchangedNames;return d&&(h.bloomFilter={applied:0===i,hashCount:null!==(s=null==d?void 0:d.hashCount)&&void 0!==s?s:0,bitmapLength:null!==(l=null===(o=null===(a=null==d?void 0:d.bits)||void 0===a?void 0:a.bitmap)||void 0===o?void 0:o.length)&&void 0!==l?l:0,padding:null!==(u=null===(c=null==d?void 0:d.bits)||void 0===c?void 0:c.padding)&&void 0!==u?u:0,mightContain:e=>{var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),h}(r,e.fe,this.Le.nt(),n,i))}}}}Xe(e){const t=e.fe.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let s,a;try{s=Yd(n).toUint8Array()}catch(e){if(e instanceof Gd)return rh("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{a=new xm(s,r,i)}catch(e){return rh(e instanceof Tm?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===a.Te?null:a}et(e,t,n){return t.fe.count===n-this.rt(e,t.targetId)?0:2}rt(e,t){const n=this.Le.getRemoteKeysForTarget(t);let r=0;return n.forEach((n=>{const i=this.Le.nt(),s="projects/".concat(i.projectId,"/databases/").concat(i.database,"/documents/").concat(n.path.canonicalString());e.mightContain(s)||(this.We(t,n,null),r++)})),r}it(e){const t=new Map;this.ke.forEach(((n,r)=>{const i=this.Ye(r);if(i){if(n.current&&ep(i.target)){const t=new Ch(i.target.path);null!==this.qe.get(t)||this.st(r,t)||this.We(r,t,Sf.newNoDocument(t,e))}n.De&&(t.set(r,n.ve()),n.Fe())}}));let n=Rp();this.Qe.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.Ye(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.qe.forEach(((t,n)=>n.setReadTime(e)));const r=new Nm(e,t,this.Ke,this.qe,n);return this.qe=Ep(),this.Qe=jm(),this.Ke=new Md(_h),r}Ue(e,t){if(!this.je(e))return;const n=this.st(e,t.key)?2:0;this.ze(e).Me(t.key,n),this.qe=this.qe.insert(t.key,t),this.Qe=this.Qe.insert(t.key,this.ot(t.key).add(e))}We(e,t,n){if(!this.je(e))return;const r=this.ze(e);this.st(e,t)?r.Me(t,1):r.xe(t),this.Qe=this.Qe.insert(t,this.ot(t).delete(e)),n&&(this.qe=this.qe.insert(t,n))}removeTarget(e){this.ke.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let t=this.ke.get(e);return t||(t=new Pm,this.ke.set(e,t)),t}ot(e){let t=this.Qe.get(e);return t||(t=new Vd(_h),this.Qe=this.Qe.insert(e,t)),t}je(e){const t=null!==this.Ye(e);return t||th("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.ke.get(e);return t&&t.be?null:this.Le._t(e)}He(e){this.ke.set(e,new Pm),this.Le.getRemoteKeysForTarget(e).forEach((t=>{this.We(e,t,null)}))}st(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function jm(){return new Md(Ch.comparator)}function Lm(){return new Md(Ch.comparator)}const Mm={asc:"ASCENDING",desc:"DESCENDING"},Fm={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Um={and:"AND",or:"OR"};class Vm{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Bm(e,t){return e.useProto3Json||nd(t)?t:{value:t}}function zm(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function qm(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Gm(e,t){return zm(e,t.toTimestamp())}function Km(e){return ah(!!e),Sh.fromTimestamp(function(e){const t=Qd(e);return new kh(t.seconds,t.nanos)}(e))}function Hm(e,t){return Qm(e,t).canonicalString()}function Qm(e,t){const n=function(e){return new Th(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function Wm(e){const t=Th.fromString(e);return ah(gg(t)),t}function Ym(e,t){return Hm(e.databaseId,t.path)}function Jm(e,t){const n=Wm(t);if(n.get(1)!==e.databaseId.projectId)throw new ch(lh.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new ch(lh.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Ch(eg(n))}function Xm(e,t){return Hm(e.databaseId,t)}function Zm(e){const t=Wm(e);return 4===t.length?Th.emptyPath():eg(t)}function $m(e){return new Th(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function eg(e){return ah(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function tg(e,t,n){return{name:Ym(e,t),fields:n.value.mapValue.fields}}function ng(e,t,n){const r=Jm(e,t.name),i=Km(t.updateTime),s=t.createTime?Km(t.createTime):Sh.min(),a=new Ef({mapValue:{fields:t.fields}}),o=Sf.newFoundDocument(r,i,s,a);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function rg(e,t){let n;if(t instanceof am)n={update:tg(e,t.key,t.value)};else if(t instanceof hm)n={delete:Ym(e,t.key)};else if(t instanceof om)n={update:tg(e,t.key,t.data),updateMask:mg(t.fieldMask)};else{if(!(t instanceof dm))return sh();n={verify:Ym(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof zp)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof qp)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Kp)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Qp)return{fieldPath:t.field.canonicalString(),increment:n.Ie};throw sh()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Gm(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:sh()}(e,t.precondition)),n}function ig(e,t){const n=t.currentDocument?function(e){return void 0!==e.updateTime?Zp.updateTime(Km(e.updateTime)):void 0!==e.exists?Zp.exists(e.exists):Zp.none()}(t.currentDocument):Zp.none(),r=t.updateTransforms?t.updateTransforms.map((t=>function(e,t){let n=null;if("setToServerValue"in t)ah("REQUEST_TIME"===t.setToServerValue),n=new zp;else if("appendMissingElements"in t){const e=t.appendMissingElements.values||[];n=new qp(e)}else if("removeAllFromArray"in t){const e=t.removeAllFromArray.values||[];n=new Kp(e)}else"increment"in t?n=new Qp(e,t.increment):sh();const r=Ah.fromServerFormat(t.fieldPath);return new Jp(r,n)}(e,t))):[];if(t.update){t.update.name;const i=Jm(e,t.update.name),s=new Ef({mapValue:{fields:t.update.fields}});if(t.updateMask){const e=function(e){const t=e.fieldPaths||[];return new qd(t.map((e=>Ah.fromServerFormat(e))))}(t.updateMask);return new om(i,s,e,n,r)}return new am(i,s,n,r)}if(t.delete){const r=Jm(e,t.delete);return new hm(r,n)}if(t.verify){const r=Jm(e,t.verify);return new dm(r,n)}return sh()}function sg(e,t){return{documents:[Xm(e,t.path)]}}function ag(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Xm(e,i);const s=function(e){if(0!==e.length)return pg(Pf.create(e,"and"))}(t.filters);s&&(n.structuredQuery.where=s);const a=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:dg(e.field),direction:cg(e.dir)}}(e)))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);const o=Bm(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{ut:n,parent:i}}function og(e){let t=Zm(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ah(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=function(e){const t=lg(e);return t instanceof Pf&&Lf(t)?t.getFilters():[t]}(n.where));let a=[];n.orderBy&&(a=function(e){return e.map((e=>function(e){return new Af(fg(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)))}(n.orderBy));let o=null;n.limit&&(o=function(e){let t;return t="object"==typeof e?e.value:e,nd(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new xf(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new xf(n,t)}(n.endAt)),sp(t,i,a,s,o,"F",l,c)}function lg(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=fg(e.unaryFilter.field);return Rf.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=fg(e.unaryFilter.field);return Rf.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=fg(e.unaryFilter.field);return Rf.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=fg(e.unaryFilter.field);return Rf.create(i,"!=",{nullValue:"NULL_VALUE"});default:return sh()}}(e):void 0!==e.fieldFilter?function(e){return Rf.create(fg(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return sh()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Pf.create(e.compositeFilter.filters.map((e=>lg(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return sh()}}(e.compositeFilter.op))}(e):sh()}function cg(e){return Mm[e]}function ug(e){return Fm[e]}function hg(e){return Um[e]}function dg(e){return{fieldPath:e.canonicalString()}}function fg(e){return Ah.fromServerFormat(e.fieldPath)}function pg(e){return e instanceof Rf?function(e){if("=="===e.op){if(mf(e.value))return{unaryFilter:{field:dg(e.field),op:"IS_NAN"}};if(pf(e.value))return{unaryFilter:{field:dg(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(mf(e.value))return{unaryFilter:{field:dg(e.field),op:"IS_NOT_NAN"}};if(pf(e.value))return{unaryFilter:{field:dg(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:dg(e.field),op:ug(e.op),value:e.value}}}(e):e instanceof Pf?function(e){const t=e.getFilters().map((e=>pg(e)));return 1===t.length?t[0]:{compositeFilter:{op:hg(e.op),filters:t}}}(e):sh()}function mg(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function gg(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class vg{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Sh.min(),s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Sh.min(),a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Kd.EMPTY_BYTE_STRING,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=o}withSequenceNumber(e){return new vg(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new vg(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new vg(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new vg(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class yg{constructor(e){this.ct=e}}function wg(e,t){const n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:bg(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:Ym(e,t.key),fields:t.data.value.mapValue.fields,updateTime:zm(e,t.version.toTimestamp()),createTime:zm(e,t.createTime.toTimestamp())}}(e.ct,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:_g(t.version)};else{if(!t.isUnknownDocument())return sh();r.unknownDocument={path:n.path.toArray(),version:_g(t.version)}}return r}function bg(e){const t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function _g(e){const t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function Ig(e){const t=new kh(e.seconds,e.nanoseconds);return Sh.fromTimestamp(t)}function Eg(e,t){const n=(t.baseMutations||[]).map((t=>ig(e.ct,t)));for(let s=0;s<t.mutations.length-1;++s){const e=t.mutations[s];if(s+1<t.mutations.length&&void 0!==t.mutations[s+1].transform){const n=t.mutations[s+1];e.updateTransforms=n.transform.fieldTransforms,t.mutations.splice(s+1,1),++s}}const r=t.mutations.map((t=>ig(e.ct,t))),i=kh.fromMillis(t.localWriteTimeMs);return new fm(t.batchId,i,n,r)}function kg(e){const t=Ig(e.readTime),n=void 0!==e.lastLimboFreeSnapshotVersion?Ig(e.lastLimboFreeSnapshotVersion):Sh.min();let r;return r=function(e){return void 0!==e.documents}(e.query)?function(e){return ah(1===e.documents.length),up(ap(Zm(e.documents[0])))}(e.query):function(e){return up(og(e))}(e.query),new vg(r,e.targetId,"TargetPurposeListen",e.lastListenSequenceNumber,t,n,Kd.fromBase64String(e.resumeToken))}function Sg(e,t){const n=_g(t.snapshotVersion),r=_g(t.lastLimboFreeSnapshotVersion);let i;i=ep(t.target)?sg(e.ct,t.target):ag(e.ct,t.target).ut;const s=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Zf(t.target),readTime:n,resumeToken:s,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function xg(e){const t=og({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?fp(t,t.limit,"L"):t}function Tg(e,t){return new mm(t.largestBatchId,ig(e.ct,t.overlayMutation))}function Ng(e,t){const n=t.path.lastSegment();return[e,sd(t.path.popLast()),n]}function Ag(e,t,n,r){return{indexId:e,uid:t,sequenceNumber:n,readTime:_g(r.readTime),documentKey:sd(r.documentKey.path),largestBatchId:r.largestBatchId}}class Cg{getBundleMetadata(e,t){return Dg(e).get(t).next((e=>{if(e)return function(e){return{id:e.bundleId,createTime:Ig(e.createTime),version:e.version}}(e)}))}saveBundleMetadata(e,t){return Dg(e).put(function(e){return{bundleId:e.id,createTime:_g(Km(e.createTime)),version:e.version}}(t))}getNamedQuery(e,t){return Rg(e).get(t).next((e=>{if(e)return function(e){return{name:e.name,query:xg(e.bundledQuery),readTime:Ig(e.readTime)}}(e)}))}saveNamedQuery(e,t){return Rg(e).put(function(e){return{name:e.name,readTime:_g(Km(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}function Dg(e){return Pd(e,"bundles")}function Rg(e){return Pd(e,"namedQueries")}class Pg{constructor(e,t){this.serializer=e,this.userId=t}static lt(e,t){const n=t.uid||"";return new Pg(e,n)}getOverlay(e,t){return Og(e).get(Ng(this.userId,t)).next((e=>e?Tg(this.serializer,e):null))}getOverlays(e,t){const n=Tp();return qh.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){const r=[];return n.forEach(((n,i)=>{const s=new mm(t,i);r.push(this.ht(e,s))})),qh.waitFor(r)}removeOverlaysForBatchId(e,t,n){const r=new Set;t.forEach((e=>r.add(sd(e.getCollectionPath()))));const i=[];return r.forEach((t=>{const r=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,n+1],!1,!0);i.push(Og(e).H("collectionPathOverlayIndex",r))})),qh.waitFor(i)}getOverlaysForCollection(e,t,n){const r=Tp(),i=sd(t),s=IDBKeyRange.bound([this.userId,i,n],[this.userId,i,Number.POSITIVE_INFINITY],!0);return Og(e).W("collectionPathOverlayIndex",s).next((e=>{for(const t of e){const e=Tg(this.serializer,t);r.set(e.getKey(),e)}return r}))}getOverlaysForCollectionGroup(e,t,n,r){const i=Tp();let s;const a=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Og(e).Y({index:"collectionGroupOverlayIndex",range:a},((e,t,n)=>{const a=Tg(this.serializer,t);i.size()<r||a.largestBatchId===s?(i.set(a.getKey(),a),s=a.largestBatchId):n.done()})).next((()=>i))}ht(e,t){return Og(e).put(function(e,t,n){const[r,i,s]=Ng(t,n.mutation.key);return{userId:t,collectionPath:i,documentId:s,collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:rg(e.ct,n.mutation)}}(this.serializer,this.userId,t))}}function Og(e){return Pd(e,"documentOverlays")}class jg{constructor(){}Pt(e,t){this.It(e,t),t.Tt()}It(e,t){if("nullValue"in e)this.Et(t,5);else if("booleanValue"in e)this.Et(t,10),t.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(t,15),t.dt(Wd(e.integerValue));else if("doubleValue"in e){const n=Wd(e.doubleValue);isNaN(n)?this.Et(t,13):(this.Et(t,15),rd(n)?t.dt(0):t.dt(n))}else if("timestampValue"in e){const n=e.timestampValue;this.Et(t,20),"string"==typeof n?t.At(n):(t.At("".concat(n.seconds||"")),t.dt(n.nanos||0))}else if("stringValue"in e)this.Rt(e.stringValue,t),this.Vt(t);else if("bytesValue"in e)this.Et(t,30),t.ft(Yd(e.bytesValue)),this.Vt(t);else if("referenceValue"in e)this.gt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Et(t,45),t.dt(n.latitude||0),t.dt(n.longitude||0)}else"mapValue"in e?yf(e)?this.Et(t,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,t),this.Vt(t)):"arrayValue"in e?(this.wt(e.arrayValue,t),this.Vt(t)):sh()}Rt(e,t){this.Et(t,25),this.St(e,t)}St(e,t){t.At(e)}yt(e,t){const n=e.fields||{};this.Et(t,55);for(const r of Object.keys(n))this.Rt(r,t),this.It(n[r],t)}wt(e,t){const n=e.values||[];this.Et(t,50);for(const r of n)this.It(r,t)}gt(e,t){this.Et(t,37),Ch.fromName(e).path.forEach((e=>{this.Et(t,60),this.St(e,t)}))}Et(e,t){e.dt(t)}Vt(e){e.dt(2)}}function Lg(e){if(0===e)return 8;let t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function Mg(e){const t=64-function(e){let t=0;for(let n=0;n<8;++n){const r=Lg(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}jg.bt=new jg;class Fg{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Dt(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.Ct(n.value),n=t.next();this.vt()}Ft(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.Mt(n.value),n=t.next();this.xt()}Ot(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.Ct(e);else if(e<2048)this.Ct(960|e>>>6),this.Ct(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.Ct(480|e>>>12),this.Ct(128|63&e>>>6),this.Ct(128|63&e);else{const e=t.codePointAt(0);this.Ct(240|e>>>18),this.Ct(128|63&e>>>12),this.Ct(128|63&e>>>6),this.Ct(128|63&e)}}this.vt()}Nt(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.Mt(e);else if(e<2048)this.Mt(960|e>>>6),this.Mt(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.Mt(480|e>>>12),this.Mt(128|63&e>>>6),this.Mt(128|63&e);else{const e=t.codePointAt(0);this.Mt(240|e>>>18),this.Mt(128|63&e>>>12),this.Mt(128|63&e>>>6),this.Mt(128|63&e)}}this.xt()}Bt(e){const t=this.Lt(e),n=Mg(t);this.kt(1+n),this.buffer[this.position++]=255&n;for(let r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}qt(e){const t=this.Lt(e),n=Mg(t);this.kt(1+n),this.buffer[this.position++]=~(255&n);for(let r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}Qt(){this.Kt(255),this.Kt(255)}$t(){this.Ut(255),this.Ut(255)}reset(){this.position=0}seed(e){this.kt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Wt(){return this.buffer.slice(0,this.position)}Lt(e){const t=function(e){const t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(let r=1;r<t.length;++r)t[r]^=n?255:0;return t}Ct(e){const t=255&e;0===t?(this.Kt(0),this.Kt(255)):255===t?(this.Kt(255),this.Kt(0)):this.Kt(t)}Mt(e){const t=255&e;0===t?(this.Ut(0),this.Ut(255)):255===t?(this.Ut(255),this.Ut(0)):this.Ut(e)}vt(){this.Kt(0),this.Kt(1)}xt(){this.Ut(0),this.Ut(1)}Kt(e){this.kt(1),this.buffer[this.position++]=e}Ut(e){this.kt(1),this.buffer[this.position++]=~e}kt(e){const t=e+this.position;if(t<=this.buffer.length)return;let n=2*this.buffer.length;n<t&&(n=t);const r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}class Ug{constructor(e){this.Gt=e}ft(e){this.Gt.Dt(e)}At(e){this.Gt.Ot(e)}dt(e){this.Gt.Bt(e)}Tt(){this.Gt.Qt()}}class Vg{constructor(e){this.Gt=e}ft(e){this.Gt.Ft(e)}At(e){this.Gt.Nt(e)}dt(e){this.Gt.qt(e)}Tt(){this.Gt.$t()}}class Bg{constructor(){this.Gt=new Fg,this.zt=new Ug(this.Gt),this.jt=new Vg(this.Gt)}seed(e){this.Gt.seed(e)}Ht(e){return 0===e?this.zt:this.jt}Wt(){return this.Gt.Wt()}reset(){this.Gt.reset()}}class zg{constructor(e,t,n,r){this.indexId=e,this.documentKey=t,this.arrayValue=n,this.directionalValue=r}Jt(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,n=new Uint8Array(t);return n.set(this.directionalValue,0),t!==e?n.set([0],this.directionalValue.length):++n[n.length-1],new zg(this.indexId,this.documentKey,this.arrayValue,n)}}function qg(e,t){let n=e.indexId-t.indexId;return 0!==n?n:(n=Gg(e.arrayValue,t.arrayValue),0!==n?n:(n=Gg(e.directionalValue,t.directionalValue),0!==n?n:Ch.comparator(e.documentKey,t.documentKey)))}function Gg(e,t){for(let n=0;n<e.length&&n<t.length;++n){const r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}class Kg{constructor(e){this.Yt=new Vd(((e,t)=>Ah.comparator(e.field,t.field))),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Zt=e.orderBy,this.Xt=[];for(const t of e.filters){const e=t;e.isInequality()?this.Yt=this.Yt.add(e):this.Xt.push(e)}}get en(){return this.Yt.size>1}tn(e){if(ah(e.collectionGroup===this.collectionId),this.en)return!1;const t=Rh(e);if(void 0!==t&&!this.nn(t))return!1;const n=Ph(e);let r=new Set,i=0,s=0;for(;i<n.length&&this.nn(n[i]);++i)r=r.add(n[i].fieldPath.canonicalString());if(i===n.length)return!0;if(this.Yt.size>0){const e=this.Yt.getIterator().getNext();if(!r.has(e.field.canonicalString())){const t=n[i];if(!this.rn(e,t)||!this.sn(this.Zt[s++],t))return!1}++i}for(;i<n.length;++i){const e=n[i];if(s>=this.Zt.length||!this.sn(this.Zt[s++],e))return!1}return!0}on(){if(this.en)return null;let e=new Vd(Ah.comparator);const t=[];for(const n of this.Xt)if(!n.field.isKeyField())if("array-contains"===n.op||"array-contains-any"===n.op)t.push(new Oh(n.field,2));else{if(e.has(n.field))continue;e=e.add(n.field),t.push(new Oh(n.field,0))}for(const n of this.Zt)n.field.isKeyField()||e.has(n.field)||(e=e.add(n.field),t.push(new Oh(n.field,"asc"===n.dir?0:1)));return new Dh(Dh.UNKNOWN_ID,this.collectionId,t,jh.empty())}nn(e){for(const t of this.Xt)if(this.rn(t,e))return!0;return!1}rn(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;const n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}sn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function Hg(e){var t,n;if(ah(e instanceof Rf||e instanceof Pf),e instanceof Rf){if(e instanceof Qf){const r=(null===(n=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===n?void 0:n.map((t=>Rf.create(e.field,"==",t))))||[];return Pf.create(r,"or")}return e}const r=e.filters.map((e=>Hg(e)));return Pf.create(r,e.op)}function Qg(e){if(0===e.getFilters().length)return[];const t=Xg(Hg(e));return ah(Jg(t)),Wg(t)||Yg(t)?[t]:t.getFilters()}function Wg(e){return e instanceof Rf}function Yg(e){return e instanceof Pf&&Lf(e)}function Jg(e){return Wg(e)||Yg(e)||function(e){if(e instanceof Pf&&jf(e)){for(const t of e.getFilters())if(!Wg(t)&&!Yg(t))return!1;return!0}return!1}(e)}function Xg(e){if(ah(e instanceof Rf||e instanceof Pf),e instanceof Rf)return e;if(1===e.filters.length)return Xg(e.filters[0]);const t=e.filters.map((e=>Xg(e)));let n=Pf.create(t,e.op);return n=ev(n),Jg(n)?n:(ah(n instanceof Pf),ah(Of(n)),ah(n.filters.length>1),n.filters.reduce(((e,t)=>Zg(e,t))))}function Zg(e,t){let n;return ah(e instanceof Rf||e instanceof Pf),ah(t instanceof Rf||t instanceof Pf),n=e instanceof Rf?t instanceof Rf?function(e,t){return Pf.create([e,t],"and")}(e,t):$g(e,t):t instanceof Rf?$g(t,e):function(e,t){if(ah(e.filters.length>0&&t.filters.length>0),Of(e)&&Of(t))return Vf(e,t.getFilters());const n=jf(e)?e:t,r=jf(e)?t:e,i=n.filters.map((e=>Zg(e,r)));return Pf.create(i,"or")}(e,t),ev(n)}function $g(e,t){if(Of(t))return Vf(t,e.getFilters());{const n=t.filters.map((t=>Zg(e,t)));return Pf.create(n,"or")}}function ev(e){if(ah(e instanceof Rf||e instanceof Pf),e instanceof Rf)return e;const t=e.getFilters();if(1===t.length)return ev(t[0]);if(Mf(e))return e;const n=t.map((e=>ev(e))),r=[];return n.forEach((t=>{t instanceof Rf?r.push(t):t instanceof Pf&&(t.op===e.op?r.push(...t.filters):r.push(t))})),1===r.length?r[0]:Pf.create(r,e.op)}class tv{constructor(){this._n=new nv}addToCollectionParentIndex(e,t){return this._n.add(t),qh.resolve()}getCollectionParents(e,t){return qh.resolve(this._n.getEntries(t))}addFieldIndex(e,t){return qh.resolve()}deleteFieldIndex(e,t){return qh.resolve()}deleteAllFieldIndexes(e){return qh.resolve()}createTargetIndexes(e,t){return qh.resolve()}getDocumentsMatchingTarget(e,t){return qh.resolve(null)}getIndexType(e,t){return qh.resolve(0)}getFieldIndexes(e,t){return qh.resolve([])}getNextCollectionGroupToUpdate(e){return qh.resolve(null)}getMinOffset(e,t){return qh.resolve(Fh.min())}getMinOffsetFromCollectionGroup(e,t){return qh.resolve(Fh.min())}updateCollectionGroup(e,t,n){return qh.resolve()}updateIndexEntries(e,t){return qh.resolve()}}class nv{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Vd(Th.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new Vd(Th.comparator)).toArray()}}const rv=new Uint8Array(0);class iv{constructor(e,t){this.databaseId=t,this.an=new nv,this.un=new _p((e=>Zf(e)),((e,t)=>$f(e,t))),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.an.has(t)){const n=t.lastSegment(),r=t.popLast();e.addOnCommittedListener((()=>{this.an.add(t)}));const i={collectionId:n,parent:sd(r)};return sv(e).put(i)}return qh.resolve()}getCollectionParents(e,t){const n=[],r=IDBKeyRange.bound([t,""],[Eh(t),""],!1,!0);return sv(e).W(r).next((e=>{for(const r of e){if(r.collectionId!==t)break;n.push(ld(r.parent))}return n}))}addFieldIndex(e,t){const n=ov(e),r=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((e=>[e.fieldPath.canonicalString(),e.kind]))}}(t);delete r.indexId;const i=n.add(r);if(t.indexState){const n=lv(e);return i.next((e=>{n.put(Ag(e,this.uid,t.indexState.sequenceNumber,t.indexState.offset))}))}return i.next()}deleteFieldIndex(e,t){const n=ov(e),r=lv(e),i=av(e);return n.delete(t.indexId).next((()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))).next((()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const t=ov(e),n=av(e),r=lv(e);return t.H().next((()=>n.H())).next((()=>r.H()))}createTargetIndexes(e,t){return qh.forEach(this.cn(t),(t=>this.getIndexType(e,t).next((n=>{if(0===n||1===n){const n=new Kg(t).on();if(null!=n)return this.addFieldIndex(e,n)}}))))}getDocumentsMatchingTarget(e,t){const n=av(e);let r=!0;const i=new Map;return qh.forEach(this.cn(t),(t=>this.ln(e,t).next((e=>{r&&(r=!!e),i.set(t,e)})))).next((()=>{if(r){let e=Rp();const r=[];return qh.forEach(i,((i,s)=>{th("IndexedDbIndexManager","Using index ".concat(function(e){return"id=".concat(e.indexId,"|cg=").concat(e.collectionGroup,"|f=").concat(e.fields.map((e=>"".concat(e.fieldPath,":").concat(e.kind))).join(","))}(i)," to execute ").concat(Zf(t)));const a=function(e,t){const n=Rh(t);if(void 0===n)return null;for(const r of tp(e,n.fieldPath))switch(r.op){case"array-contains-any":return r.value.arrayValue.values||[];case"array-contains":return[r.value]}return null}(s,i),o=function(e,t){const n=new Map;for(const r of Ph(t))for(const t of tp(e,r.fieldPath))switch(t.op){case"==":case"in":n.set(r.fieldPath.canonicalString(),t.value);break;case"not-in":case"!=":return n.set(r.fieldPath.canonicalString(),t.value),Array.from(n.values())}return null}(s,i),l=function(e,t){const n=[];let r=!0;for(const i of Ph(t)){const t=0===i.kind?np(e,i.fieldPath,e.startAt):rp(e,i.fieldPath,e.startAt);n.push(t.value),r&&(r=t.inclusive)}return new xf(n,r)}(s,i),c=function(e,t){const n=[];let r=!0;for(const i of Ph(t)){const t=0===i.kind?rp(e,i.fieldPath,e.endAt):np(e,i.fieldPath,e.endAt);n.push(t.value),r&&(r=t.inclusive)}return new xf(n,r)}(s,i),u=this.hn(i,s,l),h=this.hn(i,s,c),d=this.Pn(i,s,o),f=this.In(i.indexId,a,u,l.inclusive,h,c.inclusive,d);return qh.forEach(f,(i=>n.j(i,t.limit).next((t=>{t.forEach((t=>{const n=Ch.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),r.push(n))}))}))))})).next((()=>r))}return qh.resolve(null)}))}cn(e){let t=this.un.get(e);return t||(t=0===e.filters.length?[e]:Qg(Pf.create(e.filters,"and")).map((t=>Xf(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt))),this.un.set(e,t),t)}In(e,t,n,r,i,s,a){const o=(null!=t?t.length:1)*Math.max(n.length,i.length),l=o/(null!=t?t.length:1),c=[];for(let u=0;u<o;++u){const o=t?this.Tn(t[u/l]):rv,h=this.En(e,o,n[u%l],r),d=this.dn(e,o,i[u%l],s),f=a.map((t=>this.En(e,o,t,!0)));c.push(...this.createRange(h,d,f))}return c}En(e,t,n,r){const i=new zg(e,Ch.empty(),t,n);return r?i:i.Jt()}dn(e,t,n,r){const i=new zg(e,Ch.empty(),t,n);return r?i.Jt():i}ln(e,t){const n=new Kg(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((e=>{let t=null;for(const r of e)n.tn(r)&&(!t||r.fields.length>t.fields.length)&&(t=r);return t}))}getIndexType(e,t){let n=2;const r=this.cn(t);return qh.forEach(r,(t=>this.ln(e,t).next((e=>{e?0!==n&&e.fields.length<function(e){let t=new Vd(Ah.comparator),n=!1;for(const r of e.filters)for(const e of r.getFlattenedFilters())e.field.isKeyField()||("array-contains"===e.op||"array-contains-any"===e.op?n=!0:t=t.add(e.field));for(const r of e.orderBy)r.field.isKeyField()||(t=t.add(r.field));return t.size+(n?1:0)}(t)&&(n=1):n=0})))).next((()=>function(e){return null!==e.limit}(t)&&r.length>1&&2===n?1:n))}An(e,t){const n=new Bg;for(const r of Ph(e)){const e=t.data.field(r.fieldPath);if(null==e)return null;const i=n.Ht(r.kind);jg.bt.Pt(e,i)}return n.Wt()}Tn(e){const t=new Bg;return jg.bt.Pt(e,t.Ht(0)),t.Wt()}Rn(e,t){const n=new Bg;return jg.bt.Pt(hf(this.databaseId,t),n.Ht(function(e){const t=Ph(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Wt()}Pn(e,t,n){if(null===n)return[];let r=[];r.push(new Bg);let i=0;for(const s of Ph(e)){const e=n[i++];for(const n of r)if(this.Vn(t,s.fieldPath)&&ff(e))r=this.mn(r,s,e);else{const t=n.Ht(s.kind);jg.bt.Pt(e,t)}}return this.fn(r)}hn(e,t,n){return this.Pn(e,t,n.position)}fn(e){const t=[];for(let n=0;n<e.length;++n)t[n]=e[n].Wt();return t}mn(e,t,n){const r=[...e],i=[];for(const s of n.arrayValue.values||[])for(const e of r){const n=new Bg;n.seed(e.Wt()),jg.bt.Pt(s,n.Ht(t.kind)),i.push(n)}return i}Vn(e,t){return!!e.filters.find((e=>e instanceof Rf&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)))}getFieldIndexes(e,t){const n=ov(e),r=lv(e);return(t?n.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):n.W()).next((e=>{const t=[];return qh.forEach(e,(e=>r.get([e.indexId,this.uid]).next((n=>{t.push(function(e,t){const n=t?new jh(t.sequenceNumber,new Fh(Ig(t.readTime),new Ch(ld(t.documentKey)),t.largestBatchId)):jh.empty(),r=e.fields.map((e=>{let[t,n]=e;return new Oh(Ah.fromServerFormat(t),n)}));return new Dh(e.indexId,e.collectionGroup,r,n)}(e,n))})))).next((()=>t))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((e=>0===e.length?null:(e.sort(((e,t)=>{const n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:_h(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)))}updateCollectionGroup(e,t,n){const r=ov(e),i=lv(e);return this.gn(e).next((e=>r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((t=>qh.forEach(t,(t=>i.put(Ag(t.indexId,this.uid,e,n))))))))}updateIndexEntries(e,t){const n=new Map;return qh.forEach(t,((t,r)=>{const i=n.get(t.collectionGroup);return(i?qh.resolve(i):this.getFieldIndexes(e,t.collectionGroup)).next((i=>(n.set(t.collectionGroup,i),qh.forEach(i,(n=>this.pn(e,t,n).next((t=>{const i=this.yn(r,n);return t.isEqual(i)?qh.resolve():this.wn(e,r,n,t,i)})))))))}))}Sn(e,t,n,r){return av(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.Rn(n,t.key),documentKey:t.key.path.toArray()})}bn(e,t,n,r){return av(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.Rn(n,t.key),t.key.path.toArray()])}pn(e,t,n){const r=av(e);let i=new Vd(qg);return r.Y({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.Rn(n,t)])},((e,r)=>{i=i.add(new zg(n.indexId,t,r.arrayValue,r.directionalValue))})).next((()=>i))}yn(e,t){let n=new Vd(qg);const r=this.An(t,e);if(null==r)return n;const i=Rh(t);if(null!=i){const s=e.data.field(i.fieldPath);if(ff(s))for(const i of s.arrayValue.values||[])n=n.add(new zg(t.indexId,e.key,this.Tn(i),r))}else n=n.add(new zg(t.indexId,e.key,rv,r));return n}wn(e,t,n,r,i){th("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const s=[];return function(e,t,n,r,i){const s=e.getIterator(),a=t.getIterator();let o=zd(s),l=zd(a);for(;o||l;){let e=!1,t=!1;if(o&&l){const r=n(o,l);r<0?t=!0:r>0&&(e=!0)}else null!=o?t=!0:e=!0;e?(r(l),l=zd(a)):t?(i(o),o=zd(s)):(o=zd(s),l=zd(a))}}(r,i,qg,(r=>{s.push(this.Sn(e,t,n,r))}),(r=>{s.push(this.bn(e,t,n,r))})),qh.waitFor(s)}gn(e){let t=1;return lv(e).Y({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((e,n,r)=>{r.done(),t=n.sequenceNumber+1})).next((()=>t))}createRange(e,t,n){n=n.sort(((e,t)=>qg(e,t))).filter(((e,t,n)=>!t||0!==qg(e,n[t-1])));const r=[];r.push(e);for(const s of n){const n=qg(s,e),i=qg(s,t);if(0===n)r[0]=e.Jt();else if(n>0&&i<0)r.push(s),r.push(s.Jt());else if(i>0)break}r.push(t);const i=[];for(let s=0;s<r.length;s+=2){if(this.Dn(r[s],r[s+1]))return[];const e=[r[s].indexId,this.uid,r[s].arrayValue,r[s].directionalValue,rv,[]],t=[r[s+1].indexId,this.uid,r[s+1].arrayValue,r[s+1].directionalValue,rv,[]];i.push(IDBKeyRange.bound(e,t))}return i}Dn(e,t){return qg(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(cv)}getMinOffset(e,t){return qh.mapArray(this.cn(t),(t=>this.ln(e,t).next((e=>e||sh())))).next(cv)}}function sv(e){return Pd(e,"collectionParents")}function av(e){return Pd(e,"indexEntries")}function ov(e){return Pd(e,"indexConfiguration")}function lv(e){return Pd(e,"indexState")}function cv(e){ah(0!==e.length);let t=e[0].indexState.offset,n=t.largestBatchId;for(let r=1;r<e.length;r++){const i=e[r].indexState.offset;Uh(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Fh(t.readTime,t.documentKey,n)}const uv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class hv{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new hv(e,hv.DEFAULT_COLLECTION_PERCENTILE,hv.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function dv(e,t,n){const r=e.store("mutations"),i=e.store("documentMutations"),s=[],a=IDBKeyRange.only(n.batchId);let o=0;const l=r.Y({range:a},((e,t,n)=>(o++,n.delete())));s.push(l.next((()=>{ah(1===o)})));const c=[];for(const u of n.mutations){const e=hd(t,u.key.path,n.batchId);s.push(i.delete(e)),c.push(u.key)}return qh.waitFor(s).next((()=>c))}function fv(e){if(!e)return 0;let t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw sh();t=e.noDocument}return JSON.stringify(t).length}hv.DEFAULT_COLLECTION_PERCENTILE=10,hv.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,hv.DEFAULT=new hv(41943040,hv.DEFAULT_COLLECTION_PERCENTILE,hv.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),hv.DISABLED=new hv(-1,0,0);class pv{constructor(e,t,n,r){this.userId=e,this.serializer=t,this.indexManager=n,this.referenceDelegate=r,this.Cn={}}static lt(e,t,n,r){ah(""!==e.uid);const i=e.isAuthenticated()?e.uid:"";return new pv(i,t,n,r)}checkEmpty(e){let t=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return gv(e).Y({index:"userMutationsIndex",range:n},((e,n,r)=>{t=!1,r.done()})).next((()=>t))}addMutationBatch(e,t,n,r){const i=vv(e),s=gv(e);return s.add({}).next((a=>{ah("number"==typeof a);const o=new fm(a,t,n,r),l=function(e,t,n){const r=n.baseMutations.map((t=>rg(e.ct,t))),i=n.mutations.map((t=>rg(e.ct,t)));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(this.serializer,this.userId,o),c=[];let u=new Vd(((e,t)=>_h(e.canonicalString(),t.canonicalString())));for(const e of r){const t=hd(this.userId,e.key.path,a);u=u.add(e.key.path.popLast()),c.push(s.put(l)),c.push(i.put(t,dd))}return u.forEach((t=>{c.push(this.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((()=>{this.Cn[a]=o.keys()})),qh.waitFor(c).next((()=>o))}))}lookupMutationBatch(e,t){return gv(e).get(t).next((e=>e?(ah(e.userId===this.userId),Eg(this.serializer,e)):null))}vn(e,t){return this.Cn[t]?qh.resolve(this.Cn[t]):this.lookupMutationBatch(e,t).next((e=>{if(e){const n=e.keys();return this.Cn[t]=n,n}return null}))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=IDBKeyRange.lowerBound([this.userId,n]);let i=null;return gv(e).Y({index:"userMutationsIndex",range:r},((e,t,r)=>{t.userId===this.userId&&(ah(t.batchId>=n),i=Eg(this.serializer,t)),r.done()})).next((()=>i))}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=-1;return gv(e).Y({index:"userMutationsIndex",range:t,reverse:!0},((e,t,r)=>{n=t.batchId,r.done()})).next((()=>n))}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return gv(e).W("userMutationsIndex",t).next((e=>e.map((e=>Eg(this.serializer,e)))))}getAllMutationBatchesAffectingDocumentKey(e,t){const n=ud(this.userId,t.path),r=IDBKeyRange.lowerBound(n),i=[];return vv(e).Y({range:r},((n,r,s)=>{const[a,o,l]=n,c=ld(o);if(a===this.userId&&t.path.isEqual(c))return gv(e).get(l).next((e=>{if(!e)throw sh();ah(e.userId===this.userId),i.push(Eg(this.serializer,e))}));s.done()})).next((()=>i))}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Vd(_h);const r=[];return t.forEach((t=>{const i=ud(this.userId,t.path),s=IDBKeyRange.lowerBound(i),a=vv(e).Y({range:s},((e,r,i)=>{const[s,a,o]=e,l=ld(a);s===this.userId&&t.path.isEqual(l)?n=n.add(o):i.done()}));r.push(a)})),qh.waitFor(r).next((()=>this.Fn(e,n)))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1,i=ud(this.userId,n),s=IDBKeyRange.lowerBound(i);let a=new Vd(_h);return vv(e).Y({range:s},((e,t,i)=>{const[s,o,l]=e,c=ld(o);s===this.userId&&n.isPrefixOf(c)?c.length===r&&(a=a.add(l)):i.done()})).next((()=>this.Fn(e,a)))}Fn(e,t){const n=[],r=[];return t.forEach((t=>{r.push(gv(e).get(t).next((e=>{if(null===e)throw sh();ah(e.userId===this.userId),n.push(Eg(this.serializer,e))})))})),qh.waitFor(r).next((()=>n))}removeMutationBatch(e,t){return dv(e.ae,this.userId,t).next((n=>(e.addOnCommittedListener((()=>{this.Mn(t.batchId)})),qh.forEach(n,(t=>this.referenceDelegate.markPotentiallyOrphaned(e,t))))))}Mn(e){delete this.Cn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((t=>{if(!t)return qh.resolve();const n=IDBKeyRange.lowerBound(function(e){return[e]}(this.userId)),r=[];return vv(e).Y({range:n},((e,t,n)=>{if(e[0]===this.userId){const t=ld(e[1]);r.push(t)}else n.done()})).next((()=>{ah(0===r.length)}))}))}containsKey(e,t){return mv(e,this.userId,t)}xn(e){return yv(e).get(this.userId).next((e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}))}}function mv(e,t,n){const r=ud(t,n.path),i=r[1],s=IDBKeyRange.lowerBound(r);let a=!1;return vv(e).Y({range:s,J:!0},((e,n,r)=>{const[s,o,l]=e;s===t&&o===i&&(a=!0),r.done()})).next((()=>a))}function gv(e){return Pd(e,"mutations")}function vv(e){return Pd(e,"documentMutations")}function yv(e){return Pd(e,"mutationQueues")}class wv{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new wv(0)}static Bn(){return new wv(-1)}}class bv{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.Ln(e).next((t=>{const n=new wv(t.highestTargetId);return t.highestTargetId=n.next(),this.kn(e,t).next((()=>t.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.Ln(e).next((e=>Sh.fromTimestamp(new kh(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.Ln(e).next((e=>e.highestListenSequenceNumber))}setTargetsMetadata(e,t,n){return this.Ln(e).next((r=>(r.highestListenSequenceNumber=t,n&&(r.lastRemoteSnapshotVersion=n.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.kn(e,r))))}addTargetData(e,t){return this.qn(e,t).next((()=>this.Ln(e).next((n=>(n.targetCount+=1,this.Qn(t,n),this.kn(e,n))))))}updateTargetData(e,t){return this.qn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next((()=>_v(e).delete(t.targetId))).next((()=>this.Ln(e))).next((t=>(ah(t.targetCount>0),t.targetCount-=1,this.kn(e,t))))}removeTargets(e,t,n){let r=0;const i=[];return _v(e).Y(((s,a)=>{const o=kg(a);o.sequenceNumber<=t&&null===n.get(o.targetId)&&(r++,i.push(this.removeTargetData(e,o)))})).next((()=>qh.waitFor(i))).next((()=>r))}forEachTarget(e,t){return _v(e).Y(((e,n)=>{const r=kg(n);t(r)}))}Ln(e){return Iv(e).get("targetGlobalKey").next((e=>(ah(null!==e),e)))}kn(e,t){return Iv(e).put("targetGlobalKey",t)}qn(e,t){return _v(e).put(Sg(this.serializer,t))}Qn(e,t){let n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}getTargetCount(e){return this.Ln(e).next((e=>e.targetCount))}getTargetData(e,t){const n=Zf(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let i=null;return _v(e).Y({range:r,index:"queryTargetsIndex"},((e,n,r)=>{const s=kg(n);$f(t,s.target)&&(i=s,r.done())})).next((()=>i))}addMatchingKeys(e,t,n){const r=[],i=Ev(e);return t.forEach((t=>{const s=sd(t.path);r.push(i.put({targetId:n,path:s})),r.push(this.referenceDelegate.addReference(e,n,t))})),qh.waitFor(r)}removeMatchingKeys(e,t,n){const r=Ev(e);return qh.forEach(t,(t=>{const i=sd(t.path);return qh.waitFor([r.delete([n,i]),this.referenceDelegate.removeReference(e,n,t)])}))}removeMatchingKeysForTargetId(e,t){const n=Ev(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}getMatchingKeysForTargetId(e,t){const n=IDBKeyRange.bound([t],[t+1],!1,!0),r=Ev(e);let i=Rp();return r.Y({range:n,J:!0},((e,t,n)=>{const r=ld(e[1]),s=new Ch(r);i=i.add(s)})).next((()=>i))}containsKey(e,t){const n=sd(t.path),r=IDBKeyRange.bound([n],[Eh(n)],!1,!0);let i=0;return Ev(e).Y({index:"documentTargetsIndex",J:!0,range:r},((e,t,n)=>{let[r,s]=e;0!==r&&(i++,n.done())})).next((()=>i>0))}_t(e,t){return _v(e).get(t).next((e=>e?kg(e):null))}}function _v(e){return Pd(e,"targets")}function Iv(e){return Pd(e,"targetGlobal")}function Ev(e){return Pd(e,"targetDocuments")}function kv(e,t){let[n,r]=e,[i,s]=t;const a=_h(n,i);return 0===a?_h(r,s):a}class Sv{constructor(e){this.Kn=e,this.buffer=new Vd(kv),this.$n=0}Un(){return++this.$n}Wn(e){const t=[e,this.Un()];if(this.buffer.size<this.Kn)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();kv(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class xv{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.zn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}zn(e){th("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Gn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Wh(e)?th("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e):await zh(e)}await this.zn(3e5)}))}}class Tv{constructor(e,t){this.jn=e,this.params=t}calculateTargetCount(e,t){return this.jn.Hn(e).next((e=>Math.floor(t/100*e)))}nthSequenceNumber(e,t){if(0===t)return qh.resolve(td._e);const n=new Sv(t);return this.jn.forEachTarget(e,(e=>n.Wn(e.sequenceNumber))).next((()=>this.jn.Jn(e,(e=>n.Wn(e))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.jn.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.jn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(th("LruGarbageCollector","Garbage collection skipped; disabled"),qh.resolve(uv)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(th("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(n," is lower than threshold ").concat(this.params.cacheSizeCollectionThreshold)),uv):this.Yn(e,t)))}getCacheSize(e){return this.jn.getCacheSize(e)}Yn(e,t){let n,r,i,s,a,o,l;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((t=>(t>this.params.maximumSequenceNumbersToCollect?(th("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(this.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=this.params.maximumSequenceNumbersToCollect):r=t,s=Date.now(),this.nthSequenceNumber(e,r)))).next((r=>(n=r,a=Date.now(),this.removeTargets(e,n,t)))).next((t=>(i=t,o=Date.now(),this.removeOrphanedDocuments(e,n)))).next((e=>(l=Date.now(),eh()<=he.DEBUG&&th("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(s-c,"ms\n\tDetermined least recently used ").concat(r," in ")+(a-s)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(o-a)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(l-o)+"ms\n"+"Total Duration: ".concat(l-c,"ms")),qh.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e}))))}}function Nv(e,t){return new Tv(e,t)}class Av{constructor(e,t){this.db=e,this.garbageCollector=Nv(this,t)}Hn(e){const t=this.Zn(e);return this.db.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}Zn(e){let t=0;return this.Jn(e,(e=>{t++})).next((()=>t))}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Jn(e,t){return this.Xn(e,((e,n)=>t(n)))}addReference(e,t,n){return Cv(e,n)}removeReference(e,t,n){return Cv(e,n)}removeTargets(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}markPotentiallyOrphaned(e,t){return Cv(e,t)}er(e,t){return function(e,t){let n=!1;return yv(e).Z((r=>mv(e,r,t).next((e=>(e&&(n=!0),qh.resolve(!e)))))).next((()=>n))}(e,t)}removeOrphanedDocuments(e,t){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let i=0;return this.Xn(e,((s,a)=>{if(a<=t){const t=this.er(e,s).next((t=>{if(!t)return i++,n.getEntry(e,s).next((()=>(n.removeEntry(s,Sh.min()),Ev(e).delete(function(e){return[0,sd(e.path)]}(s)))))}));r.push(t)}})).next((()=>qh.waitFor(r))).next((()=>n.apply(e))).next((()=>i))}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}updateLimboDocument(e,t){return Cv(e,t)}Xn(e,t){const n=Ev(e);let r,i=td._e;return n.Y({index:"documentTargetsIndex"},((e,n)=>{let[s,a]=e,{path:o,sequenceNumber:l}=n;0===s?(i!==td._e&&t(new Ch(ld(r)),i),i=l,r=o):i=td._e})).next((()=>{i!==td._e&&t(new Ch(ld(r)),i)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Cv(e,t){return Ev(e).put(function(e,t){return{targetId:0,path:sd(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}class Dv{constructor(){this.changes=new _p((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Sf.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?qh.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Rv{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,n){return Lv(e).put(n)}removeEntry(e,t,n){return Lv(e).delete(function(e,t){const n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],bg(t),n[n.length-1]]}(t,n))}updateMetadata(e,t){return this.getMetadata(e).next((n=>(n.byteSize+=t,this.tr(e,n))))}getEntry(e,t){let n=Sf.newInvalidDocument(t);return Lv(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(Mv(t))},((e,r)=>{n=this.nr(t,r)})).next((()=>n))}rr(e,t){let n={size:0,document:Sf.newInvalidDocument(t)};return Lv(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(Mv(t))},((e,r)=>{n={document:this.nr(t,r),size:fv(r)}})).next((()=>n))}getEntries(e,t){let n=Ep();return this.ir(e,t,((e,t)=>{const r=this.nr(e,t);n=n.insert(e,r)})).next((()=>n))}sr(e,t){let n=Ep(),r=new Md(Ch.comparator);return this.ir(e,t,((e,t)=>{const i=this.nr(e,t);n=n.insert(e,i),r=r.insert(e,fv(t))})).next((()=>({documents:n,_r:r})))}ir(e,t,n){if(t.isEmpty())return qh.resolve();let r=new Vd(Uv);t.forEach((e=>r=r.add(e)));const i=IDBKeyRange.bound(Mv(r.first()),Mv(r.last())),s=r.getIterator();let a=s.getNext();return Lv(e).Y({index:"documentKeyIndex",range:i},((e,t,r)=>{const i=Ch.fromSegments([...t.prefixPath,t.collectionGroup,t.documentId]);for(;a&&Uv(a,i)<0;)n(a,null),a=s.getNext();a&&a.isEqual(i)&&(n(a,t),a=s.hasNext()?s.getNext():null),a?r.U(Mv(a)):r.done()})).next((()=>{for(;a;)n(a,null),a=s.hasNext()?s.getNext():null}))}getDocumentsMatchingQuery(e,t,n,r,i){const s=t.path,a=[s.popLast().toArray(),s.lastSegment(),bg(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],o=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Lv(e).W(IDBKeyRange.bound(a,o,!0)).next((e=>{null==i||i.incrementDocumentReadCount(e.length);let n=Ep();for(const i of e){const e=this.nr(Ch.fromSegments(i.prefixPath.concat(i.collectionGroup,i.documentId)),i);e.isFoundDocument()&&(vp(t,e)||r.has(e.key))&&(n=n.insert(e.key,e))}return n}))}getAllFromCollectionGroup(e,t,n,r){let i=Ep();const s=Fv(t,n),a=Fv(t,Fh.max());return Lv(e).Y({index:"collectionGroupIndex",range:IDBKeyRange.bound(s,a,!0)},((e,t,n)=>{const s=this.nr(Ch.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);i=i.insert(s.key,s),i.size===r&&n.done()})).next((()=>i))}newChangeBuffer(e){return new Ov(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((e=>e.byteSize))}getMetadata(e){return jv(e).get("remoteDocumentGlobalKey").next((e=>(ah(!!e),e)))}tr(e,t){return jv(e).put("remoteDocumentGlobalKey",t)}nr(e,t){if(t){const e=function(e,t){let n;if(t.document)n=ng(e.ct,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const e=Ch.fromSegments(t.noDocument.path),r=Ig(t.noDocument.readTime);n=Sf.newNoDocument(e,r),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return sh();{const e=Ch.fromSegments(t.unknownDocument.path),r=Ig(t.unknownDocument.version);n=Sf.newUnknownDocument(e,r)}}return t.readTime&&n.setReadTime(function(e){const t=new kh(e[0],e[1]);return Sh.fromTimestamp(t)}(t.readTime)),n}(this.serializer,t);if(!e.isNoDocument()||!e.version.isEqual(Sh.min()))return e}return Sf.newInvalidDocument(e)}}function Pv(e){return new Rv(e)}class Ov extends Dv{constructor(e,t){super(),this.ar=e,this.trackRemovals=t,this.ur=new _p((e=>e.toString()),((e,t)=>e.isEqual(t)))}applyChanges(e){const t=[];let n=0,r=new Vd(((e,t)=>_h(e.canonicalString(),t.canonicalString())));return this.changes.forEach(((i,s)=>{const a=this.ur.get(i);if(t.push(this.ar.removeEntry(e,i,a.readTime)),s.isValidDocument()){const o=wg(this.ar.serializer,s);r=r.add(i.path.popLast());const l=fv(o);n+=l-a.size,t.push(this.ar.addEntry(e,i,o))}else if(n-=a.size,this.trackRemovals){const n=wg(this.ar.serializer,s.convertToNoDocument(Sh.min()));t.push(this.ar.addEntry(e,i,n))}})),r.forEach((n=>{t.push(this.ar.indexManager.addToCollectionParentIndex(e,n))})),t.push(this.ar.updateMetadata(e,n)),qh.waitFor(t)}getFromCache(e,t){return this.ar.rr(e,t).next((e=>(this.ur.set(t,{size:e.size,readTime:e.document.readTime}),e.document)))}getAllFromCache(e,t){return this.ar.sr(e,t).next((e=>{let{documents:t,_r:n}=e;return n.forEach(((e,n)=>{this.ur.set(e,{size:n,readTime:t.get(e).readTime})})),t}))}}function jv(e){return Pd(e,"remoteDocumentGlobal")}function Lv(e){return Pd(e,"remoteDocumentsV14")}function Mv(e){const t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function Fv(e,t){const n=t.documentKey.path.toArray();return[e,bg(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function Uv(e,t){const n=e.path.toArray(),r=t.path.toArray();let i=0;for(let s=0;s<n.length-2&&s<r.length-2;++s)if(i=_h(n[s],r[s]),i)return i;return i=_h(n.length,r.length),i||(i=_h(n[n.length-2],r[r.length-2]),i||_h(n[n.length-1],r[r.length-1]))}class Vv{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Bv{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&rm(n.mutation,e,qd.empty(),kh.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,Rp()).next((()=>t))))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Rp();const r=Tp();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=Sp();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=Tp();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,Rp())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=Ep();const s=Ap(),a=Ap();return t.forEach(((e,t)=>{const a=n.get(t.key);r.has(t.key)&&(void 0===a||a.mutation instanceof om)?i=i.insert(t.key,t):void 0!==a?(s.set(t.key,a.mutation.getFieldMask()),rm(a.mutation,t,a.mutation.getFieldMask(),kh.now())):s.set(t.key,qd.empty())})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>s.set(e,t))),t.forEach(((e,t)=>{var n;return a.set(e,new Vv(t,null!==(n=s.get(e))&&void 0!==n?n:null))})),a)))}recalculateAndSaveOverlays(e,t){const n=Ap();let r=new Md(((e,t)=>e-t)),i=Rp();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const i of e)i.keys().forEach((e=>{const s=t.get(e);if(null===s)return;let a=n.get(e)||qd.empty();a=i.applyToLocalView(s,a),n.set(e,a);const o=(r.get(i.batchId)||Rp()).add(e);r=r.insert(i.batchId,o)}))})).next((()=>{const s=[],a=r.getReverseIterator();for(;a.hasNext();){const r=a.getNext(),o=r.key,l=r.value,c=Np();l.forEach((e=>{if(!i.has(e)){const r=tm(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}})),s.push(this.documentOverlayCache.saveOverlays(e,o,c))}return qh.waitFor(s)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return Ch.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):lp(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{const s=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):qh.resolve(Tp());let a=-1,o=i;return s.next((t=>qh.forEach(t,((t,n)=>(a<n.largestBatchId&&(a=n.largestBatchId),i.get(t)?qh.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{o=o.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,o,t,Rp()))).next((e=>({batchId:a,changes:xp(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ch(t)).next((e=>{let t=Sp();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let s=Sp();return this.indexManager.getCollectionParents(e,i).next((a=>qh.forEach(a,(a=>{const o=function(e,t){return new ip(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,o,n,r).next((e=>{e.forEach(((e,t)=>{s=s.insert(e,t)}))}))})).next((()=>s))))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r)))).next((e=>{i.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,Sf.newInvalidDocument(r)))}));let n=Sp();return e.forEach(((e,r)=>{const s=i.get(e);void 0!==s&&rm(s.mutation,r,qd.empty(),kh.now()),vp(t,r)&&(n=n.insert(e,r))})),n}))}}class zv{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,t){return qh.resolve(this.cr.get(t))}saveBundleMetadata(e,t){return this.cr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:Km(e.createTime)}}(t)),qh.resolve()}getNamedQuery(e,t){return qh.resolve(this.lr.get(t))}saveNamedQuery(e,t){return this.lr.set(t.name,function(e){return{name:e.name,query:xg(e.bundledQuery),readTime:Km(e.readTime)}}(t)),qh.resolve()}}class qv{constructor(){this.overlays=new Md(Ch.comparator),this.hr=new Map}getOverlay(e,t){return qh.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Tp();return qh.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.ht(e,t,r)})),qh.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.hr.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.hr.delete(n)),qh.resolve()}getOverlaysForCollection(e,t,n){const r=Tp(),i=t.length+1,s=new Ch(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const e=a.getNext().value,s=e.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return qh.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new Md(((e,t)=>e-t));const s=this.overlays.getIterator();for(;s.hasNext();){const e=s.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=Tp(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const a=Tp(),o=i.getIterator();for(;o.hasNext()&&(o.getNext().value.forEach(((e,t)=>a.set(e,t))),!(a.size()>=r)););return qh.resolve(a)}ht(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.hr.get(r.largestBatchId).delete(n.key);this.hr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new mm(t,n));let i=this.hr.get(t);void 0===i&&(i=Rp(),this.hr.set(t,i)),this.hr.set(t,i.add(n.key))}}class Gv{constructor(){this.Pr=new Vd(Kv.Ir),this.Tr=new Vd(Kv.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,t){const n=new Kv(e,t);this.Pr=this.Pr.add(n),this.Tr=this.Tr.add(n)}dr(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.Ar(new Kv(e,t))}Rr(e,t){e.forEach((e=>this.removeReference(e,t)))}Vr(e){const t=new Ch(new Th([])),n=new Kv(t,e),r=new Kv(t,e+1),i=[];return this.Tr.forEachInRange([n,r],(e=>{this.Ar(e),i.push(e.key)})),i}mr(){this.Pr.forEach((e=>this.Ar(e)))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const t=new Ch(new Th([])),n=new Kv(t,e),r=new Kv(t,e+1);let i=Rp();return this.Tr.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new Kv(e,0),n=this.Pr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class Kv{constructor(e,t){this.key=e,this.pr=t}static Ir(e,t){return Ch.comparator(e.key,t.key)||_h(e.pr,t.pr)}static Er(e,t){return _h(e.pr,t.pr)||Ch.comparator(e.key,t.key)}}class Hv{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.yr=1,this.wr=new Vd(Kv.Ir)}checkEmpty(e){return qh.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new fm(i,t,n,r);this.mutationQueue.push(s);for(const a of r)this.wr=this.wr.add(new Kv(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return qh.resolve(s)}lookupMutationBatch(e,t){return qh.resolve(this.Sr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.br(n),i=r<0?0:r;return qh.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return qh.resolve(0===this.mutationQueue.length?-1:this.yr-1)}getAllMutationBatches(e){return qh.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Kv(t,0),r=new Kv(t,Number.POSITIVE_INFINITY),i=[];return this.wr.forEachInRange([n,r],(e=>{const t=this.Sr(e.pr);i.push(t)})),qh.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Vd(_h);return t.forEach((e=>{const t=new Kv(e,0),r=new Kv(e,Number.POSITIVE_INFINITY);this.wr.forEachInRange([t,r],(e=>{n=n.add(e.pr)}))})),qh.resolve(this.Dr(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;Ch.isDocumentKey(i)||(i=i.child(""));const s=new Kv(new Ch(i),0);let a=new Vd(_h);return this.wr.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.pr)),!0)}),s),qh.resolve(this.Dr(a))}Dr(e){const t=[];return e.forEach((e=>{const n=this.Sr(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){ah(0===this.Cr(t.batchId,"removed")),this.mutationQueue.shift();let n=this.wr;return qh.forEach(t.mutations,(r=>{const i=new Kv(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.wr=n}))}Mn(e){}containsKey(e,t){const n=new Kv(t,0),r=this.wr.firstAfterOrEqual(n);return qh.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,qh.resolve()}Cr(e,t){return this.br(e)}br(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Sr(e){const t=this.br(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Qv{constructor(e){this.vr=e,this.docs=new Md(Ch.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,s=this.vr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return qh.resolve(n?n.document.mutableCopy():Sf.newInvalidDocument(t))}getEntries(e,t){let n=Ep();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():Sf.newInvalidDocument(e))})),qh.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=Ep();const s=t.path,a=new Ch(s.child("")),o=this.docs.getIteratorFrom(a);for(;o.hasNext();){const{key:e,value:{document:a}}=o.getNext();if(!s.isPrefixOf(e.path))break;e.path.length>s.length+1||Uh(Mh(a),n)<=0||(r.has(a.key)||vp(t,a))&&(i=i.insert(a.key,a.mutableCopy()))}return qh.resolve(i)}getAllFromCollectionGroup(e,t,n,r){sh()}Fr(e,t){return qh.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new Wv(this)}getSize(e){return qh.resolve(this.size)}}class Wv extends Dv{constructor(e){super(),this.ar=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.ar.addEntry(e,r)):this.ar.removeEntry(n)})),qh.waitFor(t)}getFromCache(e,t){return this.ar.getEntry(e,t)}getAllFromCache(e,t){return this.ar.getEntries(e,t)}}class Yv{constructor(e){this.persistence=e,this.Mr=new _p((e=>Zf(e)),$f),this.lastRemoteSnapshotVersion=Sh.min(),this.highestTargetId=0,this.Or=0,this.Nr=new Gv,this.targetCount=0,this.Br=wv.Nn()}forEachTarget(e,t){return this.Mr.forEach(((e,n)=>t(n))),qh.resolve()}getLastRemoteSnapshotVersion(e){return qh.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return qh.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Br.next(),qh.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Or&&(this.Or=t),qh.resolve()}qn(e){this.Mr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Br=new wv(t),this.highestTargetId=t),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,t){return this.qn(t),this.targetCount+=1,qh.resolve()}updateTargetData(e,t){return this.qn(t),qh.resolve()}removeTargetData(e,t){return this.Mr.delete(t.target),this.Nr.Vr(t.targetId),this.targetCount-=1,qh.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Mr.forEach(((s,a)=>{a.sequenceNumber<=t&&null===n.get(a.targetId)&&(this.Mr.delete(s),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)})),qh.waitFor(i).next((()=>r))}getTargetCount(e){return qh.resolve(this.targetCount)}getTargetData(e,t){const n=this.Mr.get(t)||null;return qh.resolve(n)}addMatchingKeys(e,t,n){return this.Nr.dr(t,n),qh.resolve()}removeMatchingKeys(e,t,n){this.Nr.Rr(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),qh.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Nr.Vr(t),qh.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Nr.gr(t);return qh.resolve(n)}containsKey(e,t){return qh.resolve(this.Nr.containsKey(t))}}class Jv{constructor(e,t){this.Lr={},this.overlays={},this.kr=new td(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new Yv(this),this.indexManager=new tv,this.remoteDocumentCache=function(e){return new Qv(e)}((e=>this.referenceDelegate.Kr(e))),this.serializer=new yg(t),this.$r=new zv(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new qv,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.Lr[e.toKey()];return n||(n=new Hv(t,this.referenceDelegate),this.Lr[e.toKey()]=n),n}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,t,n){th("MemoryPersistence","Starting transaction:",e);const r=new Xv(this.kr.next());return this.referenceDelegate.Ur(),n(r).next((e=>this.referenceDelegate.Wr(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Gr(e,t){return qh.or(Object.values(this.Lr).map((n=>()=>n.containsKey(e,t))))}}class Xv extends Bh{constructor(e){super(),this.currentSequenceNumber=e}}class Zv{constructor(e){this.persistence=e,this.zr=new Gv,this.jr=null}static Hr(e){return new Zv(e)}get Jr(){if(this.jr)return this.jr;throw sh()}addReference(e,t,n){return this.zr.addReference(n,t),this.Jr.delete(n.toString()),qh.resolve()}removeReference(e,t,n){return this.zr.removeReference(n,t),this.Jr.add(n.toString()),qh.resolve()}markPotentiallyOrphaned(e,t){return this.Jr.add(t.toString()),qh.resolve()}removeTarget(e,t){this.zr.Vr(t.targetId).forEach((e=>this.Jr.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.Jr.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}Ur(){this.jr=new Set}Wr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return qh.forEach(this.Jr,(n=>{const r=Ch.fromPath(n);return this.Yr(e,r).next((e=>{e||t.removeEntry(r,Sh.min())}))})).next((()=>(this.jr=null,t.apply(e))))}updateLimboDocument(e,t){return this.Yr(e,t).next((e=>{e?this.Jr.delete(t.toString()):this.Jr.add(t.toString())}))}Kr(e){return 0}Yr(e,t){return qh.or([()=>qh.resolve(this.zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gr(e,t)])}}class $v{constructor(e){this.serializer=e}N(e,t,n,r){const i=new Gh("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",cd,{unique:!0}),e.createObjectStore("documentMutations")}(e),ey(e),function(e){e.createObjectStore("remoteDocuments")}(e));let s=qh.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),ey(e)),s=s.next((()=>function(e){const t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Sh.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(i)))),n<4&&r>=4&&(0!==n&&(s=s.next((()=>function(e,t){return t.store("mutations").W().next((n=>{e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",cd,{unique:!0});const r=t.store("mutations"),i=n.map((e=>r.put(e)));return qh.waitFor(i)}))}(e,i)))),s=s.next((()=>{!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(s=s.next((()=>this.Xr(i)))),n<6&&r>=6&&(s=s.next((()=>(function(e){e.createObjectStore("remoteDocumentGlobal")}(e),this.ei(i))))),n<7&&r>=7&&(s=s.next((()=>this.ti(i)))),n<8&&r>=8&&(s=s.next((()=>this.ni(e,i)))),n<9&&r>=9&&(s=s.next((()=>{!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(s=s.next((()=>this.ri(i)))),n<11&&r>=11&&(s=s.next((()=>{!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(s=s.next((()=>{!function(e){const t=e.createObjectStore("documentOverlays",{keyPath:kd});t.createIndex("collectionPathOverlayIndex",Sd,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",xd,{unique:!1})}(e)}))),n<13&&r>=13&&(s=s.next((()=>function(e){const t=e.createObjectStore("remoteDocumentsV14",{keyPath:fd});t.createIndex("documentKeyIndex",pd),t.createIndex("collectionGroupIndex",md)}(e))).next((()=>this.ii(e,i))).next((()=>e.deleteObjectStore("remoteDocuments")))),n<14&&r>=14&&(s=s.next((()=>this.si(e,i)))),n<15&&r>=15&&(s=s.next((()=>function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:bd}).createIndex("sequenceNumberIndex",_d,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:Id}).createIndex("documentKeyIndex",Ed,{unique:!1})}(e)))),s}ei(e){let t=0;return e.store("remoteDocuments").Y(((e,n)=>{t+=fv(n)})).next((()=>{const n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}Xr(e){const t=e.store("mutationQueues"),n=e.store("mutations");return t.W().next((t=>qh.forEach(t,(t=>{const r=IDBKeyRange.bound([t.userId,-1],[t.userId,t.lastAcknowledgedBatchId]);return n.W("userMutationsIndex",r).next((n=>qh.forEach(n,(n=>{ah(n.userId===t.userId);const r=Eg(this.serializer,n);return dv(e,t.userId,r).next((()=>{}))}))))}))))}ti(e){const t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((e=>{const r=[];return n.Y(((n,i)=>{const s=new Th(n),a=function(e){return[0,sd(e)]}(s);r.push(t.get(a).next((n=>n?qh.resolve():(n=>t.put({targetId:0,path:sd(n),sequenceNumber:e.highestListenSequenceNumber}))(s))))})).next((()=>qh.waitFor(r)))}))}ni(e,t){e.createObjectStore("collectionParents",{keyPath:wd});const n=t.store("collectionParents"),r=new nv,i=e=>{if(r.add(e)){const t=e.lastSegment(),r=e.popLast();return n.put({collectionId:t,parent:sd(r)})}};return t.store("remoteDocuments").Y({J:!0},((e,t)=>{const n=new Th(e);return i(n.popLast())})).next((()=>t.store("documentMutations").Y({J:!0},((e,t)=>{let[n,r,s]=e;const a=ld(r);return i(a.popLast())}))))}ri(e){const t=e.store("targets");return t.Y(((e,n)=>{const r=kg(n),i=Sg(this.serializer,r);return t.put(i)}))}ii(e,t){const n=t.store("remoteDocuments"),r=[];return n.Y(((e,n)=>{const i=t.store("remoteDocumentsV14"),s=function(e){return e.document?new Ch(Th.fromString(e.document.name).popFirst(5)):e.noDocument?Ch.fromSegments(e.noDocument.path):e.unknownDocument?Ch.fromSegments(e.unknownDocument.path):sh()}(n).path.toArray(),a={prefixPath:s.slice(0,s.length-2),collectionGroup:s[s.length-2],documentId:s[s.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(i.put(a))})).next((()=>qh.waitFor(r)))}si(e,t){const n=t.store("mutations"),r=Pv(this.serializer),i=new Jv(Zv.Hr,this.serializer.ct);return n.W().next((e=>{const n=new Map;return e.forEach((e=>{var t;let r=null!==(t=n.get(e.userId))&&void 0!==t?t:Rp();Eg(this.serializer,e).keys().forEach((e=>r=r.add(e))),n.set(e.userId,r)})),qh.forEach(n,((e,n)=>{const s=new Xu(n),a=Pg.lt(this.serializer,s),o=i.getIndexManager(s),l=pv.lt(s,this.serializer,o,i.referenceDelegate);return new Bv(r,l,a,o).recalculateAndSaveOverlaysForDocumentKeys(new Rd(t,td._e),e).next()}))}))}}function ey(e){e.createObjectStore("targetDocuments",{keyPath:vd}).createIndex("documentTargetsIndex",yd,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",gd,{unique:!0}),e.createObjectStore("targetGlobal")}const ty="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class ny{constructor(e,t,n,r,i,s,a,o,l,c){let u=arguments.length>10&&void 0!==arguments[10]?arguments[10]:15;if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=n,this.oi=i,this.window=s,this.document=a,this._i=l,this.ai=c,this.ui=u,this.kr=null,this.qr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.li=null,this.hi=null,this.Pi=Number.NEGATIVE_INFINITY,this.Ii=e=>Promise.resolve(),!ny.D())throw new ch(lh.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Av(this,r),this.Ti=t+"main",this.serializer=new yg(o),this.Ei=new Kh(this.Ti,this.ui,new $v(this.serializer)),this.Qr=new bv(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Pv(this.serializer),this.$r=new Cg,this.window&&this.window.localStorage?this.di=this.window.localStorage:(this.di=null,!1===c&&nh("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ai().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new ch(lh.FAILED_PRECONDITION,ty);return this.Ri(),this.Vi(),this.mi(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.Qr.getHighestSequenceNumber(e)))})).then((e=>{this.kr=new td(e,this._i)})).then((()=>{this.qr=!0})).catch((e=>(this.Ei&&this.Ei.close(),Promise.reject(e))))}fi(e){return this.Ii=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ei.L((async t=>{null===t.newVersion&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.oi.enqueueAndForget((async()=>{this.started&&await this.Ai()})))}Ai(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>iy(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.gi(e).next((e=>{e||(this.isPrimary=!1,this.oi.enqueueRetryable((()=>this.Ii(!1))))}))})).next((()=>this.pi(e))).next((t=>this.isPrimary&&!t?this.yi(e).next((()=>!1)):!!t&&this.wi(e).next((()=>!0)))))).catch((e=>{if(Wh(e))return th("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return th("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.oi.enqueueRetryable((()=>this.Ii(e))),this.isPrimary=e}))}gi(e){return ry(e).get("owner").next((e=>qh.resolve(this.Si(e))))}bi(e){return iy(e).delete(this.clientId)}async Di(){if(this.isPrimary&&!this.Ci(this.Pi,18e5)){this.Pi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(e=>{const t=Pd(e,"clientMetadata");return t.W().next((e=>{const n=this.vi(e,18e5),r=e.filter((e=>-1===n.indexOf(e)));return qh.forEach(r,(e=>t.delete(e.clientId))).next((()=>r))}))})).catch((()=>[]));if(this.di)for(const t of e)this.di.removeItem(this.Fi(t.clientId))}}mi(){this.hi=this.oi.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.Ai().then((()=>this.Di())).then((()=>this.mi()))))}Si(e){return!!e&&e.ownerId===this.clientId}pi(e){return this.ai?qh.resolve(!0):ry(e).get("owner").next((t=>{if(null!==t&&this.Ci(t.leaseTimestampMs,5e3)&&!this.Mi(t.ownerId)){if(this.Si(t)&&this.networkEnabled)return!0;if(!this.Si(t)){if(!t.allowTabSynchronization)throw new ch(lh.FAILED_PRECONDITION,ty);return!1}}return!(!this.networkEnabled||!this.inForeground)||iy(e).W().next((e=>void 0===this.vi(e,5e3).find((e=>{if(this.clientId!==e.clientId){const t=!this.networkEnabled&&e.networkEnabled,n=!this.inForeground&&e.inForeground,r=this.networkEnabled===e.networkEnabled;if(t||n&&r)return!0}return!1}))))})).next((e=>(this.isPrimary!==e&&th("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e)))}async shutdown(){this.qr=!1,this.xi(),this.hi&&(this.hi.cancel(),this.hi=null),this.Oi(),this.Ni(),await this.Ei.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(e=>{const t=new Rd(e,td._e);return this.yi(t).next((()=>this.bi(t)))})),this.Ei.close(),this.Bi()}vi(e,t){return e.filter((e=>this.Ci(e.updateTimeMs,t)&&!this.Mi(e.clientId)))}Li(){return this.runTransaction("getActiveClients","readonly",(e=>iy(e).W().next((e=>this.vi(e,18e5).map((e=>e.clientId))))))}get started(){return this.qr}getMutationQueue(e,t){return pv.lt(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new iv(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return Pg.lt(this.serializer,e)}getBundleCache(){return this.$r}runTransaction(e,t,n){th("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",i=function(e){return 15===e?Dd:14===e?Cd:13===e?Ad:12===e?Nd:11===e?Td:void sh()}(this.ui);let s;return this.Ei.runTransaction(e,r,i,(r=>(s=new Rd(r,this.kr?this.kr.next():td._e),"readwrite-primary"===t?this.gi(s).next((e=>!!e||this.pi(s))).next((t=>{if(!t)throw nh("Failed to obtain primary lease for action '".concat(e,"'.")),this.isPrimary=!1,this.oi.enqueueRetryable((()=>this.Ii(!1))),new ch(lh.FAILED_PRECONDITION,Vh);return n(s)})).next((e=>this.wi(s).next((()=>e)))):this.ki(s).next((()=>n(s)))))).then((e=>(s.raiseOnCommittedEvent(),e)))}ki(e){return ry(e).get("owner").next((e=>{if(null!==e&&this.Ci(e.leaseTimestampMs,5e3)&&!this.Mi(e.ownerId)&&!this.Si(e)&&!(this.ai||this.allowTabSynchronization&&e.allowTabSynchronization))throw new ch(lh.FAILED_PRECONDITION,ty)}))}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return ry(e).put("owner",t)}static D(){return Kh.D()}yi(e){const t=ry(e);return t.get("owner").next((e=>this.Si(e)?(th("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):qh.resolve()))}Ci(e,t){const n=Date.now();return!(e<n-t)&&(!(e>n)||(nh("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}Ri(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.li=()=>{this.oi.enqueueAndForget((()=>(this.inForeground="visible"===this.document.visibilityState,this.Ai())))},this.document.addEventListener("visibilitychange",this.li),this.inForeground="visible"===this.document.visibilityState)}Oi(){this.li&&(this.document.removeEventListener("visibilitychange",this.li),this.li=null)}Vi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const e=/(?:Version|Mobile)\/1[456]/;K()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.oi.enterRestrictedMode(!0),this.oi.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.ci))}Ni(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Mi(e){var t;try{const n=null!==(null===(t=this.di)||void 0===t?void 0:t.getItem(this.Fi(e)));return th("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return nh("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}xi(){if(this.di)try{this.di.setItem(this.Fi(this.clientId),String(Date.now()))}catch(e){nh("Failed to set zombie client id.",e)}}Bi(){if(this.di)try{this.di.removeItem(this.Fi(this.clientId))}catch(e){}}Fi(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}function ry(e){return Pd(e,"owner")}function iy(e){return Pd(e,"clientMetadata")}function sy(e,t){let n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}class ay{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.qi=n,this.Qi=r}static Ki(e,t){let n=Rp(),r=Rp();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new ay(e,t.fromCache,n,r)}}class oy{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class ly{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=K()?8:Kh.v(V())>0?6:4}initialize(e,t){this.zi=e,this.indexManager=t,this.$i=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.ji(e,t).next((e=>{i.result=e})).next((()=>{if(!i.result)return this.Hi(e,t,r,n).next((e=>{i.result=e}))})).next((()=>{if(i.result)return;const n=new oy;return this.Ji(e,t,n).next((r=>{if(i.result=r,this.Ui)return this.Yi(e,t,n,r.size)}))})).next((()=>i.result))}Yi(e,t,n,r){return n.documentReadCount<this.Wi?(eh()<=he.DEBUG&&th("QueryEngine","SDK will not create cache indexes for query:",gp(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),qh.resolve()):(eh()<=he.DEBUG&&th("QueryEngine","Query:",gp(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.Gi*r?(eh()<=he.DEBUG&&th("QueryEngine","The SDK decides to create cache indexes for query:",gp(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,up(t))):qh.resolve())}ji(e,t){if(op(t))return qh.resolve(null);let n=up(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=fp(t,null,"F"),n=up(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const i=Rp(...r);return this.zi.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const s=this.Zi(t,r);return this.Xi(t,s,i,n.readTime)?this.ji(e,fp(t,null,"F")):this.es(e,s,t,n)}))))})))))}Hi(e,t,n,r){return op(t)||r.isEqual(Sh.min())?qh.resolve(null):this.zi.getDocuments(e,n).next((i=>{const s=this.Zi(t,i);return this.Xi(t,s,n,r)?qh.resolve(null):(eh()<=he.DEBUG&&th("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),gp(t)),this.es(e,s,t,Lh(r,-1)).next((e=>e)))}))}Zi(e,t){let n=new Vd(wp(e));return t.forEach(((t,r)=>{vp(e,r)&&(n=n.add(r))})),n}Xi(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Ji(e,t,n){return eh()<=he.DEBUG&&th("QueryEngine","Using full collection scan to execute query:",gp(t)),this.zi.getDocumentsMatchingQuery(e,t,Fh.min(),n)}es(e,t,n,r){return this.zi.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}class cy{constructor(e,t,n,r){this.persistence=e,this.ts=t,this.serializer=r,this.ns=new Md(_h),this.rs=new _p((e=>Zf(e)),$f),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(n)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Bv(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.ns)))}}function uy(e,t,n,r){return new cy(e,t,n,r)}async function hy(e,t){const n=oh(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n._s(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const i=[],s=[];let a=Rp();for(const e of r){i.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}for(const e of t){s.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}return n.localDocuments.getDocuments(e,a).next((e=>({us:e,removedBatchIds:i,addedBatchIds:s})))}))}))}function dy(e){const t=oh(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Qr.getLastRemoteSnapshotVersion(e)))}function fy(e,t,n){let r=Rp(),i=Rp();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=Ep();return n.forEach(((n,s)=>{const a=e.get(n);s.isFoundDocument()!==a.isFoundDocument()&&(i=i.add(n)),s.isNoDocument()&&s.version.isEqual(Sh.min())?(t.removeEntry(n,s.readTime),r=r.insert(n,s)):!a.isValidDocument()||s.version.compareTo(a.version)>0||0===s.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(s),r=r.insert(n,s)):th("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)})),{cs:r,ls:i}}))}function py(e,t){const n=oh(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function my(e,t){const n=oh(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.Qr.getTargetData(e,t).next((i=>i?(r=i,qh.resolve(r)):n.Qr.allocateTargetId(e).next((i=>(r=new vg(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Qr.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.ns.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.ns=n.ns.insert(e.targetId,e),n.rs.set(t,e.targetId)),e}))}async function gy(e,t,n){const r=oh(e),i=r.ns.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!Wh(e))throw e;th("LocalStore","Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.ns=r.ns.remove(t),r.rs.delete(i.target)}function vy(e,t,n){const r=oh(e);let i=Sh.min(),s=Rp();return r.persistence.runTransaction("Execute query","readwrite",(e=>function(e,t,n){const r=oh(e),i=r.rs.get(n);return void 0!==i?qh.resolve(r.ns.get(i)):r.Qr.getTargetData(t,n)}(r,e,up(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(e,t.targetId).next((e=>{s=e}))})).next((()=>r.ts.getDocumentsMatchingQuery(e,t,n?i:Sh.min(),n?s:Rp()))).next((e=>(by(r,yp(t),e),{documents:e,hs:s})))))}function yy(e,t){const n=oh(e),r=oh(n.Qr),i=n.ns.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(e=>r._t(e,t).next((e=>e?e.target:null))))}function wy(e,t){const n=oh(e),r=n.ss.get(t)||Sh.min();return n.persistence.runTransaction("Get new document changes","readonly",(e=>n.os.getAllFromCollectionGroup(e,t,Lh(r,-1),Number.MAX_SAFE_INTEGER))).then((e=>(by(n,t,e),e)))}function by(e,t,n){let r=e.ss.get(t)||Sh.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.ss.set(t,r)}async function _y(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Rp();const r=await my(e,up(xg(t.bundledQuery))),i=oh(e);return i.persistence.runTransaction("Save named query","readwrite",(e=>{const s=Km(t.readTime);if(r.snapshotVersion.compareTo(s)>=0)return i.$r.saveNamedQuery(e,t);const a=r.withResumeToken(Kd.EMPTY_BYTE_STRING,s);return i.ns=i.ns.insert(a.targetId,a),i.Qr.updateTargetData(e,a).next((()=>i.Qr.removeMatchingKeysForTargetId(e,r.targetId))).next((()=>i.Qr.addMatchingKeys(e,n,r.targetId))).next((()=>i.$r.saveNamedQuery(e,t)))}))}function Iy(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function Ey(e,t,n){let r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function ky(e,t){return"firestore_targets_".concat(e,"_").concat(t)}class Sy{constructor(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}static Es(e,t,n){const r=JSON.parse(n);let i,s="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return s&&r.error&&(s="string"==typeof r.error.message&&"string"==typeof r.error.code,s&&(i=new ch(r.error.code,r.error.message))),s?new Sy(e,t,r.state,i):(nh("SharedClientState","Failed to parse mutation state for ID '".concat(t,"': ").concat(n)),null)}ds(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class xy{constructor(e,t,n){this.targetId=e,this.state=t,this.error=n}static Es(e,t){const n=JSON.parse(t);let r,i="object"==typeof n&&-1!==["not-current","current","rejected"].indexOf(n.state)&&(void 0===n.error||"object"==typeof n.error);return i&&n.error&&(i="string"==typeof n.error.message&&"string"==typeof n.error.code,i&&(r=new ch(n.error.code,n.error.message))),i?new xy(e,n.state,r):(nh("SharedClientState","Failed to parse target state for ID '".concat(e,"': ").concat(t)),null)}ds(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Ty{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Es(e,t){const n=JSON.parse(t);let r="object"==typeof n&&n.activeTargetIds instanceof Array,i=Op();for(let s=0;r&&s<n.activeTargetIds.length;++s)r=id(n.activeTargetIds[s]),i=i.add(n.activeTargetIds[s]);return r?new Ty(e,i):(nh("SharedClientState","Failed to parse client data for instance '".concat(e,"': ").concat(t)),null)}}class Ny{constructor(e,t){this.clientId=e,this.onlineState=t}static Es(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new Ny(t.clientId,t.onlineState):(nh("SharedClientState","Failed to parse online state: ".concat(e)),null)}}class Ay{constructor(){this.activeTargetIds=Op()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Cy{constructor(e,t,n,r,i){this.window=e,this.oi=t,this.persistenceKey=n,this.Vs=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.fs=this.gs.bind(this),this.ps=new Md(_h),this.started=!1,this.ys=[];const s=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.ws=Iy(this.persistenceKey,this.Vs),this.Ss=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.ps=this.ps.insert(this.Vs,new Ay),this.bs=new RegExp("^firestore_clients_".concat(s,"_([^_]*)$")),this.Ds=new RegExp("^firestore_mutations_".concat(s,"_(\\d+)(?:_(.*))?$")),this.Cs=new RegExp("^firestore_targets_".concat(s,"_(\\d+)$")),this.vs=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.Fs=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.fs)}static D(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.Li();for(const n of e){if(n===this.Vs)continue;const e=this.getItem(Iy(this.persistenceKey,n));if(e){const t=Ty.Es(n,e);t&&(this.ps=this.ps.insert(t.clientId,t))}}this.Ms();const t=this.storage.getItem(this.vs);if(t){const e=this.xs(t);e&&this.Os(e)}for(const n of this.ys)this.gs(n);this.ys=[],this.window.addEventListener("pagehide",(()=>this.shutdown())),this.started=!0}writeSequenceNumber(e){this.setItem(this.Ss,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ns(this.ps)}isActiveQueryTarget(e){let t=!1;return this.ps.forEach(((n,r)=>{r.activeTargetIds.has(e)&&(t=!0)})),t}addPendingMutation(e){this.Bs(e,"pending")}updateMutationState(e,t,n){this.Bs(e,t,n),this.Ls(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const n=this.storage.getItem(ky(this.persistenceKey,e));if(n){const r=xy.Es(e,n);r&&(t=r.state)}}return this.ks.As(e),this.Ms(),t}removeLocalQueryTarget(e){this.ks.Rs(e),this.Ms()}isLocalQueryTarget(e){return this.ks.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(ky(this.persistenceKey,e))}updateQueryState(e,t,n){this.qs(e,t,n)}handleUserChange(e,t,n){t.forEach((e=>{this.Ls(e)})),this.currentUser=e,n.forEach((e=>{this.addPendingMutation(e)}))}setOnlineState(e){this.Qs(e)}notifyBundleLoaded(e){this.Ks(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.fs),this.removeItem(this.ws),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return th("SharedClientState","READ",e,t),t}setItem(e,t){th("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){th("SharedClientState","REMOVE",e),this.storage.removeItem(e)}gs(e){const t=e;if(t.storageArea===this.storage){if(th("SharedClientState","EVENT",t.key,t.newValue),t.key===this.ws)return void nh("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.oi.enqueueRetryable((async()=>{if(this.started){if(null!==t.key)if(this.bs.test(t.key)){if(null==t.newValue){const e=this.$s(t.key);return this.Us(e,null)}{const e=this.Ws(t.key,t.newValue);if(e)return this.Us(e.clientId,e)}}else if(this.Ds.test(t.key)){if(null!==t.newValue){const e=this.Gs(t.key,t.newValue);if(e)return this.zs(e)}}else if(this.Cs.test(t.key)){if(null!==t.newValue){const e=this.js(t.key,t.newValue);if(e)return this.Hs(e)}}else if(t.key===this.vs){if(null!==t.newValue){const e=this.xs(t.newValue);if(e)return this.Os(e)}}else if(t.key===this.Ss){const e=function(e){let t=td._e;if(null!=e)try{const n=JSON.parse(e);ah("number"==typeof n),t=n}catch(e){nh("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(t.newValue);e!==td._e&&this.sequenceNumberHandler(e)}else if(t.key===this.Fs){const e=this.Js(t.newValue);await Promise.all(e.map((e=>this.syncEngine.Ys(e))))}}else this.ys.push(t)}))}}get ks(){return this.ps.get(this.Vs)}Ms(){this.setItem(this.ws,this.ks.ds())}Bs(e,t,n){const r=new Sy(this.currentUser,e,t,n),i=Ey(this.persistenceKey,this.currentUser,e);this.setItem(i,r.ds())}Ls(e){const t=Ey(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Qs(e){const t={clientId:this.Vs,onlineState:e};this.storage.setItem(this.vs,JSON.stringify(t))}qs(e,t,n){const r=ky(this.persistenceKey,e),i=new xy(e,t,n);this.setItem(r,i.ds())}Ks(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Fs,t)}$s(e){const t=this.bs.exec(e);return t?t[1]:null}Ws(e,t){const n=this.$s(e);return Ty.Es(n,t)}Gs(e,t){const n=this.Ds.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return Sy.Es(new Xu(i),r,t)}js(e,t){const n=this.Cs.exec(e),r=Number(n[1]);return xy.Es(r,t)}xs(e){return Ny.Es(e)}Js(e){return JSON.parse(e)}async zs(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Zs(e.batchId,e.state,e.error);th("SharedClientState","Ignoring mutation for non-active user ".concat(e.user.uid))}Hs(e){return this.syncEngine.Xs(e.targetId,e.state,e.error)}Us(e,t){const n=t?this.ps.insert(e,t):this.ps.remove(e),r=this.Ns(this.ps),i=this.Ns(n),s=[],a=[];return i.forEach((e=>{r.has(e)||s.push(e)})),r.forEach((e=>{i.has(e)||a.push(e)})),this.syncEngine.eo(s,a).then((()=>{this.ps=n}))}Os(e){this.ps.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ns(e){let t=Op();return e.forEach(((e,n)=>{t=t.unionWith(n.activeTargetIds)})),t}}class Dy{constructor(){this.no=new Ay,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,t,n){this.ro[e]=t}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new Ay,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Ry{io(e){}shutdown(){}}class Py{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){th("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){th("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Oy=null;function jy(){return null===Oy?Oy=268435456+Math.round(2147483648*Math.random()):Oy++,"0x"+Oy.toString(16)}const Ly={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class My{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}}const Fy="WebChannelConnection";class Uy extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.fo=t+"://"+e.host,this.po="projects/".concat(n,"/databases/").concat(r),this.yo="(default)"===this.databaseId.database?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(r)}get wo(){return!1}So(e,t,n,r,i){const s=jy(),a=this.bo(e,t.toUriEncodedString());th("RestConnection","Sending RPC '".concat(e,"' ").concat(s,":"),a,n);const o={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(o,r,i),this.Co(e,a,o,n).then((t=>(th("RestConnection","Received RPC '".concat(e,"' ").concat(s,": "),t),t)),(t=>{throw rh("RestConnection","RPC '".concat(e,"' ").concat(s," failed with error: "),t,"url: ",a,"request:",n),t}))}vo(e,t,n,r,i,s){return this.So(e,t,n,r,i)}Do(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Zu,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}bo(e,t){const n=Ly[e];return"".concat(this.fo,"/v1/").concat(t,":").concat(n)}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,t,n,r){const i=jy();return new Promise(((s,a)=>{const o=new Qu;o.setWithCredentials(!0),o.listenOnce(qu.COMPLETE,(()=>{try{switch(o.getLastErrorCode()){case zu.NO_ERROR:const t=o.getResponseJson();th(Fy,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),s(t);break;case zu.TIMEOUT:th(Fy,"RPC '".concat(e,"' ").concat(i," timed out")),a(new ch(lh.DEADLINE_EXCEEDED,"Request time out"));break;case zu.HTTP_ERROR:const n=o.getStatus();if(th(Fy,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",o.getResponseText()),n>0){let e=o.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(lh).indexOf(t)>=0?t:lh.UNKNOWN}(t.status);a(new ch(e,t.message))}else a(new ch(lh.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new ch(lh.UNAVAILABLE,"Connection failed."));break;default:sh()}}finally{th(Fy,"RPC '".concat(e,"' ").concat(i," completed."))}}));const l=JSON.stringify(r);th(Fy,"RPC '".concat(e,"' ").concat(i," sending request:"),r),o.send(t,"POST",l,n,15)}))}Fo(e,t,n){const r=jy(),i=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Vu(),a=Bu(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(o.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(o.useFetchStreams=!0),this.Do(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;const c=i.join("");th(Fy,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),o);const u=s.createWebChannel(c,o);let h=!1,d=!1;const f=new My({lo:t=>{d?th(Fy,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(h||(th(Fy,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),u.open(),h=!0),th(Fy,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),u.send(t))},ho:()=>u.close()}),p=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return p(u,Hu.EventType.OPEN,(()=>{d||th(Fy,"RPC '".concat(e,"' stream ").concat(r," transport opened."))})),p(u,Hu.EventType.CLOSE,(()=>{d||(d=!0,th(Fy,"RPC '".concat(e,"' stream ").concat(r," transport closed")),f.Vo())})),p(u,Hu.EventType.ERROR,(t=>{d||(d=!0,rh(Fy,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),f.Vo(new ch(lh.UNAVAILABLE,"The operation could not be completed")))})),p(u,Hu.EventType.MESSAGE,(t=>{var n;if(!d){const i=t.data[0];ah(!!i);const s=i,a=s.error||(null===(n=s[0])||void 0===n?void 0:n.error);if(a){th(Fy,"RPC '".concat(e,"' stream ").concat(r," received error:"),a);const t=a.status;let n=function(e){const t=vm[e];if(void 0!==t)return bm(t)}(t),i=a.message;void 0===n&&(n=lh.INTERNAL,i="Unknown error status: "+t+" with message "+a.message),d=!0,f.Vo(new ch(n,i)),u.close()}else th(Fy,"RPC '".concat(e,"' stream ").concat(r," received:"),i),f.mo(i)}})),p(a,Gu.STAT_EVENT,(t=>{t.stat===Ku.PROXY?th(Fy,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===Ku.NOPROXY&&th(Fy,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((()=>{f.Ro()}),0),f}}function Vy(){return"undefined"!=typeof window?window:null}function By(){return"undefined"!=typeof document?document:null}function zy(e){return new Vm(e,!0)}class qy{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.oi=e,this.timerId=t,this.Mo=n,this.xo=r,this.Oo=i,this.No=0,this.Bo=null,this.Lo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();const t=Math.floor(this.No+this.Qo()),n=Math.max(0,Date.now()-this.Lo),r=Math.max(0,t-n);r>0&&th("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.No," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.Bo=this.oi.enqueueAfterDelay(this.timerId,r,(()=>(this.Lo=Date.now(),e()))),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){null!==this.Bo&&(this.Bo.skipDelay(),this.Bo=null)}cancel(){null!==this.Bo&&(this.Bo.cancel(),this.Bo=null)}Qo(){return(Math.random()-.5)*this.No}}class Gy{constructor(e,t,n,r,i,s,a,o){this.oi=e,this.$o=n,this.Uo=r,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=o,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new qy(e,t)}Ho(){return 1===this.state||5===this.state||this.Jo()}Jo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Yo()}async stop(){this.Ho()&&await this.close(0)}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&null===this.Go&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,(()=>this.e_())))}t_(e){this.n_(),this.stream.send(e)}async e_(){if(this.Jo())return this.close(0)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}async close(e,t){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,4!==e?this.jo.reset():t&&t.code===lh.RESOURCE_EXHAUSTED?(nh(t.toString()),nh("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):t&&t.code===lh.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.i_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.To(t)}i_(){}auth(){this.state=1;const e=this.s_(this.Wo),t=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((e=>{let[n,r]=e;this.Wo===t&&this.o_(n,r)}),(t=>{e((()=>{const e=new ch(lh.UNKNOWN,"Fetching auth token failed: "+t.message);return this.__(e)}))}))}o_(e,t){const n=this.s_(this.Wo);this.stream=this.a_(e,t),this.stream.Po((()=>{n((()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,(()=>(this.Jo()&&(this.state=3),Promise.resolve()))),this.listener.Po())))})),this.stream.To((e=>{n((()=>this.__(e)))})),this.stream.onMessage((e=>{n((()=>this.onMessage(e)))}))}Yo(){this.state=5,this.jo.qo((async()=>{this.state=0,this.start()}))}__(e){return th("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}s_(e){return t=>{this.oi.enqueueAndForget((()=>this.Wo===e?t():(th("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Ky extends Gy{constructor(e,t,n,r,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}a_(e,t){return this.connection.Fo("Listen",e,t)}onMessage(e){this.jo.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:sh()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(e,t){return e.useProto3Json?(ah(void 0===t||"string"==typeof t),Kd.fromBase64String(t||"")):(ah(void 0===t||t instanceof Uint8Array),Kd.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,o=a&&function(e){const t=void 0===e.code?lh.UNKNOWN:bm(e.code);return new ch(t,e.message||"")}(a);n=new Rm(r,i,s,o||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=Jm(e,r.document.name),s=Km(r.document.updateTime),a=r.document.createTime?Km(r.document.createTime):Sh.min(),o=new Ef({mapValue:{fields:r.document.fields}}),l=Sf.newFoundDocument(i,s,a,o),c=r.targetIds||[],u=r.removedTargetIds||[];n=new Cm(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=Jm(e,r.document),s=r.readTime?Km(r.readTime):Sh.min(),a=Sf.newNoDocument(i,s),o=r.removedTargetIds||[];n=new Cm([],o,a.key,a)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=Jm(e,r.document),s=r.removedTargetIds||[];n=new Cm([],s,i,null)}else{if(!("filter"in t))return sh();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,s=new gm(r,i),a=e.targetId;n=new Dm(a,s)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return Sh.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?Sh.min():t.readTime?Km(t.readTime):Sh.min()}(e);return this.listener.u_(t,n)}c_(e){const t={};t.database=$m(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=ep(r)?{documents:sg(e,r)}:{query:ag(e,r).ut},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=qm(e,t.resumeToken);const r=Bm(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(Sh.min())>0){n.readTime=zm(e,t.snapshotVersion.toTimestamp());const r=Bm(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return sh()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.t_(t)}l_(e){const t={};t.database=$m(this.serializer),t.removeTarget=e,this.t_(t)}}class Hy extends Gy{constructor(e,t,n,r,i,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,t){return this.connection.Fo("Write",e,t)}onMessage(e){if(ah(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();const t=function(e,t){return e&&e.length>0?(ah(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?Km(e.updateTime):Km(t);return n.isEqual(Sh.min())&&(n=Km(t)),new Xp(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=Km(e.commitTime);return this.listener.T_(n,t)}return ah(!e.writeResults||0===e.writeResults.length),this.h_=!0,this.listener.E_()}d_(){const e={};e.database=$m(this.serializer),this.t_(e)}I_(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>rg(this.serializer,e)))};this.t_(t)}}class Qy extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.A_=!1}R_(){if(this.A_)throw new ch(lh.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,n,r){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((i=>{let[s,a]=i;return this.connection.So(e,Qm(t,n),r,s,a)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===lh.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new ch(lh.UNKNOWN,e.toString())}))}vo(e,t,n,r,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((s=>{let[a,o]=s;return this.connection.vo(e,Qm(t,n),r,a,o,i)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===lh.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new ch(lh.UNKNOWN,e.toString())}))}terminate(){this.A_=!0,this.connection.terminate()}}class Wy{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){0===this.m_&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve()))))}S_(e){"Online"===this.state?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.y_("Offline")))}set(e){this.b_(),this.m_=0,"Online"===e&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.g_?(nh(t),this.g_=!1):th("OnlineStateTracker",t)}b_(){null!==this.f_&&(this.f_.cancel(),this.f_=null)}}class Yy{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=i,this.M_.io((e=>{n.enqueueAndForget((async()=>{iw(this)&&(th("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=oh(e);t.v_.add(4),await Xy(t),t.x_.set("Unknown"),t.v_.delete(4),await Jy(t)}(this))}))})),this.x_=new Wy(n,r)}}async function Jy(e){if(iw(e))for(const t of e.F_)await t(!0)}async function Xy(e){for(const t of e.F_)await t(!1)}function Zy(e,t){const n=oh(e);n.C_.has(t.targetId)||(n.C_.set(t.targetId,t),rw(n)?nw(n):Iw(n).Jo()&&ew(n,t))}function $y(e,t){const n=oh(e),r=Iw(n);n.C_.delete(t),r.Jo()&&tw(n,t),0===n.C_.size&&(r.Jo()?r.Xo():iw(n)&&n.x_.set("Unknown"))}function ew(e,t){if(e.O_.Oe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Sh.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Iw(e).c_(t)}function tw(e,t){e.O_.Oe(t),Iw(e).l_(t)}function nw(e){e.O_=new Om({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),_t:t=>e.C_.get(t)||null,nt:()=>e.datastore.serializer.databaseId}),Iw(e).start(),e.x_.p_()}function rw(e){return iw(e)&&!Iw(e).Ho()&&e.C_.size>0}function iw(e){return 0===oh(e).v_.size}function sw(e){e.O_=void 0}async function aw(e){e.C_.forEach(((t,n)=>{ew(e,t)}))}async function ow(e,t){sw(e),rw(e)?(e.x_.S_(t),nw(e)):e.x_.set("Unknown")}async function lw(e,t,n){if(e.x_.set("Online"),t instanceof Rm&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.C_.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.C_.delete(r),e.O_.removeTarget(r))}(e,t)}catch(n){th("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await cw(e,n)}else if(t instanceof Cm?e.O_.$e(t):t instanceof Dm?e.O_.Je(t):e.O_.Ge(t),!n.isEqual(Sh.min()))try{const t=await dy(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.O_.it(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.C_.get(r);i&&e.C_.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e.C_.get(t);if(!r)return;e.C_.set(t,r.withResumeToken(Kd.EMPTY_BYTE_STRING,r.snapshotVersion)),tw(e,t);const i=new vg(r.target,t,n,r.sequenceNumber);ew(e,i)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){th("RemoteStore","Failed to raise snapshot:",t),await cw(e,t)}}async function cw(e,t,n){if(!Wh(t))throw t;e.v_.add(1),await Xy(e),e.x_.set("Offline"),n||(n=()=>dy(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{th("RemoteStore","Retrying IndexedDB access"),await n(),e.v_.delete(1),await Jy(e)}))}function uw(e,t){return t().catch((n=>cw(e,n,t)))}async function hw(e){const t=oh(e),n=Ew(t);let r=t.D_.length>0?t.D_[t.D_.length-1].batchId:-1;for(;dw(t);)try{const e=await py(t.localStore,r);if(null===e){0===t.D_.length&&n.Xo();break}r=e.batchId,fw(t,e)}catch(e){await cw(t,e)}pw(t)&&mw(t)}function dw(e){return iw(e)&&e.D_.length<10}function fw(e,t){e.D_.push(t);const n=Ew(e);n.Jo()&&n.P_&&n.I_(t.mutations)}function pw(e){return iw(e)&&!Ew(e).Ho()&&e.D_.length>0}function mw(e){Ew(e).start()}async function gw(e){Ew(e).d_()}async function vw(e){const t=Ew(e);for(const n of e.D_)t.I_(n.mutations)}async function yw(e,t,n){const r=e.D_.shift(),i=pm.from(r,t,n);await uw(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await hw(e)}async function ww(e,t){t&&Ew(e).P_&&await async function(e,t){if(function(e){return wm(e)&&e!==lh.ABORTED}(t.code)){const n=e.D_.shift();Ew(e).Zo(),await uw(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await hw(e)}}(e,t),pw(e)&&mw(e)}async function bw(e,t){const n=oh(e);n.asyncQueue.verifyOperationInProgress(),th("RemoteStore","RemoteStore received new credentials");const r=iw(n);n.v_.add(3),await Xy(n),r&&n.x_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.v_.delete(3),await Jy(n)}async function _w(e,t){const n=oh(e);t?(n.v_.delete(2),await Jy(n)):t||(n.v_.add(2),await Xy(n),n.x_.set("Unknown"))}function Iw(e){return e.N_||(e.N_=function(e,t,n){const r=oh(e);return r.R_(),new Ky(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Po:aw.bind(null,e),To:ow.bind(null,e),u_:lw.bind(null,e)}),e.F_.push((async t=>{t?(e.N_.Zo(),rw(e)?nw(e):e.x_.set("Unknown")):(await e.N_.stop(),sw(e))}))),e.N_}function Ew(e){return e.B_||(e.B_=function(e,t,n){const r=oh(e);return r.R_(),new Hy(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Po:gw.bind(null,e),To:ww.bind(null,e),E_:vw.bind(null,e),T_:yw.bind(null,e)}),e.F_.push((async t=>{t?(e.B_.Zo(),await hw(e)):(await e.B_.stop(),e.D_.length>0&&(th("RemoteStore","Stopping write stream with ".concat(e.D_.length," pending writes")),e.D_=[]))}))),e.B_}class kw{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new uh,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const s=Date.now()+n,a=new kw(e,t,s,r,i);return a.start(n),a}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ch(lh.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Sw(e,t){if(nh("AsyncQueue","".concat(t,": ").concat(e)),Wh(e))return new ch(lh.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class xw{constructor(e){this.comparator=e?(t,n)=>e(t,n)||Ch.comparator(t.key,n.key):(e,t)=>Ch.comparator(e.key,t.key),this.keyedMap=Sp(),this.sortedSet=new Md(this.comparator)}static emptySet(e){return new xw(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof xw))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new xw;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class Tw{constructor(){this.L_=new Md(Ch.comparator)}track(e){const t=e.doc.key,n=this.L_.get(t);n?0!==e.type&&3===n.type?this.L_=this.L_.insert(t,e):3===e.type&&1!==n.type?this.L_=this.L_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.L_=this.L_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.L_=this.L_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.L_=this.L_.remove(t):1===e.type&&2===n.type?this.L_=this.L_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.L_=this.L_.insert(t,{type:2,doc:e.doc}):sh():this.L_=this.L_.insert(t,e)}k_(){const e=[];return this.L_.inorderTraversal(((t,n)=>{e.push(n)})),e}}class Nw{constructor(e,t,n,r,i,s,a,o,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=o,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const s=[];return t.forEach((e=>{s.push({type:0,doc:e})})),new Nw(e,t,xw.emptySet(t),s,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&pp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class Aw{constructor(){this.q_=void 0,this.Q_=[]}}class Cw{constructor(){this.queries=new _p((e=>mp(e)),pp),this.onlineState="Unknown",this.K_=new Set}}async function Dw(e,t){const n=oh(e),r=t.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new Aw),i)try{s.q_=await n.onListen(r)}catch(e){const n=Sw(e,"Initialization of query '".concat(gp(t.query),"' failed"));return void t.onError(n)}n.queries.set(r,s),s.Q_.push(t),t.U_(n.onlineState),s.q_&&t.W_(s.q_)&&jw(n)}async function Rw(e,t){const n=oh(e),r=t.query;let i=!1;const s=n.queries.get(r);if(s){const e=s.Q_.indexOf(t);e>=0&&(s.Q_.splice(e,1),i=0===s.Q_.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function Pw(e,t){const n=oh(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.Q_)e.W_(i)&&(r=!0);t.q_=i}}r&&jw(n)}function Ow(e,t,n){const r=oh(e),i=r.queries.get(t);if(i)for(const s of i.Q_)s.onError(n);r.queries.delete(t)}function jw(e){e.K_.forEach((e=>{e.next()}))}class Lw{constructor(e,t,n){this.query=e,this.G_=t,this.z_=!1,this.j_=null,this.onlineState="Unknown",this.options=n||{}}W_(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new Nw(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.z_?this.H_(e)&&(this.G_.next(e),t=!0):this.J_(e,this.onlineState)&&(this.Y_(e),t=!0),this.j_=e,t}onError(e){this.G_.error(e)}U_(e){this.onlineState=e;let t=!1;return this.j_&&!this.z_&&this.J_(this.j_,e)&&(this.Y_(this.j_),t=!0),t}J_(e,t){if(!e.fromCache)return!0;const n="Offline"!==t;return(!this.options.Z_||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}H_(e){if(e.docChanges.length>0)return!0;const t=this.j_&&this.j_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}Y_(e){e=Nw.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.z_=!0,this.G_.next(e)}}class Mw{constructor(e,t){this.X_=e,this.byteLength=t}ea(){return"metadata"in this.X_}}class Fw{constructor(e){this.serializer=e}Ps(e){return Jm(this.serializer,e)}Is(e){return e.metadata.exists?ng(this.serializer,e.document,!1):Sf.newNoDocument(this.Ps(e.metadata.name),this.Ts(e.metadata.readTime))}Ts(e){return Km(e)}}class Uw{constructor(e,t,n){this.ta=e,this.localStore=t,this.serializer=n,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Vw(e)}na(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.X_.namedQuery)this.queries.push(e.X_.namedQuery);else if(e.X_.documentMetadata){this.documents.push({metadata:e.X_.documentMetadata}),e.X_.documentMetadata.exists||++t;const n=Th.fromString(e.X_.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.X_.document&&(this.documents[this.documents.length-1].document=e.X_.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}ra(e){const t=new Map,n=new Fw(this.serializer);for(const r of e)if(r.metadata.queries){const e=n.Ps(r.metadata.name);for(const n of r.metadata.queries){const r=(t.get(n)||Rp()).add(e);t.set(n,r)}}return t}async complete(){const e=await async function(e,t,n,r){const i=oh(e);let s=Rp(),a=Ep();for(const c of n){const e=t.Ps(c.metadata.name);c.document&&(s=s.add(e));const n=t.Is(c);n.setReadTime(t.Ts(c.metadata.readTime)),a=a.insert(e,n)}const o=i.os.newChangeBuffer({trackRemovals:!0}),l=await my(i,function(e){return up(ap(Th.fromString("__bundle__/docs/".concat(e))))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",(e=>fy(e,o,a).next((t=>(o.apply(e),t))).next((t=>i.Qr.removeMatchingKeysForTargetId(e,l.targetId).next((()=>i.Qr.addMatchingKeys(e,s,l.targetId))).next((()=>i.localDocuments.getLocalViewOfDocuments(e,t.cs,t.ls))).next((()=>t.cs))))))}(this.localStore,new Fw(this.serializer),this.documents,this.ta.id),t=this.ra(this.documents);for(const n of this.queries)await _y(this.localStore,n,t.get(n.name));return this.progress.taskState="Success",{progress:this.progress,ia:this.collectionGroups,sa:e}}}function Vw(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}class Bw{constructor(e){this.key=e}}class zw{constructor(e){this.key=e}}class qw{constructor(e,t){this.query=e,this.oa=t,this._a=null,this.hasCachedResults=!1,this.current=!1,this.aa=Rp(),this.mutatedKeys=Rp(),this.ua=wp(e),this.ca=new xw(this.ua)}get la(){return this.oa}ha(e,t){const n=t?t.Pa:new Tw,r=t?t.ca:this.ca;let i=t?t.mutatedKeys:this.mutatedKeys,s=r,a=!1;const o="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const c=r.get(e),u=vp(this.query,t)?t:null,h=!!c&&this.mutatedKeys.has(c.key),d=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?h!==d&&(n.track({type:3,doc:u}),f=!0):this.Ia(c,u)||(n.track({type:2,doc:u}),f=!0,(o&&this.ua(u,o)>0||l&&this.ua(u,l)<0)&&(a=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(o||l)&&(a=!0)),f&&(u?(s=s.add(u),i=d?i.add(e):i.delete(e)):(s=s.delete(e),i=i.delete(e)))})),null!==this.query.limit)for(;s.size>this.query.limit;){const e="F"===this.query.limitType?s.last():s.first();s=s.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{ca:s,Pa:n,Xi:a,mutatedKeys:i}}Ia(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.ca;this.ca=e.ca,this.mutatedKeys=e.mutatedKeys;const s=e.Pa.k_();s.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return sh()}};return n(e)-n(t)}(e.type,t.type)||this.ua(e.doc,t.doc))),this.Ta(n),r=null!=r&&r;const a=t&&!r?this.Ea():[],o=0===this.aa.size&&this.current&&!r?1:0,l=o!==this._a;return this._a=o,0!==s.length||l?{snapshot:new Nw(this.query,e.ca,i,s,e.mutatedKeys,0===o,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),da:a}:{da:a}}U_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ca:this.ca,Pa:new Tw,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{da:[]}}Aa(e){return!this.oa.has(e)&&!!this.ca.has(e)&&!this.ca.get(e).hasLocalMutations}Ta(e){e&&(e.addedDocuments.forEach((e=>this.oa=this.oa.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.oa=this.oa.delete(e))),this.current=e.current)}Ea(){if(!this.current)return[];const e=this.aa;this.aa=Rp(),this.ca.forEach((e=>{this.Aa(e.key)&&(this.aa=this.aa.add(e.key))}));const t=[];return e.forEach((e=>{this.aa.has(e)||t.push(new zw(e))})),this.aa.forEach((n=>{e.has(n)||t.push(new Bw(n))})),t}Ra(e){this.oa=e.hs,this.aa=Rp();const t=this.ha(e.documents);return this.applyChanges(t,!0)}Va(){return Nw.fromInitialDocuments(this.query,this.ca,this.mutatedKeys,0===this._a,this.hasCachedResults)}}class Gw{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class Kw{constructor(e){this.key=e,this.ma=!1}}class Hw{constructor(e,t,n,r,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.fa={},this.ga=new _p((e=>mp(e)),pp),this.pa=new Map,this.ya=new Set,this.wa=new Md(Ch.comparator),this.Sa=new Map,this.ba=new Gv,this.Da={},this.Ca=new Map,this.va=wv.Bn(),this.onlineState="Unknown",this.Fa=void 0}get isPrimaryClient(){return!0===this.Fa}}async function Qw(e,t){const n=wb(e);let r,i;const s=n.ga.get(t);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Va();else{const e=await my(n.localStore,up(t)),s=n.sharedClientState.addLocalQueryTarget(e.targetId);r=e.targetId,i=await Ww(n,t,r,"current"===s,e.resumeToken),n.isPrimaryClient&&Zy(n.remoteStore,e)}return i}async function Ww(e,t,n,r,i){e.Ma=(t,n,r)=>async function(e,t,n,r){let i=t.view.ha(n);i.Xi&&(i=await vy(e.localStore,t.query,!1).then((e=>{let{documents:n}=e;return t.view.ha(n,i)})));const s=r&&r.targetChanges.get(t.targetId),a=r&&null!=r.targetMismatches.get(t.targetId),o=t.view.applyChanges(i,e.isPrimaryClient,s,a);return sb(e,t.targetId,o.da),o.snapshot}(e,t,n,r);const s=await vy(e.localStore,t,!0),a=new qw(t,s.hs),o=a.ha(s.documents),l=Am.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),c=a.applyChanges(o,e.isPrimaryClient,l);sb(e,n,c.da);const u=new Gw(t,n,a);return e.ga.set(t,u),e.pa.has(n)?e.pa.get(n).push(t):e.pa.set(n,[t]),c.snapshot}async function Yw(e,t){const n=oh(e),r=n.ga.get(t),i=n.pa.get(r.targetId);if(i.length>1)return n.pa.set(r.targetId,i.filter((e=>!pp(e,t)))),void n.ga.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await gy(n.localStore,r.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(r.targetId),$y(n.remoteStore,r.targetId),rb(n,r.targetId)})).catch(zh)):(rb(n,r.targetId),await gy(n.localStore,r.targetId,!0))}async function Jw(e,t){const n=oh(e);try{const e=await function(e,t){const n=oh(e),r=t.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const s=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const a=[];t.targetChanges.forEach(((s,o)=>{const l=i.get(o);if(!l)return;a.push(n.Qr.removeMatchingKeys(e,s.removedDocuments,o).next((()=>n.Qr.addMatchingKeys(e,s.addedDocuments,o))));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(o)?c=c.withResumeToken(Kd.EMPTY_BYTE_STRING,Sh.min()).withLastLimboFreeSnapshotVersion(Sh.min()):s.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(s.resumeToken,r)),i=i.insert(o,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,c,s)&&a.push(n.Qr.updateTargetData(e,c))}));let o=Ep(),l=Rp();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),a.push(fy(e,s,t.documentUpdates).next((e=>{o=e.cs,l=e.ls}))),!r.isEqual(Sh.min())){const t=n.Qr.getLastRemoteSnapshotVersion(e).next((t=>n.Qr.setTargetsMetadata(e,e.currentSequenceNumber,r)));a.push(t)}return qh.waitFor(a).next((()=>s.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,o,l))).next((()=>o))})).then((e=>(n.ns=i,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.Sa.get(t);r&&(ah(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.ma=!0:e.modifiedDocuments.size>0?ah(r.ma):e.removedDocuments.size>0&&(ah(r.ma),r.ma=!1))})),await lb(n,e,t)}catch(e){await zh(e)}}function Xw(e,t,n){const r=oh(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.ga.forEach(((n,r)=>{const i=r.view.U_(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=oh(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const i of n.Q_)i.U_(t)&&(r=!0)})),r&&jw(n)}(r.eventManager,t),e.length&&r.fa.u_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Zw(e,t,n){const r=oh(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Sa.get(t),s=i&&i.key;if(s){let e=new Md(Ch.comparator);e=e.insert(s,Sf.newNoDocument(s,Sh.min()));const n=Rp().add(s),i=new Nm(Sh.min(),new Map,new Md(_h),e,n);await Jw(r,i),r.wa=r.wa.remove(s),r.Sa.delete(t),ob(r)}else await gy(r.localStore,t,!1).then((()=>rb(r,t,n))).catch(zh)}async function $w(e,t){const n=oh(e),r=t.batch.batchId;try{const e=await function(e,t){const n=oh(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.os.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,s=i.keys();let a=qh.resolve();return s.forEach((e=>{a=a.next((()=>r.getEntry(t,e))).next((t=>{const s=n.docVersions.get(e);ah(null!==s),t.version.compareTo(s)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),a.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=Rp();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);nb(n,r,null),tb(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await lb(n,e)}catch(e){await zh(e)}}async function eb(e,t,n){const r=oh(e);try{const e=await function(e,t){const n=oh(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(ah(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);nb(r,t,n),tb(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await lb(r,e)}catch(n){await zh(n)}}function tb(e,t){(e.Ca.get(t)||[]).forEach((e=>{e.resolve()})),e.Ca.delete(t)}function nb(e,t,n){const r=oh(e);let i=r.Da[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Da[r.currentUser.toKey()]=i}}function rb(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.pa.get(t))e.ga.delete(r),n&&e.fa.xa(r,n);e.pa.delete(t),e.isPrimaryClient&&e.ba.Vr(t).forEach((t=>{e.ba.containsKey(t)||ib(e,t)}))}function ib(e,t){e.ya.delete(t.path.canonicalString());const n=e.wa.get(t);null!==n&&($y(e.remoteStore,n),e.wa=e.wa.remove(t),e.Sa.delete(n),ob(e))}function sb(e,t,n){for(const r of n)r instanceof Bw?(e.ba.addReference(r.key,t),ab(e,r)):r instanceof zw?(th("SyncEngine","Document no longer in limbo: "+r.key),e.ba.removeReference(r.key,t),e.ba.containsKey(r.key)||ib(e,r.key)):sh()}function ab(e,t){const n=t.key,r=n.path.canonicalString();e.wa.get(n)||e.ya.has(r)||(th("SyncEngine","New document in limbo: "+n),e.ya.add(r),ob(e))}function ob(e){for(;e.ya.size>0&&e.wa.size<e.maxConcurrentLimboResolutions;){const t=e.ya.values().next().value;e.ya.delete(t);const n=new Ch(Th.fromString(t)),r=e.va.next();e.Sa.set(r,new Kw(n)),e.wa=e.wa.insert(n,r),Zy(e.remoteStore,new vg(up(ap(n.path)),r,"TargetPurposeLimboResolution",td._e))}}async function lb(e,t,n){const r=oh(e),i=[],s=[],a=[];r.ga.isEmpty()||(r.ga.forEach(((e,o)=>{a.push(r.Ma(o,t,n).then((e=>{if((e||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(o.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){i.push(e);const t=ay.Ki(o.targetId,e);s.push(t)}})))})),await Promise.all(a),r.fa.u_(i),await async function(e,t){const n=oh(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>qh.forEach(t,(t=>qh.forEach(t.qi,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>qh.forEach(t.Qi,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!Wh(e))throw e;th("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.ns.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.ns=n.ns.insert(e,i)}}}(r.localStore,s))}async function cb(e,t){const n=oh(e);if(!n.currentUser.isEqual(t)){th("SyncEngine","User change. New user:",t.toKey());const e=await hy(n.localStore,t);n.currentUser=t,function(e,t){e.Ca.forEach((e=>{e.forEach((e=>{e.reject(new ch(lh.CANCELLED,t))}))})),e.Ca.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await lb(n,e.us)}}function ub(e,t){const n=oh(e),r=n.Sa.get(t);if(r&&r.ma)return Rp().add(r.key);{let e=Rp();const r=n.pa.get(t);if(!r)return e;for(const t of r){const r=n.ga.get(t);e=e.unionWith(r.view.la)}return e}}async function hb(e,t){const n=oh(e),r=await vy(n.localStore,t.query,!0),i=t.view.Ra(r);return n.isPrimaryClient&&sb(n,t.targetId,i.da),i}async function db(e,t){const n=oh(e);return wy(n.localStore,t).then((e=>lb(n,e)))}async function fb(e,t,n,r){const i=oh(e),s=await function(e,t){const n=oh(e),r=oh(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(e=>r.vn(e,t).next((t=>t?n.localDocuments.getDocuments(e,t):qh.resolve(null)))))}(i.localStore,t);null!==s?("pending"===n?await hw(i.remoteStore):"acknowledged"===n||"rejected"===n?(nb(i,t,r||null),tb(i,t),function(e,t){oh(oh(e).mutationQueue).Mn(t)}(i.localStore,t)):sh(),await lb(i,s)):th("SyncEngine","Cannot apply mutation batch with id: "+t)}async function pb(e,t,n){const r=oh(e),i=[],s=[];for(const a of t){let e;const t=r.pa.get(a);if(t&&0!==t.length){e=await my(r.localStore,up(t[0]));for(const e of t){const t=r.ga.get(e),n=await hb(r,t);n.snapshot&&s.push(n.snapshot)}}else{const t=await yy(r.localStore,a);e=await my(r.localStore,t),await Ww(r,mb(t),a,!1,e.resumeToken)}i.push(e)}return r.fa.u_(s),i}function mb(e){return sp(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function gb(e){return function(e){return oh(oh(e).persistence).Li()}(oh(e).localStore)}async function vb(e,t,n,r){const i=oh(e);if(i.Fa)return void th("SyncEngine","Ignoring unexpected query state notification.");const s=i.pa.get(t);if(s&&s.length>0)switch(n){case"current":case"not-current":{const e=await wy(i.localStore,yp(s[0])),r=Nm.createSynthesizedRemoteEventForCurrentChange(t,"current"===n,Kd.EMPTY_BYTE_STRING);await lb(i,e,r);break}case"rejected":await gy(i.localStore,t,!0),rb(i,t,r);break;default:sh()}}async function yb(e,t,n){const r=wb(e);if(r.Fa){for(const e of t){if(r.pa.has(e)){th("SyncEngine","Adding an already active target "+e);continue}const t=await yy(r.localStore,e),n=await my(r.localStore,t);await Ww(r,mb(t),n.targetId,!1,n.resumeToken),Zy(r.remoteStore,n)}for(const e of n)r.pa.has(e)&&await gy(r.localStore,e,!1).then((()=>{$y(r.remoteStore,e),rb(r,e)})).catch(zh)}}function wb(e){const t=oh(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Jw.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=ub.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Zw.bind(null,t),t.fa.u_=Pw.bind(null,t.eventManager),t.fa.xa=Ow.bind(null,t.eventManager),t}function bb(e){const t=oh(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=$w.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=eb.bind(null,t),t}class _b{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=zy(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return uy(this.persistence,new ly,e.initialUser,this.serializer)}createPersistence(e){return new Jv(Zv.Hr,this.serializer)}createSharedClientState(e){return new Dy}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class Ib extends _b{constructor(e,t,n){super(),this.Na=e,this.cacheSizeBytes=t,this.forceOwnership=n,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Na.initialize(this,e),await bb(this.Na.syncEngine),await hw(this.Na.remoteStore),await this.persistence.fi((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}createLocalStore(e){return uy(this.persistence,new ly,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){const n=this.persistence.referenceDelegate.garbageCollector;return new xv(n,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const n=new ed(t,this.persistence);return new $h(e.asyncQueue,n)}createPersistence(e){const t=sy(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?hv.withCacheSize(this.cacheSizeBytes):hv.DEFAULT;return new ny(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,Vy(),By(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new Dy}}class Eb extends Ib{constructor(e,t){super(e,t,!1),this.Na=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const t=this.Na.syncEngine;this.sharedClientState instanceof Cy&&(this.sharedClientState.syncEngine={Zs:fb.bind(null,t),Xs:vb.bind(null,t),eo:yb.bind(null,t),Li:gb.bind(null,t),Ys:db.bind(null,t)},await this.sharedClientState.start()),await this.persistence.fi((async e=>{await async function(e,t){const n=oh(e);if(wb(n),bb(n),!0===t&&!0!==n.Fa){const e=n.sharedClientState.getAllActiveQueryTargets(),t=await pb(n,e.toArray());n.Fa=!0,await _w(n.remoteStore,!0);for(const r of t)Zy(n.remoteStore,r)}else if(!1===t&&!1!==n.Fa){const e=[];let t=Promise.resolve();n.pa.forEach(((r,i)=>{n.sharedClientState.isLocalQueryTarget(i)?e.push(i):t=t.then((()=>(rb(n,i),gy(n.localStore,i,!0)))),$y(n.remoteStore,i)})),await t,await pb(n,e),function(e){const t=oh(e);t.Sa.forEach(((e,n)=>{$y(t.remoteStore,n)})),t.ba.mr(),t.Sa=new Map,t.wa=new Md(Ch.comparator)}(n),n.Fa=!1,await _w(n.remoteStore,!1)}}(this.Na.syncEngine,e),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start():e||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(e&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():e||this.indexBackfillerScheduler.stop())}))}createSharedClientState(e){const t=Vy();if(!Cy.D(t))throw new ch(lh.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const n=sy(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Cy(t,e.asyncQueue,n,e.clientId,e.initialUser)}}class kb{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>Xw(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=cb.bind(null,this.syncEngine),await _w(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new Cw}createDatastore(e){const t=zy(e.databaseInfo.databaseId),n=function(e){return new Uy(e)}(e.databaseInfo);return function(e,t,n,r){return new Qy(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new Yy(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(e=>Xw(this.syncEngine,e,0)),Py.D()?new Py:new Ry)}createSyncEngine(e,t){return function(e,t,n,r,i,s,a){const o=new Hw(e,t,n,r,i,s);return a&&(o.Fa=!0),o}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e;await async function(e){const t=oh(e);th("RemoteStore","RemoteStore shutting down."),t.v_.add(5),await Xy(t),t.M_.shutdown(),t.x_.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate()}}function Sb(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{async read(){if(n<e.byteLength){const r={value:e.slice(n,n+t),done:!1};return n+=t,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}class xb{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ba(this.observer.next,e)}error(e){this.observer.error?this.Ba(this.observer.error,e):nh("Uncaught Error in snapshot listener:",e.toString())}La(){this.muted=!0}Ba(e,t){this.muted||setTimeout((()=>{this.muted||e(t)}),0)}}class Tb{constructor(e,t){this.ka=e,this.serializer=t,this.metadata=new uh,this.buffer=new Uint8Array,this.qa=new TextDecoder("utf-8"),this.Qa().then((e=>{e&&e.ea()?this.metadata.resolve(e.X_.metadata):this.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.X_))))}),(e=>this.metadata.reject(e)))}close(){return this.ka.cancel()}async getMetadata(){return this.metadata.promise}async Oa(){return await this.getMetadata(),this.Qa()}async Qa(){const e=await this.Ka();if(null===e)return null;const t=this.qa.decode(e),n=Number(t);isNaN(n)&&this.$a("length string (".concat(t,") is not valid number"));const r=await this.Ua(n);return new Mw(JSON.parse(r),e.length+n)}Wa(){return this.buffer.findIndex((e=>e==="{".charCodeAt(0)))}async Ka(){for(;this.Wa()<0&&!await this.Ga(););if(0===this.buffer.length)return null;const e=this.Wa();e<0&&this.$a("Reached the end of bundle when a length string is expected.");const t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t}async Ua(e){for(;this.buffer.length<e;)await this.Ga()&&this.$a("Reached the end of bundle when more is expected.");const t=this.qa.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t}$a(e){throw this.ka.cancel(),new Error("Invalid bundle format: ".concat(e))}async Ga(){const e=await this.ka.read();if(!e.done){const t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done}}class Nb{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new ch(lh.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const t=await async function(e,t){const n=oh(e),r={documents:t.map((e=>Ym(n.serializer,e)))},i=await n.vo("BatchGetDocuments",n.serializer.databaseId,Th.emptyPath(),r,t.length),s=new Map;i.forEach((e=>{const t=function(e,t){return"found"in t?function(e,t){ah(!!t.found),t.found.name,t.found.updateTime;const n=Jm(e,t.found.name),r=Km(t.found.updateTime),i=t.found.createTime?Km(t.found.createTime):Sh.min(),s=new Ef({mapValue:{fields:t.found.fields}});return Sf.newFoundDocument(n,r,i,s)}(e,t):"missing"in t?function(e,t){ah(!!t.missing),ah(!!t.readTime);const n=Jm(e,t.missing),r=Km(t.readTime);return Sf.newNoDocument(n,r)}(e,t):sh()}(n.serializer,e);s.set(t.key.toString(),t)}));const a=[];return t.forEach((e=>{const t=s.get(e.toString());ah(!!t),a.push(t)})),a}(this.datastore,e);return t.forEach((e=>this.recordVersion(e))),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastTransactionError=e}this.writtenDocs.add(e.toString())}delete(e){this.write(new hm(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach((t=>{e.delete(t.key.toString())})),e.forEach(((e,t)=>{const n=Ch.fromPath(t);this.mutations.push(new dm(n,this.precondition(n)))})),await async function(e,t){const n=oh(e),r={writes:t.map((e=>rg(n.serializer,e)))};await n.So("Commit",n.serializer.databaseId,Th.emptyPath(),r)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw sh();t=Sh.min()}const n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new ch(lh.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Sh.min())?Zp.exists(!1):Zp.updateTime(t):Zp.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Sh.min()))throw new ch(lh.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Zp.updateTime(t)}return Zp.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Ab{constructor(e,t,n,r,i){this.asyncQueue=e,this.datastore=t,this.options=n,this.updateFunction=r,this.deferred=i,this.za=n.maxAttempts,this.jo=new qy(this.asyncQueue,"transaction_retry")}ja(){this.za-=1,this.Ha()}Ha(){this.jo.qo((async()=>{const e=new Nb(this.datastore),t=this.Ja(e);t&&t.then((t=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(t)})).catch((e=>{this.Ya(e)}))))})).catch((e=>{this.Ya(e)}))}))}Ja(e){try{const t=this.updateFunction(e);return!nd(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}Ya(e){this.za>0&&this.Za(e)?(this.za-=1,this.asyncQueue.enqueueAndForget((()=>(this.Ha(),Promise.resolve())))):this.deferred.reject(e)}Za(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!wm(t)}return!1}}class Cb{constructor(e,t,n,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=Xu.UNAUTHENTICATED,this.clientId=bh.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,(async e=>{th("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(th("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ch(lh.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new uh;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=Sw(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function Db(e,t){e.asyncQueue.verifyOperationInProgress(),th("FirestoreClient","Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await hy(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function Rb(e,t){e.asyncQueue.verifyOperationInProgress();const n=await Ob(e);th("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((e=>bw(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>bw(t.remoteStore,n))),e._onlineComponents=t}function Pb(e){return"FirebaseError"===e.name?e.code===lh.FAILED_PRECONDITION||e.code===lh.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}async function Ob(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){th("FirestoreClient","Using user provided OfflineComponentProvider");try{await Db(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!Pb(n))throw n;rh("Error using user provided cache. Falling back to memory cache: "+n),await Db(e,new _b)}}else th("FirestoreClient","Using default OfflineComponentProvider"),await Db(e,new _b);return e._offlineComponents}async function jb(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(th("FirestoreClient","Using user provided OnlineComponentProvider"),await Rb(e,e._uninitializedComponentsProvider._online)):(th("FirestoreClient","Using default OnlineComponentProvider"),await Rb(e,new kb))),e._onlineComponents}function Lb(e){return Ob(e).then((e=>e.persistence))}function Mb(e){return Ob(e).then((e=>e.localStore))}function Fb(e){return jb(e).then((e=>e.remoteStore))}function Ub(e){return jb(e).then((e=>e.syncEngine))}function Vb(e){return jb(e).then((e=>e.datastore))}async function Bb(e){const t=await jb(e),n=t.eventManager;return n.onListen=Qw.bind(null,t.syncEngine),n.onUnlisten=Yw.bind(null,t.syncEngine),n}function zb(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new uh;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const s=new xb({next:s=>{t.enqueueAndForget((()=>Rw(e,a)));const o=s.docs.has(n);!o&&s.fromCache?i.reject(new ch(lh.UNAVAILABLE,"Failed to get document because the client is offline.")):o&&s.fromCache&&r&&"server"===r.source?i.reject(new ch(lh.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:e=>i.reject(e)}),a=new Lw(ap(n.path),s,{includeMetadataChanges:!0,Z_:!0});return Dw(e,a)}(await Bb(e),e.asyncQueue,t,n,r))),r.promise}function qb(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new uh;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const s=new xb({next:n=>{t.enqueueAndForget((()=>Rw(e,a))),n.fromCache&&"server"===r.source?i.reject(new ch(lh.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),a=new Lw(n,s,{includeMetadataChanges:!0,Z_:!0});return Dw(e,a)}(await Bb(e),e.asyncQueue,t,n,r))),r.promise}function Gb(e,t,n,r){const i=function(e,t){let n;return n="string"==typeof e?Im().encode(e):e,function(e,t){return new Tb(e,t)}(function(e,t){if(e instanceof Uint8Array)return Sb(e,t);if(e instanceof ArrayBuffer)return Sb(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(n),t)}(n,zy(t));e.asyncQueue.enqueueAndForget((async()=>{!function(e,t,n){const r=oh(e);(async function(e,t,n){try{const r=await t.getMetadata();if(await function(e,t){const n=oh(e),r=Km(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(e=>n.$r.getBundleMetadata(e,t.id))).then((e=>!!e&&e.createTime.compareTo(r)>=0))}(e.localStore,r))return await t.close(),n._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(r)),Promise.resolve(new Set);n._updateProgress(Vw(r));const i=new Uw(r,e.localStore,t.serializer);let s=await t.Oa();for(;s;){const e=await i.na(s);e&&n._updateProgress(e),s=await t.Oa()}const a=await i.complete();return await lb(e,a.sa,void 0),await function(e,t){const n=oh(e);return n.persistence.runTransaction("Save bundle","readwrite",(e=>n.$r.saveBundleMetadata(e,t)))}(e.localStore,r),n._completeWith(a.progress),Promise.resolve(a.ia)}catch(e){return rh("SyncEngine","Loading bundle failed with ".concat(e)),n._failWith(e),Promise.resolve(new Set)}})(r,t,n).then((e=>{r.sharedClientState.notifyBundleLoaded(e)}))}(await Ub(e),i,r)}))}function Kb(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const Hb=new Map;function Qb(e,t,n){if(!n)throw new ch(lh.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function Wb(e,t,n,r){if(!0===t&&!0===r)throw new ch(lh.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function Yb(e){if(!Ch.isDocumentKey(e))throw new ch(lh.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function Jb(e){if(Ch.isDocumentKey(e))throw new ch(lh.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function Xb(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":sh()}function Zb(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new ch(lh.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Xb(e);throw new ch(lh.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}function $b(e,t){if(t<=0)throw new ch(lh.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}class e_{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new ch(lh.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new ch(lh.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Wb("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Kb(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new ch(lh.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new ch(lh.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new ch(lh.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class t_{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new e_({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ch(lh.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new ch(lh.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new e_(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new dh;switch(e.type){case"firstParty":return new gh(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new ch(lh.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Hb.get(e);t&&(th("ComponentProvider","Removing Datastore"),Hb.delete(e),t.terminate())}(this),Promise.resolve()}}function n_(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;const s=(e=Zb(e,t_))._getSettings(),a="".concat(t,":").concat(n);if("firestore.googleapis.com"!==s.host&&s.host!==a&&rh("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},s),{host:a,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=Xu.MOCK_USER;else{t=U(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new ch(lh.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new Xu(s)}e._authCredentials=new fh(new hh(t,n))}}class r_{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new r_(this.firestore,e,this._query)}}class i_{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new s_(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new i_(this.firestore,e,this._key)}}class s_ extends r_{constructor(e,t,n){super(e,t,ap(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new i_(this.firestore,null,new Ch(e))}withConverter(e){return new s_(this.firestore,e,this._path)}}function a_(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=se(e),Qb("collection","path",t),e instanceof t_){const n=Th.fromString(t,...r);return Jb(n),new s_(e,null,n)}{if(!(e instanceof i_||e instanceof s_))throw new ch(lh.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Th.fromString(t,...r));return Jb(n),new s_(e.firestore,null,n)}}function o_(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=se(e),1===arguments.length&&(t=bh.newId()),Qb("doc","path",t),e instanceof t_){const n=Th.fromString(t,...r);return Yb(n),new i_(e,null,new Ch(n))}{if(!(e instanceof i_||e instanceof s_))throw new ch(lh.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Th.fromString(t,...r));return Yb(n),new i_(e.firestore,e instanceof s_?e.converter:null,new Ch(n))}}function l_(e,t){return e=se(e),t=se(t),(e instanceof i_||e instanceof s_)&&(t instanceof i_||t instanceof s_)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function c_(e,t){return e=se(e),t=se(t),e instanceof r_&&t instanceof r_&&e.firestore===t.firestore&&pp(e._query,t._query)&&e.converter===t.converter}class u_{constructor(){this.Xa=Promise.resolve(),this.eu=[],this.tu=!1,this.nu=[],this.ru=null,this.iu=!1,this.su=!1,this.ou=[],this.jo=new qy(this,"async_queue_retry"),this._u=()=>{const e=By();e&&th("AsyncQueue","Visibility state changed to "+e.visibilityState),this.jo.Ko()};const e=By();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this._u)}get isShuttingDown(){return this.tu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.au(),this.uu(e)}enterRestrictedMode(e){if(!this.tu){this.tu=!0,this.su=e||!1;const t=By();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this._u)}}enqueue(e){if(this.au(),this.tu)return new Promise((()=>{}));const t=new uh;return this.uu((()=>this.tu&&this.su?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.eu.push(e),this.cu())))}async cu(){if(0!==this.eu.length){try{await this.eu[0](),this.eu.shift(),this.jo.reset()}catch(e){if(!Wh(e))throw e;th("AsyncQueue","Operation failed with retryable error: "+e)}this.eu.length>0&&this.jo.qo((()=>this.cu()))}}uu(e){const t=this.Xa.then((()=>(this.iu=!0,e().catch((e=>{this.ru=e,this.iu=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw nh("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.iu=!1,e))))));return this.Xa=t,t}enqueueAfterDelay(e,t,n){this.au(),this.ou.indexOf(e)>-1&&(t=0);const r=kw.createAndSchedule(this,e,t,n,(e=>this.lu(e)));return this.nu.push(r),r}au(){this.ru&&sh()}verifyOperationInProgress(){}async hu(){let e;do{e=this.Xa,await e}while(e!==this.Xa)}Pu(e){for(const t of this.nu)if(t.timerId===e)return!0;return!1}Iu(e){return this.hu().then((()=>{this.nu.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.nu)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.hu()}))}Tu(e){this.ou.push(e)}lu(e){const t=this.nu.indexOf(e);this.nu.splice(t,1)}}function h_(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"==typeof n[r])return!0;return!1}(e,["next","error","complete"])}class d_{constructor(){this._progressObserver={},this._taskCompletionResolver=new uh,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,n){this._progressObserver={next:e,error:t,complete:n}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class f_ extends t_{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new u_,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||m_(this),this._firestoreClient.terminate()}}function p_(e){return e._firestoreClient||m_(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function m_(e){var t,n,r;const i=e._freezeSettings(),s=function(e,t,n,r){return new $d(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,Kb(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new Cb(e._authCredentials,e._appCheckCredentials,e._queue,s),(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function g_(e,t,n){const r=new uh;return e.asyncQueue.enqueue((async()=>{try{await Db(e,n),await Rb(e,t),r.resolve()}catch(e){const n=e;if(!Pb(n))throw n;rh("Error enabling indexeddb cache. Falling back to memory cache: "+n),r.reject(n)}})).then((()=>r.promise))}function v_(e){return function(e){const t=new uh;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t){const n=oh(e);iw(n.remoteStore)||th("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const e=await function(e){const t=oh(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(e=>t.mutationQueue.getHighestUnacknowledgedBatchId(e)))}(n.localStore);if(-1===e)return void t.resolve();const r=n.Ca.get(e)||[];r.push(t),n.Ca.set(e,r)}catch(e){const n=Sw(e,"Initialization of waitForPendingWrites() operation failed");t.reject(n)}}(await Ub(e),t))),t.promise}(p_(e=Zb(e,f_)))}function y_(e){return function(e){return e.asyncQueue.enqueue((async()=>{const t=await Lb(e),n=await Fb(e);return t.setNetworkEnabled(!0),function(e){const t=oh(e);return t.v_.delete(0),Jy(t)}(n)}))}(p_(e=Zb(e,f_)))}function w_(e){return function(e){return e.asyncQueue.enqueue((async()=>{const t=await Lb(e),n=await Fb(e);return t.setNetworkEnabled(!1),async function(e){const t=oh(e);t.v_.add(0),await Xy(t),t.x_.set("Offline")}(n)}))}(p_(e=Zb(e,f_)))}function b_(e,t){return function(e,t){return e.asyncQueue.enqueue((async()=>function(e,t){const n=oh(e);return n.persistence.runTransaction("Get named query","readonly",(e=>n.$r.getNamedQuery(e,t)))}(await Mb(e),t)))}(p_(e=Zb(e,f_)),t).then((t=>t?new r_(e,null,t.query):null))}function __(e){if(e._initialized||e._terminated)throw new ch(lh.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class I_{constructor(e){this._byteString=e}static fromBase64String(e){try{return new I_(Kd.fromBase64String(e))}catch(e){throw new ch(lh.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new I_(Kd.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class E_{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new ch(lh.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ah(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class k_{constructor(e){this._methodName=e}}class S_{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ch(lh.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ch(lh.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return _h(this._lat,e._lat)||_h(this._long,e._long)}}const x_=/^__.*__$/;class T_{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new om(e,this.data,this.fieldMask,t,this.fieldTransforms):new am(e,this.data,t,this.fieldTransforms)}}class N_{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new om(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function A_(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw sh()}}class C_{constructor(e,t,n,r,i,s){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Eu(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get du(){return this.settings.du}Au(e){return new C_(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ru(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Au({path:n,Vu:!1});return r.mu(e),r}fu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Au({path:n,Vu:!1});return r.Eu(),r}gu(e){return this.Au({path:void 0,Vu:!0})}pu(e){return J_(e,this.settings.methodName,this.settings.yu||!1,this.path,this.settings.wu)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}Eu(){if(this.path)for(let e=0;e<this.path.length;e++)this.mu(this.path.get(e))}mu(e){if(0===e.length)throw this.pu("Document fields must not be empty");if(A_(this.du)&&x_.test(e))throw this.pu('Document fields cannot begin and end with "__"')}}class D_{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||zy(e)}Su(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new C_({du:e,methodName:t,wu:n,path:Ah.emptyPath(),Vu:!1,yu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function R_(e){const t=e._freezeSettings(),n=zy(e._databaseId);return new D_(e._databaseId,!!t.ignoreUndefinedProperties,n)}function P_(e,t,n,r,i){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const a=e.Su(s.merge||s.mergeFields?2:0,t,n,i);H_("Data must be an object, but it was:",a,r);const o=G_(r,a);let l,c;if(s.merge)l=new qd(a.fieldMask),c=a.fieldTransforms;else if(s.mergeFields){const e=[];for(const r of s.mergeFields){const i=Q_(t,r,n);if(!a.contains(i))throw new ch(lh.INVALID_ARGUMENT,"Field '".concat(i,"' is specified in your field mask but missing from your input data."));X_(e,i)||e.push(i)}l=new qd(e),c=a.fieldTransforms.filter((e=>l.covers(e.field)))}else l=null,c=a.fieldTransforms;return new T_(new Ef(o),l,c)}class O_ extends k_{_toFieldTransform(e){if(2!==e.du)throw 1===e.du?e.pu("".concat(this._methodName,"() can only appear at the top level of your update data")):e.pu("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof O_}}function j_(e,t,n){return new C_({du:3,wu:t.settings.wu,methodName:e._methodName,Vu:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class L_ extends k_{_toFieldTransform(e){return new Jp(e.path,new zp)}isEqual(e){return e instanceof L_}}class M_ extends k_{constructor(e,t){super(e),this.bu=t}_toFieldTransform(e){const t=j_(this,e,!0),n=this.bu.map((e=>q_(e,t))),r=new qp(n);return new Jp(e.path,r)}isEqual(e){return e instanceof M_&&X(this.bu,e.bu)}}class F_ extends k_{constructor(e,t){super(e),this.bu=t}_toFieldTransform(e){const t=j_(this,e,!0),n=this.bu.map((e=>q_(e,t))),r=new Kp(n);return new Jp(e.path,r)}isEqual(e){return e instanceof F_&&X(this.bu,e.bu)}}class U_ extends k_{constructor(e,t){super(e),this.Du=t}_toFieldTransform(e){const t=new Qp(e.serializer,Mp(e.serializer,this.Du));return new Jp(e.path,t)}isEqual(e){return e instanceof U_&&this.Du===e.Du}}function V_(e,t,n,r){const i=e.Su(1,t,n);H_("Data must be an object, but it was:",i,r);const s=[],a=Ef.empty();jd(r,((e,r)=>{const o=Y_(t,e,n);r=se(r);const l=i.fu(o);if(r instanceof O_)s.push(o);else{const e=q_(r,l);null!=e&&(s.push(o),a.set(o,e))}}));const o=new qd(s);return new N_(a,o,i.fieldTransforms)}function B_(e,t,n,r,i,s){const a=e.Su(1,t,n),o=[Q_(t,r,n)],l=[i];if(s.length%2!=0)throw new ch(lh.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let d=0;d<s.length;d+=2)o.push(Q_(t,s[d])),l.push(s[d+1]);const c=[],u=Ef.empty();for(let d=o.length-1;d>=0;--d)if(!X_(c,o[d])){const e=o[d];let t=l[d];t=se(t);const n=a.fu(e);if(t instanceof O_)c.push(e);else{const r=q_(t,n);null!=r&&(c.push(e),u.set(e,r))}}const h=new qd(c);return new N_(u,h,a.fieldTransforms)}function z_(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return q_(n,e.Su(r?4:3,t))}function q_(e,t){if(K_(e=se(e)))return H_("Unsupported field value:",t,e),G_(e,t);if(e instanceof k_)return function(e,t){if(!A_(t.du))throw t.pu("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.pu("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Vu&&4!==t.du)throw t.pu("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=q_(i,t.gu(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=se(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Mp(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=kh.fromDate(e);return{timestampValue:zm(t.serializer,n)}}if(e instanceof kh){const n=new kh(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:zm(t.serializer,n)}}if(e instanceof S_)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof I_)return{bytesValue:qm(t.serializer,e._byteString)};if(e instanceof i_){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.pu("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:Hm(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.pu("Unsupported field value: ".concat(Xb(e)))}(e,t)}function G_(e,t){const n={};return Ld(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):jd(e,((e,r)=>{const i=q_(r,t.Ru(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function K_(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof kh||e instanceof S_||e instanceof I_||e instanceof i_||e instanceof k_)}function H_(e,t,n){if(!K_(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=Xb(n);throw"an object"===r?t.pu(e+" a custom object"):t.pu(e+" "+r)}}function Q_(e,t,n){if((t=se(t))instanceof E_)return t._internalPath;if("string"==typeof t)return Y_(e,t);throw J_("Field path arguments must be of type string or ",e,!1,void 0,n)}const W_=new RegExp("[~\\*/\\[\\]]");function Y_(e,t,n){if(t.search(W_)>=0)throw J_("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new E_(...t.split("."))._internalPath}catch(qa){throw J_("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function J_(e,t,n,r,i){const s=r&&!r.isEmpty(),a=void 0!==i;let o="Function ".concat(t,"() called with invalid data");n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(s||a)&&(l+=" (found",s&&(l+=" in field ".concat(r)),a&&(l+=" in document ".concat(i)),l+=")"),new ch(lh.INVALID_ARGUMENT,o+e+l)}function X_(e,t){return e.some((e=>e.isEqual(t)))}class Z_{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new i_(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new $_(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(eI("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class $_ extends Z_{data(){return super.data()}}function eI(e,t){return"string"==typeof t?Y_(e,t):t instanceof E_?t._internalPath:t._delegate._internalPath}function tI(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new ch(lh.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class nI{}class rI extends nI{}function iI(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];t instanceof nI&&n.push(t),n=n.concat(i),function(e){const t=e.filter((e=>e instanceof aI)).length,n=e.filter((e=>e instanceof sI)).length;if(t>1||t>0&&n>0)throw new ch(lh.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const a of n)e=a._apply(e);return e}class sI extends rI{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new sI(e,t,n)}_apply(e){const t=this._parse(e);return pI(e._query,t),new r_(e.firestore,e.converter,dp(e._query,t))}_parse(e){const t=R_(e.firestore),n=function(e,t,n,r,i,s,a){let o;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new ch(lh.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(s,"' queries on documentId()."));if("in"===s||"not-in"===s){fI(a,s);const t=[];for(const n of a)t.push(dI(r,e,n));o={arrayValue:{values:t}}}else o=dI(r,e,a)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||fI(a,s),o=z_(n,t,a,"in"===s||"not-in"===s);return Rf.create(i,s,o)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}class aI extends nI{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new aI(e,t)}_parse(e){const t=this._queryConstraints.map((t=>t._parse(e))).filter((e=>e.getFilters().length>0));return 1===t.length?t[0]:Pf.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)pI(n,i),n=dp(n,i)}(e._query,t),new r_(e.firestore,e.converter,dp(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class oI extends rI{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new oI(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new ch(lh.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new ch(lh.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Af(t,n)}(e._query,this._field,this._direction);return new r_(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new ip(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}class lI extends rI{constructor(e,t,n){super(),this.type=e,this._limit=t,this._limitType=n}static _create(e,t,n){return new lI(e,t,n)}_apply(e){return new r_(e.firestore,e.converter,fp(e._query,this._limit,this._limitType))}}class cI extends rI{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new cI(e,t,n)}_apply(e){const t=hI(e,this.type,this._docOrFields,this._inclusive);return new r_(e.firestore,e.converter,function(e,t){return new ip(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}class uI extends rI{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new uI(e,t,n)}_apply(e){const t=hI(e,this.type,this._docOrFields,this._inclusive);return new r_(e.firestore,e.converter,function(e,t){return new ip(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}function hI(e,t,n,r){if(n[0]=se(n[0]),n[0]instanceof Z_)return function(e,t,n,r,i){if(!r)throw new ch(lh.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));const s=[];for(const a of cp(e))if(a.field.isKeyField())s.push(hf(t,r.key));else{const e=r.data.field(a.field);if(Jd(e))throw new ch(lh.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+a.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===e){const e=a.field.canonicalString();throw new ch(lh.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(e,"' (used as the orderBy) does not exist."))}s.push(e)}return new xf(s,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);{const i=R_(e.firestore);return function(e,t,n,r,i,s){const a=e.explicitOrderBy;if(i.length>a.length)throw new ch(lh.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));const o=[];for(let l=0;l<i.length;l++){const s=i[l];if(a[l].field.isKeyField()){if("string"!=typeof s)throw new ch(lh.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof s));if(!lp(e)&&-1!==s.indexOf("/"))throw new ch(lh.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(s,"' contains a slash."));const n=e.path.child(Th.fromString(s));if(!Ch.isDocumentKey(n))throw new ch(lh.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(n,"' is not because it contains an odd number of segments."));const i=new Ch(n);o.push(hf(t,i))}else{const e=z_(n,r,s);o.push(e)}}return new xf(o,s)}(e._query,e.firestore._databaseId,i,t,n,r)}}function dI(e,t,n){if("string"==typeof(n=se(n))){if(""===n)throw new ch(lh.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!lp(t)&&-1!==n.indexOf("/"))throw new ch(lh.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));const r=t.path.child(Th.fromString(n));if(!Ch.isDocumentKey(r))throw new ch(lh.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return hf(e,new Ch(r))}if(n instanceof i_)return hf(e,n._key);throw new ch(lh.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(Xb(n),"."))}function fI(e,t){if(!Array.isArray(e)||0===e.length)throw new ch(lh.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function pI(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new ch(lh.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new ch(lh.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}class mI{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(rf(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Wd(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Yd(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw sh()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return jd(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertGeoPoint(e){return new S_(Wd(e.latitude),Wd(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Xd(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Zd(e));default:return null}}convertTimestamp(e){const t=Qd(e);return new kh(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Th.fromString(e);ah(gg(n));const r=new ef(n.get(1),n.get(3)),i=new Ch(n.popFirst(5));return r.isEqual(t)||nh("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}function gI(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class vI extends mI{constructor(e){super(),this.firestore=e}convertBytes(e){return new I_(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new i_(this.firestore,null,t)}}class yI{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class wI extends Z_{constructor(e,t,n,r,i,s){super(e,t,n,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new bI(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(eI("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class bI extends wI{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class _I{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new yI(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new bI(this._firestore,this._userDataWriter,n.key,n,new yI(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new ch(lh.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const r=new bI(e._firestore,e._userDataWriter,n.doc.key,n.doc,new yI(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new bI(e._firestore,e._userDataWriter,t.doc.key,t.doc,new yI(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,s=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),s=n.indexOf(t.doc.key)),{type:II(t.type),doc:r,oldIndex:i,newIndex:s}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function II(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return sh()}}function EI(e,t){return e instanceof wI&&t instanceof wI?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof _I&&t instanceof _I&&e._firestore===t._firestore&&c_(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}class kI extends mI{constructor(e){super(),this.firestore=e}convertBytes(e){return new I_(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new i_(this.firestore,null,t)}}function SI(e){e=Zb(e,i_);const t=Zb(e.firestore,f_),n=p_(t),r=new kI(t);return function(e,t){const n=new uh;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){try{const r=await function(e,t){const n=oh(e);return n.persistence.runTransaction("read document","readonly",(e=>n.localDocuments.getDocument(e,t)))}(e,t);r.isFoundDocument()?n.resolve(r):r.isNoDocument()?n.resolve(null):n.reject(new ch(lh.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(e){const r=Sw(e,"Failed to get document '".concat(t," from cache"));n.reject(r)}}(await Mb(e),t,n))),n.promise}(n,e._key).then((n=>new wI(t,r,e._key,n,new yI(null!==n&&n.hasLocalMutations,!0),e.converter)))}function xI(e){e=Zb(e,r_);const t=Zb(e.firestore,f_),n=p_(t),r=new kI(t);return function(e,t){const n=new uh;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){try{const r=await vy(e,t,!0),i=new qw(t,r.hs),s=i.ha(r.documents),a=i.applyChanges(s,!1);n.resolve(a.snapshot)}catch(e){const r=Sw(e,"Failed to execute query '".concat(t," against cache"));n.reject(r)}}(await Mb(e),t,n))),n.promise}(n,e._query).then((n=>new _I(t,r,e,n)))}function TI(e,t,n){e=Zb(e,i_);const r=Zb(e.firestore,f_),i=gI(e.converter,t,n);return DI(r,[P_(R_(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Zp.none())])}function NI(e,t,n){e=Zb(e,i_);const r=Zb(e.firestore,f_),i=R_(r);let s;for(var a=arguments.length,o=new Array(a>3?a-3:0),l=3;l<a;l++)o[l-3]=arguments[l];return s="string"==typeof(t=se(t))||t instanceof E_?B_(i,"updateDoc",e._key,t,n,o):V_(i,"updateDoc",e._key,t),DI(r,[s.toMutation(e._key,Zp.exists(!0))])}function AI(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,s,a;e=se(e);let o={includeMetadataChanges:!1},l=0;"object"!=typeof n[l]||h_(n[l])||(o=n[l],l++);const c={includeMetadataChanges:o.includeMetadataChanges};if(h_(n[l])){const e=n[l];n[l]=null===(i=e.next)||void 0===i?void 0:i.bind(e),n[l+1]=null===(s=e.error)||void 0===s?void 0:s.bind(e),n[l+2]=null===(a=e.complete)||void 0===a?void 0:a.bind(e)}let u,h,d;if(e instanceof i_)h=Zb(e.firestore,f_),d=ap(e._key.path),u={next:t=>{n[l]&&n[l](RI(h,e,t))},error:n[l+1],complete:n[l+2]};else{const t=Zb(e,r_);h=Zb(t.firestore,f_),d=t._query;const r=new kI(h);u={next:e=>{n[l]&&n[l](new _I(h,r,t,e))},error:n[l+1],complete:n[l+2]},tI(e._query)}return function(e,t,n,r){const i=new xb(r),s=new Lw(t,i,n);return e.asyncQueue.enqueueAndForget((async()=>Dw(await Bb(e),s))),()=>{i.La(),e.asyncQueue.enqueueAndForget((async()=>Rw(await Bb(e),s)))}}(p_(h),d,c,u)}function CI(e,t){return function(e,t){const n=new xb(t);return e.asyncQueue.enqueueAndForget((async()=>function(e,t){oh(e).K_.add(t),t.next()}(await Bb(e),n))),()=>{n.La(),e.asyncQueue.enqueueAndForget((async()=>function(e,t){oh(e).K_.delete(t)}(await Bb(e),n)))}}(p_(e=Zb(e,f_)),h_(t)?t:{next:t})}function DI(e,t){return function(e,t){const n=new uh;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=bb(e);try{const e=await function(e,t){const n=oh(e),r=kh.now(),i=t.reduce(((e,t)=>e.add(t.key)),Rp());let s,a;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let o=Ep(),l=Rp();return n.os.getEntries(e,i).next((e=>{o=e,o.forEach(((e,t)=>{t.isValidDocument()||(l=l.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,o))).next((i=>{s=i;const a=[];for(const e of t){const t=im(e,s.get(e.key).overlayedDocument);null!=t&&a.push(new om(e.key,t,kf(t.value.mapValue),Zp.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,a,t)})).next((t=>{a=t;const r=t.applyToLocalDocumentSet(s,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:a.batchId,changes:xp(s)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Da[e.currentUser.toKey()];r||(r=new Md(_h)),r=r.insert(t,n),e.Da[e.currentUser.toKey()]=r}(r,e.batchId,n),await lb(r,e.changes),await hw(r.remoteStore)}catch(e){const t=Sw(e,"Failed to persist write");n.reject(t)}}(await Ub(e),t,n))),n.promise}(p_(e),t)}function RI(e,t,n){const r=n.docs.get(t._key),i=new kI(e);return new wI(e,i,t._key,r,new yI(n.hasPendingWrites,n.fromCache),t.converter)}const PI={maxAttempts:5};class OI{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=R_(e)}set(e,t,n){this._verifyNotCommitted();const r=jI(e,this._firestore),i=gI(r.converter,t,n),s=P_(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(s.toMutation(r._key,Zp.none())),this}update(e,t,n){this._verifyNotCommitted();const r=jI(e,this._firestore);let i;for(var s=arguments.length,a=new Array(s>3?s-3:0),o=3;o<s;o++)a[o-3]=arguments[o];return i="string"==typeof(t=se(t))||t instanceof E_?B_(this._dataReader,"WriteBatch.update",r._key,t,n,a):V_(this._dataReader,"WriteBatch.update",r._key,t),this._mutations.push(i.toMutation(r._key,Zp.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=jI(e,this._firestore);return this._mutations=this._mutations.concat(new hm(t._key,Zp.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ch(lh.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function jI(e,t){if((e=se(e)).firestore!==t)throw new ch(lh.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}class LI extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=R_(e)}get(e){const t=jI(e,this._firestore),n=new vI(this._firestore);return this._transaction.lookup([t._key]).then((e=>{if(!e||1!==e.length)return sh();const r=e[0];if(r.isFoundDocument())return new Z_(this._firestore,n,r.key,r,t.converter);if(r.isNoDocument())return new Z_(this._firestore,n,t._key,null,t.converter);throw sh()}))}set(e,t,n){const r=jI(e,this._firestore),i=gI(r.converter,t,n),s=P_(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,s),this}update(e,t,n){const r=jI(e,this._firestore);let i;for(var s=arguments.length,a=new Array(s>3?s-3:0),o=3;o<s;o++)a[o-3]=arguments[o];return i="string"==typeof(t=se(t))||t instanceof E_?B_(this._dataReader,"Transaction.update",r._key,t,n,a):V_(this._dataReader,"Transaction.update",r._key,t),this._transaction.update(r._key,i),this}delete(e){const t=jI(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=jI(e,this._firestore),n=new kI(this._firestore);return super.get(e).then((e=>new wI(this._firestore,n,t._key,e._document,new yI(!1,!1),t.converter)))}}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Zu=e}(Je),Ge(new ae("firestore",((e,n)=>{let{instanceIdentifier:r,options:i}=n;const s=e.getProvider("app").getImmediate(),a=new f_(new ph(e.getProvider("auth-internal")),new yh(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new ch(lh.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ef(e.options.projectId,t)}(s,r),s);return i=Object.assign({useFetchStreams:t},i),a._setSettings(i),a}),"PUBLIC").setMultipleInstances(!0)),tt(Ju,"4.4.2",e),tt(Ju,"4.4.2","esm2017")}();function MI(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new ch("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function FI(){if("undefined"===typeof Uint8Array)throw new ch("unimplemented","Uint8Arrays are not available in this environment.")}function UI(){if("undefined"==typeof atob)throw new ch("unimplemented","Blobs are unavailable in Firestore in this environment.")}class VI{constructor(e){this._delegate=e}static fromBase64String(e){return UI(),new VI(I_.fromBase64String(e))}static fromUint8Array(e){return FI(),new VI(I_.fromUint8Array(e))}toBase64(){return UI(),this._delegate.toBase64()}toUint8Array(){return FI(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function BI(e){return function(e,t){if("object"!==typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"===typeof n[r])return!0;return!1}(e,["next","error","complete"])}class zI{enableIndexedDbPersistence(e,t){return function(e,t){__(e=Zb(e,f_));const n=p_(e);if(n._uninitializedComponentsProvider)throw new ch(lh.FAILED_PRECONDITION,"SDK cache is already specified.");rh("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=e._freezeSettings(),i=new kb;return g_(n,i,new Ib(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function(e){__(e=Zb(e,f_));const t=p_(e);if(t._uninitializedComponentsProvider)throw new ch(lh.FAILED_PRECONDITION,"SDK cache is already specified.");rh("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=e._freezeSettings(),r=new kb;return g_(t,r,new Eb(r,n.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function(e){if(e._initialized&&!e._terminated)throw new ch(lh.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new uh;return e._queue.enqueueAndForgetEvenWhileRestricted((async()=>{try{await async function(e){if(!Kh.D())return Promise.resolve();const t=e+"main";await Kh.delete(t)}(sy(e._databaseId,e._persistenceKey)),t.resolve()}catch(e){t.reject(e)}})),t.promise}(e._delegate)}}class qI{constructor(e,t,n){this._delegate=t,this._persistenceProvider=n,this.INTERNAL={delete:()=>this.terminate()},e instanceof ef||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();e.merge||t.host===e.host||rh("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};n_(this._delegate,e,t,n)}enableNetwork(){return y_(this._delegate)}disableNetwork(){return w_(this._delegate)}enablePersistence(e){let t=!1,n=!1;return e&&(t=!!e.synchronizeTabs,n=!!e.experimentalForceOwningTab,Wb("synchronizeTabs",t,"experimentalForceOwningTab",n)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return v_(this._delegate)}onSnapshotsInSync(e){return CI(this._delegate,e)}get app(){if(!this._appCompat)throw new ch("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new rE(this,a_(this._delegate,e))}catch(t){throw YI(t,"collection()","Firestore.collection()")}}doc(e){try{return new WI(this,o_(this._delegate,e))}catch(t){throw YI(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new eE(this,function(e,t){if(e=Zb(e,t_),Qb("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new ch(lh.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new r_(e,null,function(e){return new ip(Th.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw YI(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function(e,t,n){e=Zb(e,f_);const r=Object.assign(Object.assign({},PI),n);return function(e){if(e.maxAttempts<1)throw new ch(lh.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){const r=new uh;return e.asyncQueue.enqueueAndForget((async()=>{const i=await Vb(e);new Ab(e.asyncQueue,i,n,t,r).ja()})),r.promise}(p_(e),(n=>t(new LI(e,n))),r)}(this._delegate,(t=>e(new KI(this,t))))}batch(){return p_(this._delegate),new HI(new OI(this._delegate,(e=>DI(this._delegate,e))))}loadBundle(e){return function(e,t){const n=p_(e=Zb(e,f_)),r=new d_;return Gb(n,e._databaseId,t,r),r}(this._delegate,e)}namedQuery(e){return b_(this._delegate,e).then((e=>e?new eE(this,e):null))}}class GI extends mI{constructor(e){super(),this.firestore=e}convertBytes(e){return new VI(new I_(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return WI.forKey(t,this.firestore,null)}}class KI{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new GI(e)}get(e){const t=iE(e);return this._delegate.get(t).then((e=>new ZI(this._firestore,new wI(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,t.converter))))}set(e,t,n){const r=iE(e);return n?(MI("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),s=3;s<r;s++)i[s-3]=arguments[s];const a=iE(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,n,...i),this}delete(e){const t=iE(e);return this._delegate.delete(t),this}}class HI{constructor(e){this._delegate=e}set(e,t,n){const r=iE(e);return n?(MI("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),s=3;s<r;s++)i[s-3]=arguments[s];const a=iE(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,n,...i),this}delete(e){const t=iE(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class QI{constructor(e,t,n){this._firestore=e,this._userDataWriter=t,this._delegate=n}fromFirestore(e,t){const n=new bI(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new $I(this._firestore,n),null!==t&&void 0!==t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const n=QI.INSTANCES;let r=n.get(e);r||(r=new WeakMap,n.set(e,r));let i=r.get(t);return i||(i=new QI(e,new GI(e),t),r.set(t,i)),i}}QI.INSTANCES=new WeakMap;class WI{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new GI(e)}static forPath(e,t,n){if(e.length%2!==0)throw new ch("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(e.canonicalString()," has ").concat(e.length));return new WI(t,new i_(t._delegate,n,new Ch(e)))}static forKey(e,t,n){return new WI(t,new i_(t._delegate,n,e))}get id(){return this._delegate.id}get parent(){return new rE(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new rE(this.firestore,a_(this._delegate,e))}catch(t){throw YI(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=se(e))instanceof i_&&l_(this._delegate,e)}set(e,t){t=MI("DocumentReference.set",t);try{return t?TI(this._delegate,e,t):TI(this._delegate,e)}catch(n){throw YI(n,"setDoc()","DocumentReference.set()")}}update(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?NI(this._delegate,e):NI(this._delegate,e,t,...r)}catch(s){throw YI(s,"updateDoc()","DocumentReference.update()")}}delete(){return DI(Zb((e=this._delegate).firestore,f_),[new hm(e._key,Zp.none())]);var e}onSnapshot(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=JI(t),i=XI(t,(e=>new ZI(this.firestore,new wI(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter))));return AI(this._delegate,r,i)}get(e){let t;return t="cache"===(null===e||void 0===e?void 0:e.source)?SI(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=Zb(e,i_);const t=Zb(e.firestore,f_);return zb(p_(t),e._key,{source:"server"}).then((n=>RI(t,e,n)))}(this._delegate):function(e){e=Zb(e,i_);const t=Zb(e.firestore,f_);return zb(p_(t),e._key).then((n=>RI(t,e,n)))}(this._delegate),t.then((e=>new ZI(this.firestore,new wI(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter))))}withConverter(e){return new WI(this.firestore,e?this._delegate.withConverter(QI.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function YI(e,t,n){return e.message=e.message.replace(t,n),e}function JI(e){for(const t of e)if("object"===typeof t&&!BI(t))return t;return{}}function XI(e,t){var n,r;let i;return i=BI(e[0])?e[0]:BI(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]},{next:e=>{i.next&&i.next(t(e))},error:null===(n=i.error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class ZI{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new WI(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return EI(this._delegate,e._delegate)}}class $I extends ZI{data(e){const t=this._delegate.data(e);return this._delegate._converter||void 0!==t||sh(),t}}class eE{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new GI(e)}where(e,t,n){try{return new eE(this.firestore,iI(this._delegate,function(e,t,n){const r=t,i=eI("where",e);return sI._create(i,r,n)}(e,t,n)))}catch(r){throw YI(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new eE(this.firestore,iI(this._delegate,function(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=eI("orderBy",e);return oI._create(n,t)}(e,t)))}catch(n){throw YI(n,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new eE(this.firestore,iI(this._delegate,($b("limit",t=e),lI._create("limit",t,"F"))))}catch(t){throw YI(t,"limit()","Query.limit()")}var t}limitToLast(e){try{return new eE(this.firestore,iI(this._delegate,($b("limitToLast",t=e),lI._create("limitToLast",t,"L"))))}catch(t){throw YI(t,"limitToLast()","Query.limitToLast()")}var t}startAt(){try{return new eE(this.firestore,iI(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return cI._create("startAt",t,!0)}(...arguments)))}catch(e){throw YI(e,"startAt()","Query.startAt()")}}startAfter(){try{return new eE(this.firestore,iI(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return cI._create("startAfter",t,!1)}(...arguments)))}catch(e){throw YI(e,"startAfter()","Query.startAfter()")}}endBefore(){try{return new eE(this.firestore,iI(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return uI._create("endBefore",t,!1)}(...arguments)))}catch(e){throw YI(e,"endBefore()","Query.endBefore()")}}endAt(){try{return new eE(this.firestore,iI(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return uI._create("endAt",t,!0)}(...arguments)))}catch(e){throw YI(e,"endAt()","Query.endAt()")}}isEqual(e){return c_(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null===e||void 0===e?void 0:e.source)?xI(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=Zb(e,r_);const t=Zb(e.firestore,f_),n=p_(t),r=new kI(t);return qb(n,e._query,{source:"server"}).then((n=>new _I(t,r,e,n)))}(this._delegate):function(e){e=Zb(e,r_);const t=Zb(e.firestore,f_),n=p_(t),r=new kI(t);return tI(e._query),qb(n,e._query).then((n=>new _I(t,r,e,n)))}(this._delegate),t.then((e=>new nE(this.firestore,new _I(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot))))}onSnapshot(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=JI(t),i=XI(t,(e=>new nE(this.firestore,new _I(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot))));return AI(this._delegate,r,i)}withConverter(e){return new eE(this.firestore,e?this._delegate.withConverter(QI.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class tE{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new $I(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class nE{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new eE(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map((e=>new $I(this._firestore,e)))}docChanges(e){return this._delegate.docChanges(e).map((e=>new tE(this._firestore,e)))}forEach(e,t){this._delegate.forEach((n=>{e.call(t,new $I(this._firestore,n))}))}isEqual(e){return EI(this._delegate,e._delegate)}}class rE extends eE{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new WI(this.firestore,e):null}doc(e){try{return new WI(this.firestore,void 0===e?o_(this._delegate):o_(this._delegate,e))}catch(t){throw YI(t,"doc()","CollectionReference.doc()")}}add(e){return function(e,t){const n=Zb(e.firestore,f_),r=o_(e),i=gI(e.converter,t);return DI(n,[P_(R_(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Zp.exists(!1))]).then((()=>r))}(this._delegate,e).then((e=>new WI(this.firestore,e)))}isEqual(e){return l_(this._delegate,e._delegate)}withConverter(e){return new rE(this.firestore,e?this._delegate.withConverter(QI.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function iE(e){return Zb(e,i_)}class sE{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._delegate=new E_(...t)}static documentId(){return new sE(Ah.keyField().canonicalString())}isEqual(e){return(e=se(e))instanceof E_&&this._delegate._internalPath.isEqual(e._internalPath)}}class aE{constructor(e){this._delegate=e}static serverTimestamp(){const e=new L_("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new aE(e)}static delete(){const e=new O_("deleteField");return e._methodName="FieldValue.delete",new aE(e)}static arrayUnion(){const e=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new M_("arrayUnion",t)}(...arguments);return e._methodName="FieldValue.arrayUnion",new aE(e)}static arrayRemove(){const e=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new F_("arrayRemove",t)}(...arguments);return e._methodName="FieldValue.arrayRemove",new aE(e)}static increment(e){const t=new U_("increment",e);return t._methodName="FieldValue.increment",new aE(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const oE={Firestore:qI,GeoPoint:S_,Timestamp:kh,Blob:VI,Transaction:KI,WriteBatch:HI,DocumentReference:WI,DocumentSnapshot:ZI,Query:eE,QueryDocumentSnapshot:$I,QuerySnapshot:nE,CollectionReference:rE,FieldPath:sE,FieldValue:aE,setLogLevel:function(e){var t;t=e,$u.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new ae("firestore-compat",(e=>{const n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},oE)))}(e,((e,t)=>new qI(e,t,new zI))),e.registerVersion("@firebase/firestore-compat","0.3.25")}(bt);const lE="firebasestorage.googleapis.com",cE="storageBucket";class uE extends Q{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;super(fE(e),"Firebase Storage: ".concat(t," (").concat(fE(e),")")),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,uE.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return fE(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}var hE,dE;function fE(e){return"storage/"+e}function pE(){return new uE(hE.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function mE(){return new uE(hE.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function gE(){return new uE(hE.CANCELED,"User canceled the upload/download.")}function vE(){return new uE(hE.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function yE(e){return new uE(hE.INVALID_ARGUMENT,e)}function wE(){return new uE(hE.APP_DELETED,"The Firebase app was deleted.")}function bE(e){return new uE(hE.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function _E(e,t){return new uE(hE.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function IE(e){throw new uE(hE.INTERNAL_ERROR,"Internal error: "+e)}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(hE||(hE={}));class EE{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=EE.makeFromUrl(e,t)}catch(i){return new EE(e,"")}if(""===n.path)return n;throw r=e,new uE(hE.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.");var r}static makeFromUrl(e,t){let n=null;const r="([A-Za-z0-9.\\-_]+)";const i=new RegExp("^gs://"+r+"(/(.*))?$","i");function s(e){e.path_=decodeURIComponent(e.path)}const a=t.replace(/[.]/g,"\\."),o=[{regex:i,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(a,"/").concat("v[A-Za-z0-9_]+","/b/").concat(r,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:s},{regex:new RegExp("^https?://".concat(t===lE?"(?:storage.googleapis.com|storage.cloud.google.com)":t,"/").concat(r,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:s}];for(let l=0;l<o.length;l++){const t=o[l],r=t.regex.exec(e);if(r){const e=r[t.indices.bucket];let i=r[t.indices.path];i||(i=""),n=new EE(e,i),t.postModify(n);break}}if(null==n)throw function(e){return new uE(hE.INVALID_URL,"Invalid URL '"+e+"'.")}(e);return n}}class kE{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(){}}function SE(e){return"string"===typeof e||e instanceof String}function xE(e){return TE()&&e instanceof Blob}function TE(){return"undefined"!==typeof Blob}function NE(e,t,n,r){if(r<t)throw yE("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw yE("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function AE(e,t,n){let r=t;return null==n&&(r="https://".concat(t)),"".concat(n,"://").concat(r,"/v0").concat(e)}function CE(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1),n}function DE(e,t){const n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),i=-1!==t.indexOf(e);return n||r||i}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(dE||(dE={}));class RE{constructor(e,t,n,r,i,s,a,o,l,c,u){let h=!(arguments.length>11&&void 0!==arguments[11])||arguments[11];this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=o,this.timeout_=l,this.progressCallback_=c,this.connectionFactory_=u,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise(((e,t)=>{this.resolve_=e,this.reject_=t,this.start_()}))}start_(){const e=(e,t)=>{if(t)return void e(!1,new PE(!1,null,!0));const n=this.connectionFactory_();this.pendingConnection_=n;const r=e=>{const t=e.loaded,n=e.lengthComputable?e.total:-1;null!==this.progressCallback_&&this.progressCallback_(t,n)};null!==this.progressCallback_&&n.addUploadProgressListener(r),n.send(this.url_,this.method_,this.body_,this.headers_).then((()=>{null!==this.progressCallback_&&n.removeUploadProgressListener(r),this.pendingConnection_=null;const t=n.getErrorCode()===dE.NO_ERROR,i=n.getStatus();if(!t||DE(i,this.additionalRetryCodes_)&&this.retry){const t=n.getErrorCode()===dE.ABORT;return void e(!1,new PE(!1,null,t))}const s=-1!==this.successCodes_.indexOf(i);e(!0,new PE(s,n))}))},t=(e,t)=>{const n=this.resolve_,r=this.reject_,i=t.connection;if(t.wasSuccessCode)try{const e=this.callback_(i,i.getResponse());!function(e){return void 0!==e}(e)?n():n(e)}catch(s){r(s)}else if(null!==i){const e=pE();e.serverResponse=i.getErrorText(),this.errorCallback_?r(this.errorCallback_(i,e)):r(e)}else if(t.canceled){r(this.appDelete_?wE():gE())}else{r(mE())}};this.canceled_?t(0,new PE(!1,null,!0)):this.backoffId_=function(e,t,n){let r=1,i=null,s=null,a=!1,o=0;function l(){return 2===o}let c=!1;function u(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function h(t){i=setTimeout((()=>{i=null,e(f,l())}),t)}function d(){s&&clearTimeout(s)}function f(e){if(c)return void d();for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return d(),void u.call(null,e,...n);if(l()||a)return d(),void u.call(null,e,...n);let s;r<64&&(r*=2),1===o?(o=2,s=0):s=1e3*(r+Math.random()),h(s)}let p=!1;function m(e){p||(p=!0,d(),c||(null!==i?(e||(o=2),clearTimeout(i),h(0)):e||(o=1)))}return h(0),s=setTimeout((()=>{a=!0,m(!0)}),n),m}(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class PE{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function OE(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function jE(){const e=OE();for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){const t=new e;for(let e=0;e<n.length;e++)t.append(n[e]);return t.getBlob()}if(TE())return new Blob(n);throw new uE(hE.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}function LE(e){if("undefined"===typeof atob)throw t="base-64",new uE(hE.UNSUPPORTED_ENVIRONMENT,"".concat(t," is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information."));var t;return atob(e)}const ME={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class FE{constructor(e,t){this.data=e,this.contentType=t||null}}function UE(e,t){switch(e){case ME.RAW:return new FE(VE(t));case ME.BASE64:case ME.BASE64URL:return new FE(BE(e,t));case ME.DATA_URL:return new FE(function(e){const t=new zE(e);return t.base64?BE(ME.BASE64,t.rest):function(e){let t;try{t=decodeURIComponent(e)}catch(n){throw _E(ME.DATA_URL,"Malformed data URL.")}return VE(t)}(t.rest)}(t),new zE(t).contentType)}throw pE()}function VE(e){const t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r)){if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1))){r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else t.push(239,191,189)}else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function BE(e,t){switch(e){case ME.BASE64:{const n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r){throw _E(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?")}break}case ME.BASE64URL:{const n=-1!==t.indexOf("+"),r=-1!==t.indexOf("/");if(n||r){throw _E(e,"Invalid character '"+(n?"+":"/")+"' found: is it base64 encoded?")}t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=LE(t)}catch(i){if(i.message.includes("polyfill"))throw i;throw _E(e,"Invalid character found")}const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}class zE{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw _E(ME.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=t[1]||null;null!=n&&(this.base64=function(e,t){if(!(e.length>=t.length))return!1;return e.substring(e.length-t.length)===t}(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(",")+1)}}class qE{constructor(e,t){let n=0,r="";xE(e)?(this.data_=e,n=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,t){if(xE(this.data_)){const n=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,e,t);return null===n?null:new qE(n)}{const n=new Uint8Array(this.data_.buffer,e,t-e);return new qE(n,!0)}}static getBlob(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(TE()){const e=t.map((e=>e instanceof qE?e.data_:e));return new qE(jE.apply(null,e))}{const e=t.map((e=>SE(e)?UE(ME.RAW,e).data:e.data_));let n=0;e.forEach((e=>{n+=e.byteLength}));const r=new Uint8Array(n);let i=0;return e.forEach((e=>{for(let t=0;t<e.length;t++)r[i++]=e[t]})),new qE(r,!0)}}uploadData(){return this.data_}}function GE(e){let t;try{t=JSON.parse(e)}catch(n){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function KE(e){const t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function HE(e,t){return t}class QE{constructor(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||HE}}let WE=null;function YE(){if(WE)return WE;const e=[];e.push(new QE("bucket")),e.push(new QE("generation")),e.push(new QE("metageneration")),e.push(new QE("name","fullPath",!0));const t=new QE("name");t.xform=function(e,t){return function(e){return!SE(e)||e.length<2?e:KE(e)}(t)},e.push(t);const n=new QE("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new QE("timeCreated")),e.push(new QE("updated")),e.push(new QE("md5Hash",null,!0)),e.push(new QE("cacheControl",null,!0)),e.push(new QE("contentDisposition",null,!0)),e.push(new QE("contentEncoding",null,!0)),e.push(new QE("contentLanguage",null,!0)),e.push(new QE("contentType",null,!0)),e.push(new QE("metadata","customMetadata",!0)),WE=e,WE}function JE(e,t,n){const r={type:"file"},i=n.length;for(let s=0;s<i;s++){const e=n[s];r[e.local]=e.xform(r,t[e.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){const n=e.bucket,r=e.fullPath,i=new EE(n,r);return t._makeStorageReference(i)}})}(r,e),r}function XE(e,t,n){const r=GE(t);if(null===r)return null;return JE(e,r,n)}function ZE(e,t){const n={},r=t.length;for(let i=0;i<r;i++){const r=t[i];r.writable&&(n[r.server]=e[r.local])}return JSON.stringify(n)}const $E="prefixes",ek="items";function tk(e,t,n){const r=GE(n);if(null===r)return null;return function(e,t,n){const r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[$E])for(const i of n[$E]){const n=i.replace(/\/$/,""),s=e._makeStorageReference(new EE(t,n));r.prefixes.push(s)}if(n[ek])for(const i of n[ek]){const n=e._makeStorageReference(new EE(t,i.name));r.items.push(n)}return r}(e,t,r)}class nk{constructor(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function rk(e){if(!e)throw pE()}function ik(e,t){return function(n,r){const i=XE(e,r,t);return rk(null!==i),i}}function sk(e,t){return function(n,r){const i=XE(e,r,t);return rk(null!==i),function(e,t,n,r){const i=GE(t);if(null===i)return null;if(!SE(i.downloadTokens))return null;const s=i.downloadTokens;if(0===s.length)return null;const a=encodeURIComponent;return s.split(",").map((t=>{const i=e.bucket,s=e.fullPath;return AE("/b/"+a(i)+"/o/"+a(s),n,r)+CE({alt:"media",token:t})}))[0]}(i,r,e.host,e._protocol)}}function ak(e){return function(t,n){let r;var i,s;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new uE(hE.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project."):new uE(hE.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(s=e.bucket,r=new uE(hE.QUOTA_EXCEEDED,"Quota for bucket '"+s+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new uE(hE.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")):r=n,r.status=t.getStatus(),r.serverResponse=n.serverResponse,r}}function ok(e){const t=ak(e);return function(n,r){let i=t(n,r);var s;return 404===n.getStatus()&&(s=e.path,i=new uE(hE.OBJECT_NOT_FOUND,"Object '"+s+"' does not exist.")),i.serverResponse=r.serverResponse,i}}function lk(e,t,n){const r=AE(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,s=new nk(r,"GET",ik(e,n),i);return s.errorHandler=ok(t),s}function ck(e,t,n,r,i){const s={};t.isRoot?s.prefix="":s.prefix=t.path+"/",n&&n.length>0&&(s.delimiter=n),r&&(s.pageToken=r),i&&(s.maxResults=i);const a=AE(t.bucketOnlyServerUrl(),e.host,e._protocol),o=e.maxOperationRetryTime,l=new nk(a,"GET",function(e,t){return function(n,r){const i=tk(e,t,r);return rk(null!==i),i}}(e,t.bucket),o);return l.urlParams=s,l.errorHandler=ak(t),l}function uk(e,t,n){const r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function hk(e,t,n,r,i){const s=t.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};const o=function(){let e="";for(let t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();a["Content-Type"]="multipart/related; boundary="+o;const l=uk(t,r,i),c="--"+o+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+ZE(l,n)+"\r\n--"+o+"\r\nContent-Type: "+l.contentType+"\r\n\r\n",u="\r\n--"+o+"--",h=qE.getBlob(c,r,u);if(null===h)throw vE();const d={name:l.fullPath},f=AE(s,e.host,e._protocol),p=e.maxUploadRetryTime,m=new nk(f,"POST",ik(e,n),p);return m.urlParams=d,m.headers=a,m.body=h.uploadData(),m.errorHandler=ak(t),m}class dk{constructor(e,t,n,r){this.current=e,this.total=t,this.finalized=!!n,this.metadata=r||null}}function fk(e,t){let n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(r){rk(!1)}return rk(!!n&&-1!==(t||["active"]).indexOf(n)),n}const pk=262144;function mk(e,t,n,r,i,s,a,o){const l=new dk(0,0);if(a?(l.current=a.current,l.total=a.total):(l.current=0,l.total=r.size()),r.size()!==l.total)throw new uE(hE.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.");const c=l.total-l.current;let u=c;i>0&&(u=Math.min(u,i));const h=l.current,d=h+u;let f="";f=0===u?"finalize":c===u?"upload, finalize":"upload";const p={"X-Goog-Upload-Command":f,"X-Goog-Upload-Offset":"".concat(l.current)},m=r.slice(h,d);if(null===m)throw vE();const g=t.maxUploadRetryTime,v=new nk(n,"POST",(function(e,n){const i=fk(e,["active","final"]),a=l.current+u,o=r.size();let c;return c="final"===i?ik(t,s)(e,n):null,new dk(a,o,"final"===i,c)}),g);return v.headers=p,v.body=m.uploadData(),v.progressCallback=o||null,v.errorHandler=ak(e),v}const gk={STATE_CHANGED:"state_changed"},vk={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function yk(e){switch(e){case"running":case"pausing":case"canceling":return vk.RUNNING;case"paused":return vk.PAUSED;case"success":return vk.SUCCESS;case"canceled":return vk.CANCELED;default:return vk.ERROR}}class wk{constructor(e,t,n){const r=function(e){return"function"===typeof e}(e)||null!=t||null!=n;if(r)this.next=e,this.error=null!==t&&void 0!==t?t:void 0,this.complete=null!==n&&void 0!==n?n:void 0;else{const t=e;this.next=t.next,this.error=t.error,this.complete=t.complete}}}function bk(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Promise.resolve().then((()=>e(...n)))}}let _k=null;class Ik{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=dE.NO_ERROR,this.sendPromise_=new Promise((e=>{this.xhr_.addEventListener("abort",(()=>{this.errorCode_=dE.ABORT,e()})),this.xhr_.addEventListener("error",(()=>{this.errorCode_=dE.NETWORK_ERROR,e()})),this.xhr_.addEventListener("load",(()=>{e()}))}))}send(e,t,n,r){if(this.sent_)throw IE("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(const i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw IE("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw IE("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}getResponse(){if(!this.sent_)throw IE("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw IE("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class Ek extends Ik{initXhr(){this.xhr_.responseType="text"}}function kk(){return _k?_k():new Ek}class Sk{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=n,this._mappings=YE(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=e=>{if(this._request=void 0,this._chunkMultiplier=1,e._codeEquals(hE.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const t=this.isExponentialBackoffExpired();if(DE(e.status,[])){if(!t)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();e=mE()}this._error=e,this._transition("error")}},this._metadataErrorHandler=e=>{this._request=void 0,e._codeEquals(hE.CANCELED)?this.completeTransitions_():(this._error=e,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise(((e,t)=>{this._resolve=e,this._reject=t,this._start()})),this._promise.then(null,(()=>{}))}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout((()=>{this.pendingTimeout=void 0,this._continueUpload()}),this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((t=>{let[n,r]=t;switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}}))}_createResumable(){this._resolveToken(((e,t)=>{const n=function(e,t,n,r,i){const s=t.bucketOnlyServerUrl(),a=uk(t,r,i),o={name:a.fullPath},l=AE(s,e.host,e._protocol),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":"".concat(r.size()),"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},u=ZE(a,n),h=e.maxUploadRetryTime,d=new nk(l,"POST",(function(e){let t;fk(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(n){rk(!1)}return rk(SE(t)),t}),h);return d.urlParams=o,d.headers=c,d.body=u,d.errorHandler=ak(t),d}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(n,kk,e,t);this._request=r,r.getPromise().then((e=>{this._request=void 0,this._uploadUrl=e,this._needToFetchStatus=!1,this.completeTransitions_()}),this._errorHandler)}))}_fetchStatus(){const e=this._uploadUrl;this._resolveToken(((t,n)=>{const r=function(e,t,n,r){const i=e.maxUploadRetryTime,s=new nk(n,"POST",(function(e){const t=fk(e,["active","final"]);let n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(s){rk(!1)}n||rk(!1);const i=Number(n);return rk(!isNaN(i)),new dk(i,r.size(),"final"===t)}),i);return s.headers={"X-Goog-Upload-Command":"query"},s.errorHandler=ak(t),s}(this._ref.storage,this._ref._location,e,this._blob),i=this._ref.storage._makeRequest(r,kk,t,n);this._request=i,i.getPromise().then((e=>{this._request=void 0,this._updateProgress(e.current),this._needToFetchStatus=!1,e.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()}),this._errorHandler)}))}_continueUpload(){const e=pk*this._chunkMultiplier,t=new dk(this._transferred,this._blob.size()),n=this._uploadUrl;this._resolveToken(((r,i)=>{let s;try{s=mk(this._ref._location,this._ref.storage,n,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(o){return this._error=o,void this._transition("error")}const a=this._ref.storage._makeRequest(s,kk,r,i,!1);this._request=a,a.getPromise().then((e=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(e.current),e.finalized?(this._metadata=e.metadata,this._transition("success")):this.completeTransitions_()}),this._errorHandler)}))}_increaseMultiplier(){2*(pk*this._chunkMultiplier)<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken(((e,t)=>{const n=lk(this._ref.storage,this._ref._location,this._mappings),r=this._ref.storage._makeRequest(n,kk,e,t);this._request=r,r.getPromise().then((e=>{this._request=void 0,this._metadata=e,this._transition("success")}),this._metadataErrorHandler)}))}_oneShotUpload(){this._resolveToken(((e,t)=>{const n=hk(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(n,kk,e,t);this._request=r,r.getPromise().then((e=>{this._request=void 0,this._metadata=e,this._updateProgress(this._blob.size()),this._transition("success")}),this._errorHandler)}))}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=gE(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=yk(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,n,r){const i=new wk(t||void 0,n||void 0,r||void 0);return this._addObserver(i),()=>{this._removeObserver(i)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise();this._observers.slice().forEach((e=>{this._notifyObserver(e)}))}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(yk(this._state)){case vk.SUCCESS:bk(this._resolve.bind(null,this.snapshot))();break;case vk.CANCELED:case vk.ERROR:bk(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(yk(this._state)){case vk.RUNNING:case vk.PAUSED:e.next&&bk(e.next.bind(e,this.snapshot))();break;case vk.SUCCESS:e.complete&&bk(e.complete.bind(e))();break;default:e.error&&bk(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class xk{constructor(e,t){this._service=e,this._location=t instanceof EE?t:EE.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new xk(e,t)}get root(){const e=new EE(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return KE(this._location.path)}get storage(){return this._service}get parent(){const e=function(e){if(0===e.length)return null;const t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===e)return null;const t=new EE(this._location.bucket,e);return new xk(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw bE(e)}}function Tk(e){const t={prefixes:[],items:[]};return Nk(e,t).then((()=>t))}async function Nk(e,t,n){const r={pageToken:n},i=await Ak(e,r);t.prefixes.push(...i.prefixes),t.items.push(...i.items),null!=i.nextPageToken&&await Nk(e,t,i.nextPageToken)}function Ak(e,t){null!=t&&"number"===typeof t.maxResults&&NE("options.maxResults",1,1e3,t.maxResults);const n=t||{},r=ck(e.storage,e._location,"/",n.pageToken,n.maxResults);return e.storage.makeRequestWithTokens(r,kk)}function Ck(e,t){e._throwIfRoot("updateMetadata");const n=function(e,t,n,r){const i=AE(t.fullServerUrl(),e.host,e._protocol),s=ZE(n,r),a=e.maxOperationRetryTime,o=new nk(i,"PATCH",ik(e,r),a);return o.headers={"Content-Type":"application/json; charset=utf-8"},o.body=s,o.errorHandler=ok(t),o}(e.storage,e._location,t,YE());return e.storage.makeRequestWithTokens(n,kk)}function Dk(e){e._throwIfRoot("getDownloadURL");const t=function(e,t,n){const r=AE(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,s=new nk(r,"GET",sk(e,n),i);return s.errorHandler=ok(t),s}(e.storage,e._location,YE());return e.storage.makeRequestWithTokens(t,kk).then((e=>{if(null===e)throw new uE(hE.NO_DOWNLOAD_URL,"The given file does not have any download URLs.");return e}))}function Rk(e){e._throwIfRoot("deleteObject");const t=function(e,t){const n=AE(t.fullServerUrl(),e.host,e._protocol),r=e.maxOperationRetryTime,i=new nk(n,"DELETE",(function(e,t){}),r);return i.successCodes=[200,204],i.errorHandler=ok(t),i}(e.storage,e._location);return e.storage.makeRequestWithTokens(t,kk)}function Pk(e,t){const n=function(e,t){const n=t.split("/").filter((e=>e.length>0)).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new EE(e._location.bucket,n);return new xk(e.storage,r)}function Ok(e,t){if(e instanceof Mk){const n=e;if(null==n._bucket)throw new uE(hE.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+cE+"' property when initializing the app?");const r=new xk(n,n._bucket);return null!=t?Ok(r,t):r}return void 0!==t?Pk(e,t):e}function jk(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof Mk)return new xk(e,t);throw yE("To use ref(service, url), the first argument must be a Storage instance.")}return Ok(e,t)}function Lk(e,t){const n=null===t||void 0===t?void 0:t[cE];return null==n?null:EE.makeFromBucketSpec(n,e)}class Mk{constructor(e,t,n,r,i){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=r,this._firebaseVersion=i,this._bucket=null,this._host=lE,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?EE.makeFromBucketSpec(r,this._host):Lk(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,null!=this._url?this._bucket=EE.makeFromBucketSpec(this._url,e):this._bucket=Lk(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){NE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){NE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(null!==t)return t.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});if(e){return(await e.getToken()).token}return null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach((e=>e.cancel())),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new xk(this,e)}_makeRequest(e,t,n,r){let i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new kE(wE());{const s=function(e,t,n,r,i,s){let a=!(arguments.length>6&&void 0!==arguments[6])||arguments[6];const o=CE(e.urlParams),l=e.url+o,c=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(c,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(c,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(c,s),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(c,r),new RE(l,e.method,c,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,a)}(e,this._appId,n,r,t,this._firebaseVersion,i);return this._requests.add(s),s.getPromise().then((()=>this._requests.delete(s)),(()=>this._requests.delete(s))),s}}async makeRequestWithTokens(e,t){const[n,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,r).getPromise()}}const Fk="@firebase/storage",Uk="0.12.1",Vk="storage";function Bk(e,t,n){return function(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new Sk(e,new qE(t),n)}(e=se(e),t,n)}function zk(e){return function(e){e._throwIfRoot("getMetadata");const t=lk(e.storage,e._location,YE());return e.storage.makeRequestWithTokens(t,kk)}(e=se(e))}function qk(e,t){return jk(e=se(e),t)}function Gk(e,t,n){!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(n),e._protocol="http";const{mockUserToken:i}=r;i&&(e._overrideAuthToken="string"===typeof i?i:U(i,e.app.options.projectId))}(e,t,n,arguments.length>3&&void 0!==arguments[3]?arguments[3]:{})}function Kk(e,t){let{instanceIdentifier:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return new Mk(r,i,s,n,Je)}Ge(new ae(Vk,Kk,"PUBLIC").setMultipleInstances(!0)),tt(Fk,Uk,""),tt(Fk,Uk,"esm2017");class Hk{constructor(e,t,n){this._delegate=e,this.task=t,this.ref=n}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class Qk{constructor(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new Hk(this._delegate.snapshot,this,this._ref)}then(e,t){return this._delegate.then((t=>{if(e)return e(new Hk(t,this,this._ref))}),t)}on(e,t,n,r){let i;return t&&(i="function"===typeof t?e=>t(new Hk(e,this,this._ref)):{next:t.next?e=>t.next(new Hk(e,this,this._ref)):void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,i,n||void 0,r||void 0)}}class Wk{constructor(e,t){this._delegate=e,this._service=t}get prefixes(){return this._delegate.prefixes.map((e=>new Yk(e,this._service)))}get items(){return this._delegate.items.map((e=>new Yk(e,this._service)))}get nextPageToken(){return this._delegate.nextPageToken||null}}class Yk{constructor(e,t){this._delegate=e,this.storage=t}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const t=function(e,t){return Pk(e,t)}(this._delegate,e);return new Yk(t,this.storage)}get root(){return new Yk(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return null==e?null:new Yk(e,this.storage)}put(e,t){return this._throwIfRoot("put"),new Qk(Bk(this._delegate,e,t),this)}putString(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ME.RAW,n=arguments.length>2?arguments[2]:void 0;this._throwIfRoot("putString");const r=UE(t,e),i=Object.assign({},n);return null==i.contentType&&null!=r.contentType&&(i.contentType=r.contentType),new Qk(new Sk(this._delegate,new qE(r.data,!0),i),this)}listAll(){return function(e){return Tk(e=se(e))}(this._delegate).then((e=>new Wk(e,this.storage)))}list(e){return function(e,t){return Ak(e=se(e),t)}(this._delegate,e||void 0).then((e=>new Wk(e,this.storage)))}getMetadata(){return zk(this._delegate)}updateMetadata(e){return function(e,t){return Ck(e=se(e),t)}(this._delegate,e)}getDownloadURL(){return function(e){return Dk(e=se(e))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function(e){return Rk(e=se(e))}(this._delegate)}_throwIfRoot(e){if(""===this._delegate._location.path)throw bE(e)}}class Jk{constructor(e,t){this.app=e,this._delegate=t}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(Xk(e))throw yE("ref() expected a child path but got a URL, use refFromURL instead.");return new Yk(qk(this._delegate,e),this)}refFromURL(e){if(!Xk(e))throw yE("refFromURL() expected a full URL but got a child path, use ref() instead.");try{EE.makeFromUrl(e,this._delegate.host)}catch(t){throw yE("refFromUrl() expected a valid full URL but got an invalid one.")}return new Yk(qk(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Gk(this._delegate,e,t,n)}}function Xk(e){return/^[A-Za-z]+:\/\//.test(e)}function Zk(e,t){let{instanceIdentifier:n}=t;const r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("storage").getImmediate({identifier:n});return new Jk(r,i)}!function(e){const t={TaskState:vk,TaskEvent:gk,StringFormat:ME,Storage:Jk,Reference:Yk};e.INTERNAL.registerComponent(new ae("storage-compat",Zk,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion("@firebase/storage-compat","0.3.4")}(bt);const $k=()=>{const[e,n]=(0,t.useState)([]);(0,t.useEffect)((()=>{(async()=>{const e=bt.firestore().collection("products"),t=(await e.get()).docs.map((async e=>{const t=e.data(),n=await r(t.img);return{id:e.id,...t,img:n}})),i=await Promise.all(t);n(i)})()}),[]);const r=async e=>{const t=bt.storage().ref().child("Gallery/"+e);return await t.getDownloadURL()};return e},eS=()=>{const e=$k();return(0,a.jsx)("div",{className:"image-container",children:e.map(((e,t)=>(0,a.jsxs)("div",{className:"image-card",children:[(0,a.jsx)("img",{src:e.img,alt:"".concat(t+1),className:"galleryItem",onClick:()=>window.open(e.myLink,"_blank")}),(0,a.jsxs)("div",{className:"details",children:[(0,a.jsx)("span",{className:"productName",children:e.name}),(0,a.jsxs)("div",{className:"priceDetails",children:[(0,a.jsxs)("span",{className:"newPrice",children:["\u20b9",e.newPrice]}),(0,a.jsxs)("span",{className:"old-price-mrp",children:["MRP: ",(0,a.jsxs)("span",{className:"oldPrice",children:["\u20b9",e.oldPrice]})]})]}),(0,a.jsx)("button",{onClick:()=>window.open(e.myLink,"_blank"),className:"view-button",children:"View"})]})]},e.id)))})},tS=()=>(0,a.jsxs)("div",{className:"tdcstores",children:[(0,a.jsx)("div",{className:"title",children:"My Store"}),(0,a.jsx)("div",{className:"productContainer",children:(0,a.jsx)("div",{className:"productItem",children:(0,a.jsx)(eS,{})})}),(0,a.jsx)(E,{})]});var nS=n(935);const rS=()=>{const[e,n]=(0,t.useState)("500"),r=e=>{n(e)};return(0,a.jsxs)("div",{className:"donate-container",children:[(0,a.jsx)("h1",{className:"donate-title",children:"Donate for a Cause"}),(0,a.jsx)("div",{className:"donate-selector",children:(0,a.jsx)(nS.default,{QRAmount:e})}),(0,a.jsxs)("div",{className:"donate-amount-button",children:[(0,a.jsx)("button",{onClick:()=>r("5"),children:"5"}),(0,a.jsx)("button",{onClick:()=>r("10"),children:"10"}),(0,a.jsx)("button",{onClick:()=>r("50"),children:"50"}),(0,a.jsx)("button",{onClick:()=>r("100"),children:"100"}),(0,a.jsx)("button",{onClick:()=>r("500"),children:"500"}),(0,a.jsx)("button",{onClick:()=>r("2000"),children:"2000"}),(0,a.jsx)("button",{onClick:()=>r("5000"),children:"5000"}),(0,a.jsx)("button",{onClick:()=>r("10000"),children:"10000"}),(0,a.jsx)("button",{onClick:()=>r("25000"),children:"25000"}),(0,a.jsx)("button",{onClick:()=>r("Other"),children:"Other"})]}),(0,a.jsx)(E,{})]})},iS=n.p+"static/media/instagram.0bcd1dcb7d853c327af7.png",sS={_origin:"https://api.emailjs.com"},aS=(e,t,n)=>{if(!e)throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!t)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!n)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates";return!0};class oS{constructor(e){this.status=e?e.status:0,this.text=e?e.responseText:"Network Error"}}const lS=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new Promise(((r,i)=>{const s=new XMLHttpRequest;s.addEventListener("load",(e=>{let{target:t}=e;const n=new oS(t);200===n.status||"OK"===n.text?r(n):i(n)})),s.addEventListener("error",(e=>{let{target:t}=e;i(new oS(t))})),s.open("POST",sS._origin+e,!0),Object.keys(n).forEach((e=>{s.setRequestHeader(e,n[e])})),s.send(t)}))},cS=(e,t,n,r)=>{const i=r||sS._userID,s=(e=>{let t;if(t="string"===typeof e?document.querySelector(e):e,!t||"FORM"!==t.nodeName)throw"The 3rd parameter is expected to be the HTML form element or the style selector of form";return t})(n);aS(i,e,t);const a=new FormData(s);return a.append("lib_version","3.12.1"),a.append("service_id",e),a.append("template_id",t),a.append("user_id",i),lS("/api/v1.0/email/send-form",a)},uS=()=>{const e=(0,t.useRef)();return(0,a.jsxs)("section",{id:"contactPage",children:[(0,a.jsxs)("div",{id:"contact",children:[(0,a.jsx)("h1",{className:"contactPageTitle",children:"Contact Me"}),(0,a.jsx)("span",{className:"contactDesc",children:"Please fill out the form below to discuss any work opportunites."}),(0,a.jsxs)("form",{className:"contactForm",ref:e,onSubmit:t=>{var n,r,i;n=document.getElementById("name").value,r=document.getElementById("email").value,i=document.getElementById("message").value,0===n.length||0===r.length||0===i.length?alert("Please fill all the fields"):(t.preventDefault(),cS("service_plf4j0k","template_8bsg8gk",e.current,"XI_R9T5Z7O3tdWEUo").then((e=>{console.log(e.text),t.target.reset(),alert("Email Sent !")}),(e=>{console.log(e.text)})))},action:"POST",children:[(0,a.jsx)("input",{type:"text",className:"name",placeholder:"Your Name",name:"your_name",id:"name"}),(0,a.jsx)("input",{type:"email",className:"email",placeholder:"Your Email",name:"your_email",id:"email"}),(0,a.jsx)("textarea",{className:"msg",rows:"5",placeholder:"Your Message",name:"message",id:"message"}),(0,a.jsx)("button",{type:"submit",value:"Send",className:"submitBtn",children:"Submit"}),(0,a.jsxs)("div",{className:"links",children:[(0,a.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAAAXNSR0IArs4c6QAAFfRJREFUeAHtXQlwHOWVnu6Z0Yxu2ZaRT3wb23GwwXYMvgKVwsBC7MVgSMICoYDKVmVJtqAgCZBsQQyEwC4bSO1mD47Ahg0Bc8Vcpgqztmxz2ci2wFiWbMsWtuRbtqxzpnvfG803vGl1z/RIM5oeqf9Sz3v/+9///ve/7/Xf52g8Hre4EXAjMHgjoAyyqdudrz5Y4mI3ILkUD7tzMurZBd2uXk7EzBiEnHBaOGnmv5mMu1jJhbk41gpoM7mZLM6YUyupBsUJ8zD6LOt2+FTmIIG1w7NtqZfKWFnRlQHLigM2BzX6ibopnTz/+vyyMTMn+ZX8yV6vd5KuKpMU3TOB1oBSGq9I8ShFuqIUUuchPD4hdkLR9TO6R2+hagsJmnXFs1fR9LpwOFzXpbfVnmyorqv96E9trE8FIFvRbq2v9VB3HEUAHedY1CHpH3hJI/zMpfeOKCopX0JgL1ZU70Ja7b+hEMrpnJRO2aF49GpN1zZq4a4N7ScbP/jsvd8eiY7BiZAoGdCWTpfSYiutQUqLR91GpF/gmUa2ed99YKqvoGSRqngXKaq6kLCekMaxbZvSdX23R9Mqw3qosq21ZUPVml/uo85IBoAOynYlz/WsFwQ3645EHZD+RMAWcoWX9uHj5l7j9fpvVhR1kVOcZj90XavUujqfrqv57C9N25/vZFF0izQLHnWmWS8y4Nl0RvphBF6dt+LhWXn+wltU1fe96HE8m74mGVs/pmvhP3V2tD798as/30nKGm3Y82VSsB3Imc9KkYHPhgNy/B7Az73svgl5ZRV3eFXvjeRcMBsO9mHMdi0c+mNH8+HHP31n1V6y48hEkAD0Ya696oqxJWVenbPiwZnBvJK76Rh/De3x3l5Zd0on3ROmv5faOk49uuWVe6vJLSQC9n4j7VfPEfz+HFSOyXxsm37pP5YPHTLxIUXx3ZTus/j+nKDZWHwV4dHCzzYerPlZ7YYnT5IOAy83dENCoJ5RKsHI6EBR4xgPVCV5JAEWXPvPN3l9wYepOqw/HMnaGLreGAp13Ln5pTteJh+QALwqcAH4oN3SDH4CiAwOETONsSKAk5Speu6Cvy8rPnvmf6mquiymOQgYTdPeOL2/+rbtm/7Aq4E8LAB80IxGA6BkdBAyDtB5nAjwTOeveGRhXqDoOY+ijOGGQVd0vaGzo+XGj1752UaaOwOOROBQcD3jSZDpEywAD8pLvuoZc6FvwWV3/8rvz/8PAr+MZzsoi6KUeL2Bvxs7Y6lyoLl5k+dUAwPOsZLFWJdtfeYzaRy2mWJTZ15+19iy0nHP0R28BX32fgAZ0DVt08nm+hur3370AE0LK4FcBTKyGgCkdIcSdmPA0wDKvL99cEYgv2yNoiij0z3gQLBHt5a/6mg7eeUnr937Bc2HAZeJwFNMexIAKDaergKbEnz1gqsfXuzPK32Z1gJ+IucWqwjQk8iuzuZrPlz9iw2kwgmQ0SRI9zmAKfgXrnj0an+g6EU63hdazduVRyOgeIJ0XnDd6KkX727Y+d6XJnFBjE2aUhelMwHgWNyev2Dl49d6A8HnaNn3p+7eIO1Bd8IUn/+qUdO+s6fhi7Wfm0QBsTZpSk2ULkOwEwf+/KseWZIXLHqL9nxfam652pEI6Hqoo/P0lR+v/vkHVM/I4YAvy/paTMGfu+yhuf784tUu+H0IL+04eYGSl+Z8d9U8stJ9Cf31FRUbRux7PUhfEwAOxO35c5c9MCNYWPIGCYt77ZnbMRIBjmF+Udnr519x30QSMF6INVMuoN21FD/7mgBwIObU2d+8oiBQOPQFemFjaIq+uOoWEeBYFhSPWM2xJRWzJLDomVzclwSQmcc82/KOnXHpk6qiTks+tKuRSgToxtl0ji314TgjCWBCYgGZLdrbqwAMCOAjTi1Y+diNXl/gHlsju0opR4CS4Nwx0y4+cOCLtdupM98UAg5sS/Jct1X6kgA8YCwB5l7+yxn+wqF/IYF7uWcr9L1TUrz+7wwfP2/NoZoPjvbOQnwv3nNTLci0rxOgosIXKBvxFAn4GOWWDEaAY5xfVP6fnlGjeOfFoUBiktLoqSaAHIj5yNJ/4aK7blUV5byURnaVex0BOimcc+GFd9yG+BNlLCQ2tm2negjAQADfO3n+reUl5WP+THf68m2P6ir2OQKq1zfPP7Ti+RP1VfxtpV4/JEplBUCGsfNIALVi/Lm/cS/5+oxn6gYUZdiIkefRK3R9uypIJQHYSawA3E+Zt+zXSygTr+cGt/R/BDj2c5c/dBGNDFxAbTtjNwHYMBcMwFTNKyj7dUTqfmQtAoH84vsZi+gGfNgf5pMWuwnAhmA8MticZffPV1Xv3KQjuAoZjQBjwFjQIGZJkHRsOwmATEICMFXzC4bcmdS6q9AvEQjmD/0xY0KbxIjHBnbMm5akCtQLRpFh3tmX3HVOUfmErQPtyxuI0Ozpo8D2oFU7D/aQZV1Aj42bj381f/u7D/F3EcO0mT06NnUz2XN6JAiSIEILhoz+yUAAf8TwYs/li6d5Zs8Y5ZkybpinqCBgGiQpXHL9v8uqM3h6bFxUWsGrwO20Saxwu9jyMjFZAvAEZRKoIyZfXuj1+a/lhlwtDPTtNyzwXL5k4DyzUn3+lRNmLrtnb/UbpwgXAM7YgTeFy845AHeMZdX4WRddTdWcfbePwf/dfcsGFPhRgIrPmrLwbyRWLE9WEiVADHQyAp4SLf+aZEad3P7gHZfRcl/uZBd77ZsvL8jYpHQymCgB4AjAV6YvuGWYR/UtQUOuUV7yz0twgpdr8zH6S08KLzlnya3DSR7DLMobVWN1qwRgA1wkVUtGTv8+CXL2ce/NKwb2bQvGpmz4tOsIN6wCERCjH8BSyiKKcQJRQQemEYM+X+BK0Z5TLC/7fNY/0EsUoxhmNF/mgWWP6VutAFBEZ6V49LcC9BXunN2FJg/Q4z6AAlW93jnFo+bwv9OJYYc2M2r3MlCZOvuKC+gV7+QXymajOEA2YniRbS8qt+z1vPTODtv6DlMMTj1v2fwtB7d8QH5Z7vnw2SwB0ElmkOLPL1qMTgOZ1u4/5rnnX97J6SlGsfo/moTE0PSmkNUhoEcSeL15jvq/fKkiZPfSb8One1I17Tj9KFYSfPYRmMb5a5UA6BAzQm+kfjOuZ45V7NzmzbEpWbobxSqGHSmags8GkiUA6ygT5/+wgl75KuGKW5wfAcaKMSNPATxoD+eNCQBFSZWyYePP6dHTFTg6AlHMGEeJJfuMesR/YwJIBXRW8gLBqRFt9yNnIhDFLIZh1PE48FlmdhVgnKSiePOmGIVOrvMJX2FBXpyLxnpco6iMKC/25Nz7AMJ/sFHMegCOdlCrBIjLHNXny6kV4PYbFiYEEZM3o/y8INFjYke+D2AyEYGZxLLHo2GzQ4A0F+2snCWFLp8LEYhgBvAtHU6UANyZC1El1/5Td7fnaf7km0S5UyKYCQzNPZcJIJUlT3eA3UtADl/LmQ7zKDpQKjCTWEo+4rVMAKtpcCd3BaAgNB45bRUjJ8rxQCihb3YSgI8BOfsQKOHsU2w8dJRft8uNYhczYwJgieBZMi/ruTHzDHrZ0so/BZRzxYhjHKbGBMDs4pTo2iF3Dn6YQQZobX3unATSv521tVxZ3QeQ4aOfy9M76ExQyhzN/2TV6z38e+K+5bbuDTzzyieeZ1Z/2qN/zgkUT7vBZ1MArVaAuL60AjTHCdyK4yNAP1Fja9W2kwCEv+YmgOMhNzrYA7MedwG5h1UCxCvr2mGjebfu8AjYxMyYABJ45iN1LRQ64PDpuu4ZIiAwi+EYVZEYW64AcebCXR21cQK34vgIaKHO3XacNK4AZn10+hnUGrMGV+bcCHS0n+EEiNvbzbyVCQBlSSN8S/NB9xBgFj0Hy1pONe6PuscYyo3FwNjyEBBTYOXa6rca6F5AiHu6JQcioGtnane82ECeShxNHZcrgJlCd+a0NIU1XdtlpuDKnBeBsEZYtbTwfwnpxi+Bi4kSQGaPHg51vJ/AjtvkoAiEQ+2MFfBLmARWCWDsrLefOuYmgINATuRKx+kTG6MJABxZXfKx7mYJAEWm2Dy7tqz+hOrG+8sxQy7jkAjQc5uara98HPUG+ElM4xw1JoCZIsu0tmM1HeFQ6LO43m7FcREIh8NbW4/u4ufWxnMAM2wtrwJ4YtwhbuvqPPM2N7jFuRGIYiRxY2cBfg/HjSuAVJBGInzT7vWr6SmTpTHZ2eX7PwIETNfh2sqXaeQe2Fl5Y5UAAFka0vZ//vYRLRz60MqYK89uBDS6UquvfvMoeSGXf4llDwfNEkB2kAkQ4bvaT7zYw4orcEQEOttOvUqO9MAsKmMfgS3zkWKWAGgDlQa1mm1vvuGhO01odKkzIkBH5tbaT159l7wx2/stnUyWAHHgkxW9uf7jlq6O1v+1tOg2ZCUCofYzL5xsrOIdkzHjJJCJYOlTogToAT6MNu376En32YBlTPu/gZ7TNOze+AQNDPAlduBN/bJ6KZQ7yZcIYTiSWXu3rm4cMXHBq768/JWmVh0ofHv9Ls9nO79K6lnVzkNJdZymEOpqf7Vhx+tN5Bf2fOz90lXGsEexSgAoInskjQxy4qvqfy0fP++aXPmv4W+v/xJzGlCUL8uPHNz2OE0K4EuswFvOOdkhgDvCCFMMon25+Zk6Ldyx1tKy29AvEWAMajc9t0diQ7zEjP3gumlJlACygzQYS4KjB3esItP8AwVuyUYEKPbH9lfx7zbFMCFeYpXUKzsJgOxhKgfSaiqf3t3V0fJM0lFchYxEgGO/68M/8vuacbhQXWKWcOxkCSANMY8tNuCeT178ja5pDvwdlYTzzvlGjjnHnibCWOBnYoAPKM+TecuSLAHQEQaZAvzIoIcPbGlpO314FRRd2j8R4Jhz7AUewEVildQZOwmADJKGkQicBOEtbz7wGr2GXJl0NFchLREIhzs3ccw59tGNwTfiw2MBO+ZNi50EQEcMgEyTNHxo7+Y76OaQ+xUyRCtDlL/121iz4adkHsu+xEEmgi0PvLa0upXkjSGWoM5UPXHw85Yho2fVBQpKl3eru5+ZiMDp4/W3fVn531VkmxOA39SWiYCdlIdOuvezUm8TQILPfGRrqqvcM2rKkjKvL3A+G3dLeiPQ2X7637asuf9ZsoqlH1Tu+baAh2epJAD3AdjgjVQ5tm9rZcXURfyzsmO50S3piYAW7vxo88u/+gd65wOgM2Xgmco9nwe0nQS9SQAegItpMoRCbbrq9VeWlE9aTv+pqqhb1f3sSwQ0LVxft+W161qO7+anfUgAI/jGJLA1ZKoJwEYZeLMCudLcVHMmWDyysnDIyKsUT+7+yojZJPtbpuvaica6jVcfqF7D91oAPignATbs9aC2XO1NArBhs70fA0bajjV8dqzsrHN2BIqGLSdBb8eBzcFJ6RXvYw2ff69m87M7KQAAnakEXQIueVsx6y0w2NvlIMakUJr2fnig/OzzD+YFiy+Tii6fPAL0kE+jM/4fVb//O76/Yga+VRIkNy40epsAbEImgRkfSYhDu9fvHDp69p5AsPhS+kdTqdx3EG4OMpYe8rSeaPhx1buPvEUz50s9XO4hERh83tuxEWv/xI+VUfqSAGxD7vWwCYqkUBprN9QMHfmNL/IKy5bSOUHO/vAkJpZJSjd62k4f3XNr1drf8i9XAXBQ7PVIALiS8tKPjn1NANiRNAa8ECqNezbtLSg9e2NByVlL6eqgQLS5bDQC9A3sY8cbtv+get3vN5GIQTfu+SwD+Nj7ew0+D5uOBADgbM+qRHSO7v+0yRcoXVs8dOxllAQD/2c8raJhIudLPVopV9Z8+BxO+IzgpxV4uJCOBGBbdpIgonfiUHVzWO96vaR84gxV9Y2DI4OZ0lfv19dXr/lh/ba/8kuLZnu+cenHXg/a6/DZBc7OALDFlDc+4cPmI56TTWz5vrnL7/lRsHDY3aQ8KM8LCD36Kt/xRz9+/cE/eDxtxj0e9YyBT3ik5RDAdlCQBKiDGjOV9EKeg7vWbS0sGbkuWHLWIrpAKIPyYKC85B/fX3XDtvcee5NigZM8gI56RsHnOKfrECAxs0oCqRPjjx7Yeri5ad+fh4w8R/H68mbTuUEmfIqNl22Gz/I7zpx84ov1T/30qy/XNpA/ANtIMw4+xyIlsFIIHuwy5Y0PBUwZXObFoSDGqxNnXTW+YuriVT5/8NukM+BKV1fbWw016+5v2Ba5rcsAG0HnOuS8ajLPFCsoKInSUwBUeqzFW4FtpthwTmCWCEgMddYld15UNHTcP6le36R4k7lZo29U1506UvOLHe//nr9ZDYBBkQSoM+UNwAN00LQGASCl1agwBvtIAKZIAlCsBrEEIB1vsLQib/oFNy/NLxlxg9eft0DYzBmWzu43t55q+h/6DsU77c1N/F875B4OwCED8P0GPgcSAGUyqBgDlIE2JoJcEWQiRJJk0re+P3n4mFk/8AWKVtLJoqN/w5ie3p3qam9ZffTg9ufrPnqhjuYqgZV7OxJAtvNeznUu2ONBu6Vp/gQoaTZrag5jMUUCgEaAJrkRfE4M1onQYLDUP2XxLUsKS0cu8/kLLnHK+wZ0Ytcc6mx9t+Xkob9Wb3xqo6e9mc/mGTgGHBRAW+3x3M66AByURJkrHNz+LBiPqdxkArAcK4KUg+d2tbh8YnDSnBXfzi+uWKr68y9WFXVYf06Eb9tqXW3r2k43ra169zH+ihwDBhABtpECfOhCn+vYeBrM90vhYPZ3wZiSRkAlR0ABNlOWYSWAXOoRH1SmLbrp3JJhZ1/sCxRerPr859JDJ9ZNW+HHs1qoa3tXZ+sHp47sXbdr4/Pb6L/mATQAzXXJYwWADBR66M9+Ms8FtLuW4U8OZDaKHJd5s80MbCSEsS2uP68OFVMWTigsGjU+L79onOoPjPeq/rGKyj+AqRbQoaOQ8oNpKU+el3DCt5UovXIVoScJ7AOhrtb6UGfLvjMnG/c11m2qp6d0/H8SARpTBhR1gAsZ6tCDHPqSkplIYVm/FglEvw4cHUyOHwcitcu6GeAyGVgXddmPeS5G2i21/gQQkkrAmAegiSjajH1Rhwdcz0pBYLIyuBgUfkjKPOoSXDNeytBPUh4KtkDF8HEswJAUgBkpAAbldiPPxmU/1CVlPislWTD62ynpD/OogzdSM+AhY9+lPupMkxUGjIsROAmubLOSG+10W+22Cz6rFAHOqhMmg0u/wANMVgdvh0JfUuYTFQkc60mwk/FSHzxTLrDbXXPAJ4LrAFdMXZD+GXnUmWJjI+BlO+RMuaCtu/b1pwQIvKTMJ6vDGvS4Lnm0O4JaBcIRzhmcMPqKuhk1ytgUZEZeDiOBMuNZBrkVhT20o+5IKoPiSAdNnDLzWcrAg7IJyZuYtBRJEMGDcifJw4iZDG2Oo70NjJMmYjYHu7JE8zAD0q4skV1HtZkFylEO9sIZu3My6pmBaza8XT2zvo6TGYPgOAfT7JDd+Q4okNMcQ9ecGwE3AgMmAv8PiR4rJySH9qIAAAAASUVORK5CYII=",alt:"Facebook",className:"link"}),(0,a.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIIAAACCCAYAAACKAxD9AAAAAXNSR0IArs4c6QAAGOBJREFUeAHtXQmYFdWVrqq39XvdzaLQCLQsTQOtuIMSPyPigiaMjH46aoyG4ZtEZwwRMSboJ5rBjIqMRkaNGk0UF/wUiQqYYSIERYHWgSSOCyJbI82OdDe99+u31Ny/Xp/HedVVb1+qm7rfV33OvXXvOeee89epW9trSbKL7QHbA7YHyAMyMccRTWbO6nHkD22qyTilJ/ok2XnxfqkEP5W+PcJ/3BE9wmADI83moG/X1w1EdWsyCniybd2EWbkhHedYYT56u3k9GT7ZOeiDTnWikMN5kmvURvssSbnTLGkgM0pvK9UNafmD1WXeAeWjFKejUlFcFZIij5IkZaisyH1ElIolWWyqVCLLcqkqqe2SKreImLZJqtoi9rVIarheDas1shrcGQ4Gd4Y6mnfsmDVue5c9FGgzSmbTfqpblpITLWugMIzbSDynGj9o3nv9+w497WLF6fqe7HBOEQEemoNJdYbDofVqOPTnzsaG93bNrvpa6ECwKeCch3pq1/OoW6qQQy1llDCG20U8p7I0bpxceduy8U5vyRWyy325JCvniQ6OfE5EVdV9aji4Su3s/HPLrq/X7Jt/WZPQT8HnoKA2mMf5fJobVxc5N26nPO8kmzgFr22j5lcPc5eNvFF2ea6VZPnMPNtmqk5E94gUCiwPtLcu3bHkgQ+ltS+FRGc9GDgIOG8qN187yNn50hdPD9nCqRb8kY/9fUjRCUNvkJzO62RZmRBPiBX2xYDit3M+kDYvDQu7KPCgxMNczqNekEJOL4jyLqVkA6caAKRp81xVV936I9nt+bkAwJhCGpmObnHq6FBDoZf9h79ZuOvuc3cJGZYFBDk/nXlmOobrjgS+K/33v/tNX9mYC29VXO47BABysejL1PaUxotDPiSFgksDLd8+uuNnp34pBhMgKBvoaUrys9GZByMb8pKVQXoJABiniE0e89yuqU5v32fF+f+kZIX1lH4i2qoUDCxq2Lb2noPzrz8q7AYA+EZTIWBQPeeUApJzRV0KuD4CAagybP6m8uIhFU/JijI1X8YUSo+qhg+GOlrv3HbrsLeFDQQEZAkUAgHRSGuO//LA5FhV9JKQdGoZQChVqp6vvVHxljwlEkJJro2wknxxT2JFwxcf3XLosWuQHfjpgkBANOdmU1ByrYj0gNKm9L3tteLBEy9/WnE4b8y1AZaVr4b3+psbpu+cWblB2IjAEyBgMup5AUM+bsDoQYBMoFQ++dU5/Uef/Z6sOCZhxsdtkeU+Do/v5hOvnC3XfVtbLe39CoEnn5Fb9HVqzxrNtQKSD4pNkSorlap71/9ccXoeEC2urM2kFwgSt66rW2q3Tt9z/wV7xHQoM/CskLPsQIHKthtJLgFAowOvm+cZMPWnL8tO1zXZVthr5KnS4c66A9/fcad2mYnAc0BgmjkBAwUsm34kmRwESr8ZC32DJ09fITuUC7OprFfKUqWjnc1Hbtgxc/SHYn4AQs7BQEHLlj9JXgwIyue+O7B09PkCBI5zsqWot8tRVckfaq27cdttlSu7gJBTMFDgsuFXkhUDgmHz1pWXVIxbLW4QVWRDyXEmIyjuN8zaekv5i7kGA1bw2SwxIDjhpnlFxSNPedMGQdoudjqKip+sfHb7ZCFBu9oSlHwMoXTwgc+oZAsIZBxRRRo/zTloysw3xOXh+IwstAc7XcUnLq14YvO5whU5A0M2gMBRCV6RRoxQTrn9hUXiTaHv23HM3AN4nc7Tb/Dy4Qs+rugCAx1w5HuiaSvL9IYSGQBKaFXGLvhiluLxzk7bKntgNw8IMHjdxf0v7fT1f8X/xZpgtw4ZNmSSETgIwGtgqHxyyySHt+TBDO2yhxt5QHFUDZ7yL+KZTPSgoxigN+eNRsdtywQIpFwDgKgog+96a5C7X9mrwiT7jmFct6e/U3G6bxrz3O7p8DfbCAREU1aQLhBIIWhkKy9X+p0+SYBAKUvZCntASh5weksXDp+/6ZSo7ykGESkUm5RkprNGIEWgUVRWPf7VrxRX0U0pabc7p+cBWby3XdL3ImnI8CVtm1b6mZC0bz9nkhEimUCAYcRDG6pkT/EcZpDN5toDYr0w4NxrsRZDDCkW/CBNyYJUgcAVgdcygnfomIWikk52SclYu7POA07PjOEPfYxThBEYdJ3jV1MBghEI5DHP7LpO3C+YHF+NvTcXHsDB5y2vfFTI1g5IQREjHqek1aYCBBJKyuR+k2cUOUv62JeK5JkCUEVxXoKDUajOCAzJAoGjjICgDPrBA/8qrhLKCzB/WyXzgKO4dK409gKnaKLYULxYr/hsskCAFK5EgWLFV3JHfPH23nx4QDzPGT161svXCl2IJ49T0upTAQKERpWMvuOVm8THJ4OT1mR3zKkHHMV9ZwoFiKceDEllh2SAEA2+UAJeU+Ys7nuX4O1iEQ+IN8EnjFr4+SRhDo9X0tYlAwQSRgqUMb/dOk2ko0raYVNreMDdbxAOTn1GgHGIXdySCAgkIAoCIU1WSk6ws0FctxZop9N9ychHNo4X2o3AENeoREDAYAKBRofdv2KEuG8AZXaxmAdEgGT3gPIfCLOMgID4mZZ4QKCBnCq+YWffDIWmEu0dBfWAwy1+QCQSHwID7EkYL1x7xiskAFTbZLcXinp1KXXL0rmDnNKl5S5paMmxY2VfS1haszcgvb8nYN35i6e/Fb/5dFLNXWevFUZS3BI+jEoEBEwYwuANZdTDH52Ja1Y09tZy1Si3NPP0ohgA0FzPHSRJV4v9zZ2qNP9v7dLynZ20K0rPEwD6UZVHuvfjNq1fdEceGbFovFmo+0hseAWewEAWGILiGNypW4RiMAoJ0ahzYAUUFLTA0Q+d78uJDZD7sNh4FjBShIyBfmRHVX+H9NMziqS3/qFUWjSlRNrXGi4YCGCv7Cq6Ujprckp3Ging+vlyAOCpIjbnKS/XbRa/X3CyvnM+6wgAjtpXv/ZLj/y1PWuqEVQc7ZmW/QIE1/x3c0GBgDkE6vfftP2OccsEix/1wobsgGyQUkYQ/bUSBcTJ9749vNAggEUAAQrSLx2RWkMGfwCAbICgOaBKt69t1UCArJEos2RgcsKhiq+UXn+PxrBrkOHBb7RGoI5cgOwZPA53rQpa4FxeKHhzxfk43QKZ94z3pjs8Om5rQ0h6WWQpLDJxmigXi0xkhkIV2VkEIMTEsKtumBGMgADbucfBK05f6Xexo5DlFHEu1heAoeoEhzS3uk36WgQj1XLpyS5JD7BUZaD/WGEbTlsoyAxT3sFvbxau4F5P6eQbPc1rX4dTeDwNjTJbLKJzDJpkp6fgQMAizKhgsfaSWKThdJFqOa/M7FhIVVKkP0AwY1VLwdcI4juIooFTZ39HWMXjaDqpeEDAIE2I74rZxZKiDDGVkqcduI43K1qKn+CVVl3dR8KVRbJlCLtPkOwYs344PSATpJOZzGRm0u4sGXC6GM+zAfFEo+LNgKABoEuIPOiCKytFQ/e8HBWTPybRzRws0HAJh0s5Wljmy7p/Xl34TMDnqrg9+JFSHkvs7gYCNOqBQIOwj4rsKC0bRpVC02U13W/iGNmE0wXO2Z9c31e7urgkS2sBI13UhhtNlioON27+UUyJGpoYL4dGByreYiDLEmWNuL276VBQW50nYxBOGfzyEKcXpG5K39lYKMIO3D+wWlEc2l3gaBzj2afPCNQXg1E0IYqzyDJAgFG4XMSiLJ2CUweuFGaKSzxsyBzZKPHWL9mQn5YM8dyh3zVz+3WNJUBQbGNEmgEBnWiALCkOS3zGhqDhyqBJpGBtZZ4mGGI80MsrpeO+i9hRLPlsY9rinRowKNJZVvpyCYXi++Dmj7gywIbUjqMwW0d0pnOiU02mcrI93llUioyAOPLAg49JqUZA6DZI/B8kSwBho1gbULEKAMgeK64RNNscjiKyUVAOBtYce9Wg7xQFhHhbuU/MqAJWEl0+Fsq0jQePgbRQNhjqdXpwl00f225d460RqLOsStY4NcAgPHW0WsHC1aqnBofDzReLcJ0hKJIBgvhRNCn1e7c5ihZOD7h8tFJ5v9a6bywpDldSp3U9EDhaoqcG/PijlRx/+4etEm7nWqXg9TWLF4or0W7m6oHQrYPWoIYK+yhNZxXu4OF2rhXAgNMCbnJZtYRDgcZkbDMDgg45ckcywvLZB2DA8/5nPu9I++ZSNuxdZvDeYjbkZktGKNCRFBCMLh8NbAiLU4MZZgy656kJL4FgzbBFnCbwxjG9qJIn9ZoaKy5eY+Yf7EjqtG4GhJibDeJ/JDfK1sOBNF3cZcTDpEIVZCNL3lrmDgmFksrmSYVXDocOc9lW4Z8WgShUwdrgFQteyur90VlXg9jFHNj6PqjrgcAHgNfqoUD7DqPBhW7DtTuOykIUvBpnucfOekeo4dZ9L8zdy5p5fFlzdyDE7KRKqL11O/FWo8gKRh+a5NJO3N208pUCzV0Nh7+RmvebBp/6geozAt9HvBpqbailihUpvipaIL48SvfRdCpzwiUr9PWEogYDe4SdlNkJEERjpsCBQB34QK2t89A2SwMBM3pli1+6tutyMlcPgAC0e3vCKaErxOFgR9KZnAMhBiGsou5fdN9e8d9LC/eSPjMmHosVPE4VeIH0O282ZnVFDxDgHQirPlMw8kvXKZ0ObHThB3vMkERAiAhpORhWAwH8c+seUfAG0mrxNnO2vjTqiSBAoILf1iBmpsHnwTS7j4A+MUhS/S0bJLfnfD7YajzeWsa9hWy+q6CtCdL8eKaQ/lFVtXH3w1d90WVDTCxZW9REMyAQitBRE+Kv27PBV3riL6IjLcDgiJ8g7i7iIxXcZcxWBqCp4a4hTjWWv0wkgxkN+1vXiioBgOJJlPWMsEZAQGc8a4gRcuiP/7FpxF1/7MAXNN2k5KEB6f7qCrf2eRqCnsuCxSa+tO4Jl4hmfgg21b8v9lEM0c0UBNip9ygHAQ1GW7j9s/f9aqDzU7lApwcEBc8VtNQvvnUsdemei8HaDAvWAgCA1R8kJTPNth0bNoh+BAQCAdFuIoy8iTZsWEjiXW9sAIxr9MIvf+waMHSB4Ata8C0CZYhsZAfcIMKHMz05A/CAqKHg5i0zBl4s2vB8HG/xYKPfSMAHGN0Aoc8Iok+0cDRpfF31a386adqcBwVMCvekR5iHczaOWmxYFwAMWCDim0d8lZyo4A2n/eJSEy+UIMv0xDVAvDkGW+vwAxnd4tfVZjjULCOgMzICZQUARssKVb/f96pS5LsCHaxcjD6ExePq3hZ0fQxE9NWj6xefd+C522vEPsoGoMgElA0AkphilBHQCQAxRFTgSO0bnvIqywMBR/rxWNRO/ycCBLVd8eOB7xZ87h8c8YkKB0R45zMzVomHGUcSDbL3F8YDnQ0HlgjN/OgHT8UUDImAEAMCIU2V9mwNhFrrocwuFvOAqoYOHVj0y3eEWfpMQHGExYZgiAcEGgxKgjV6dN2bz4tnD4V5EQBTsYuhBwJN377Qvvkv+Kk5ihnFzTD4XIgZEPQDueDw4dfnHgy3Ny/lgmy+sB7ALeXDyxe8JKxA8DkAKJZEDQ01AwJ1xmD9pilq/mzV78S+43NFRt6xEA211C1uWv0S3lhGvDgYYCWBgCjaYko8INAgUNpIQXj/M7fuDLU14XxklwJ7AKfpxg9ef06YEY2P4ClmFMe4VsYDAh9IQrmiUN26JY9Y7SsobvTxwoda6l84tPRXh8R8KT4ULz01dUkyQCBEQQl4UhY+snjOvlDT4adNpds7cu4BcTt5/6HF9y3kcWE8xS6hHYmAQII4jQHDnsd/+ASMSajJ7pATD/j3fX1/Y/USvD0WPUAFjxjxLaHuREAgAVwoVxhqr/mbH8ZQR5vmzwNhf/vamrkXrhQaeUyIR8yocJ7aYmgyQCAhoFBClBSGYAyMipFsV3LqAazNmja+iwMwGocuHvHhW1J2JH5UFxFDD6c4BR/dQrJzXUnV+f8kfl2lOCnNdqeMPBCo2/vg7oenrhZC8HgZl/Fmj5kBioQlWSBAEIGAhFJdA0PH1g3tvnGTNrtOHHat+GEN2kd9bZpFD4Q72lZvm1mJbIDg840yNmWEpLUmc2rgwkgBKKWkKK196Mr1ocaDT/ABNp9dD4TDob37XvvFrC7/EwgoBhQfUop6UiUVIHChpBAGkDEa3Xb3+MfCne3VSWm3O6XmAVUKtPzfqlvET+8fZX6nGFBMiKYkO5VTAwQbpXxq004RUiAgh/1Na3ynXnSZ+EdgJ6Zkjd3Z1ANicRju2LNldu1DU9eKTvzgo2wAqj9YTeXpd6QKBIynwHOe2jQwtO/8u19yuFf5xky8Wvz7nxK9UrueugcCh3fdW3PPeXj8z0FAPIGAsgEHRFLK0gECBEeO/ogKDoLovrYt69o8Q6o+9Awd+4/iFXhvpKv9Nx0PBBoO/NeOO894VoylwBPNGABkTyZAIBlE9eCQmzetqPeMOPsTz+AKgMFNHW2avAeCzfWLt/9s7K/FCASfLhPB81MCAQKCU84GGJQuEDCWMoGe53W5+ZO3DntGTdjgKRt5uQBDbv5hIzT2whJsOvKCuEy8T0yNMgCnBAQeeM6n5JFMgABFlAW4Ad0A0ly99LDcp2yVb8QZ3xNrhtKULDwOOwtnquIl4Qe2zzr1cTF9fSbg2QB+py0jT2UKBFLOg09tRLV9bZ+talQ9pSt9FWddKCvOAbTTprEeEFENte/+YmbN3RPfEHs4CIxOCxwE4NMu2QCCHgT6OozT2to3f9DaUb97Relpl54jO10np211Lx0oXjBpb93x15/s/vdL3hNTNAIBPx1kDQRwZzaAADlGwUc7L1qfztqv/Ec2rlzeb+I0r1JUMl40JjOWy+mVfDjYua3547du3vv4DZvEBPnRTzxAAHAAABkvDoWMmJLNIJAsUGy4a0kbAEcbPqrR+OFzV17kGzvxafGgKqkfjhbjemUJNB15rfbx6fP8O7UfZ0KweTYAn1MQwKnZygiQhUJgiNQif03PXY3rXqtVnb7lvpFnniU7XEP5oOOBF6eCxo6aT2/fOWfC70INe/1izgQCTnMOAvjaKHCZxoBkgtKGzADQEaXsEKHe/s6KB1b/0DNo5BxxVdE/UwOsPl4cGeKX6hrfObz8Nw8e/Z+n8IOYCDadAggEBADQnJwOuJ+ynRFINoGB6noamyWCHWrD6ue/DDXXL/GOOqdUdvtO662PstWAf0vL53/5ya65F77UsWMjXjGjwAMIFHy0gc8LCISenGQEyEUhMFBWAKU1A2UGojxDKOUzF51eMv6KXysu73hNUm/4Ew4f9R+ueWzn/VMWSx1HjYJOgCAAEMVBQwcO0ax7hIKVdcFdAkk+BwMHBADAwUC8Inm9jpG/XHGFZ8Tpdyguz7hcGZhzueJncAONh149suyRZxvWvFIv9CHAdMTz4FObHgAUfKI5MZkClRPhTCgBAU0EBKIcDMeAQGsKr1fpiYBQw6Hm4NFDLx5ZseBFAYAGMW89AKgeDwAUfKLMpdll8wUEWE26QGlD4LGhToDoDgb06SGAIAAcWHLfH1qq38EnaBRwOtJ54DmPYKMPBV1Pxa7cFQpO7jTESiZ9BAROCRQcCHoedVkqq3QP/7enJ3uGjLnS4etzmbgPUdB3HsKdHZ8HGw7+qWH968vrlv3nQWEjBTVR8Gk/+vMNXiMggM95ocDkXBFTwHVyIIDnYNDzyBi8j8Z7yse5T7r5kYme8jGTHb5+k2WXu5LpygmL6/9Qe/P6UP3+D49+8u5HdcvnI/h0NFNwk6EEGAq6nubEfiOhcGahCunmNHLExwZcDwjqQ+0Yj01rL7v+/vLSCdMuVor7Vylu7wjZ5RmuOJzl6U5S/DpMkxrs3K0GOr4Jd7Tu9O/bUl376HUbhTwEjTY9CNAeDwg0jlMyEW15LxSEvCvuUsj1U0A5NQo6BwDfbzQOajQdg378RKV74MgyZ5GvVHa6fQIkPklxFktOl1dSw53hQEebGgy2iV80b5MD/jbxYWlDffXbu1r/9y2c51F40DjPQYB2PQCojVM+XhPeJZ/4vFPNSXnX2l0h2cEpeL7pg66voy+18XHgUfQ00mr8F4GiQkFDHUFGoeDrg0sgMGonOaAoehppLdBfck6B1HdTS/ZwCt5o40HnvFFfLo+UUhvVQSk4nKc2UL5xMKCd1znPx3C5eh71ghUjZxTMGKaY7DKiaIu3cVBAJPUlHhSFZEdqx/4icFQoiKgTnw6l8Vwu8ZagZs6whHHCCG4f8aB6ntrM2jEf2qfnUdcXAoMRNQMCZNA+4jnV86hbpnDnWMYoA0O4nUY82qjdjIdY6qPnUUehwEdqx+rUrg80b+fjqV0vh+qWo9wxljPOwCC9vbxOPFEMJ54oidTXqZ0oD6QRT21EMY7zRnWSbUmayCGWNJoZpbc/1ToTZcjGC65+HwQYtRkKtlqj3nFWsy8Ve8zmYtaeimyzAJu1pyLbEn2z4SRLTMTEiGzOr9cE3cRXdrPtAdsDtgdsD9ge4B74f0x2o9cIfeA5AAAAAElFTkSuQmCC",alt:"Twitter",className:"link"}),(0,a.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIIAAACCCAYAAACKAxD9AAAAAXNSR0IArs4c6QAAFzNJREFUeAHtXQ1wHdV13l2996QnWf6NLQOybGTZFqHUBBMKAwHznwKhBkITGkoyLbSdMPwlE8IkoUMYMnRCBjdNGUiagI2hATwTMCXUxjhAAJPiQigkENmyZBtLtgTWv/X3frbnrPQ9zlvtPu372d33nvbO7Dvn3r33nHPP+fbu7r27+xQlSIEHAg8EHoAHVDAziDrpsz6D/GF01YlTStEnTvsl62UT/GzqloT/pCNKwmALI+36YC435y1ETSmyCrjTsinCirkgF+cUQ3/Mdsu8E95pH8xBRx6U5Ugecq3KsK8oqXRaURoojDLbirwlfae+ftGiaHR5SNOaIorSqKrqclXXj9NUdbauqjWartdQtGZRea2i6yPED5GuYaZUNpRMJnsSqtpGdO8obcOK0rqitXXPpD0ItB2F2diPfNFSOLFoDSTDpI3gJTX41+vq5q2YM+fcSk37fEhRLlRU9TgXOjWe0PXXkrq+tWd8fFtje/ufSAcHGwGXPKtHuZnnfFElOLSojCJjpF3gJVVPpDq/bmpaUxsKXUxH/EWaopxGwa/wtCO63hHT9RfGFWXru0NDOy7o6Bgg/Qi+BAXK2DzJe2puJmVwbqY6Xu+DTZIyb2xv1dc3LKupuaZSVa+iIXy118bZ6dN1/eO4rm8ZTiQ2f6e19ZUNipKgumYwSBBI3k6sZ+VwtmcKMyiCLZIawX/7+OOPbYxEvhRS1asp+KdmkFEUuyQobmltfWmzoiTJMARegoPtRbmvtsPpfhoBGyQ1AHCXooRvbG7+2ypF+QZd5K3008icdOv6aExRNu4fG1u/ur29nWQULSDg/Jz6mWcjqdsIPMkz6FPz5lVfsGjRP0RU9RYaAdy46MvT9Cyb63qCALG5Lx6/b1lr6x+oNQCB0cBMs1SQf3UZjPylOZcAvQAAt6TrPUXtXLnykjkVFQ8Sv5gLyyrROYMuLh/Z2d9/xyWHD/dR3xgAckN3AQzkXacIiOuKJhVIfQABU21XQ0P9qmj0JxWadolXxvilh/BwmCYqblu8e/evyAYAgUcJTgAB6ESpy78yMC6rSt0SQqcxApBSrXvFimtqQqGfED/LbSOKST7NSTz7Rm/vDRd3dfHoIE8XAAGo62YjKG4rgh6m2LTH58ypufSYYx4Iq+o1bhtQrPJpdDj4cSx23bK9e18nGznwAASbzHlPwODFBIwZBDwSaHuamk5ZM2fONrolPJt7PFMTXQzPrtG0a7+5YIHafuTIzvcnAg+fwS3mPMoLRt1WAPlMedOaaPvdypXfiFZUfJ/y4YL1pAwE0ali53tHj1535ocffkjdwcggRwXXRgcEqtBuhFymqe2uhQsrb12wYCOdCq4stMJykUeniu5D8fhf0gIX32Zy4CUguJuugAEBYwWFSpCZAgAJ1tbPnVv993V1z9JdwecKpahc5VCk+3pisS810FQ19ZGB4DoYELRC+RTy0kCwo75+4WmzZj1Ls4OnFEpR2cvR9bGeZPKaJbt3Pz8JBFfBgMAVwq+QlQaCV2l+4OTq6u0EgsZCKJlhMuI033BzXUvLw26Dga/gC5nSQHDX/PlVBIKnAhDk7OLQLE37twNNTWtJgnG3RRQ+ZqE4+JjPKxUKCDAOVPuCooRuW7jwCQLBmrwsDBqH5odCm1saGz9LrnANDIVAFGQwNQxdRvSdVas2hjXtr4M4FsYD9FRUz+6RkbPW7N/fRhLlsw64iwDNSWG+E0pTQEBWaC2rVt0c1bRbc7IoaGTpAZp4is4Lhc6fHYs9umNsLG5ZKY9CBDIXEWjLlDceDSramprOrguHnyM+mCwiJxQ6jSeTj89rabme5PJdBDaMBqBZq833GkGCQPv1McfULQyFNpEVAQiyDoWzBhFN+wot1V9HtXG9wFQelM4EmWrlCgSp2ABDPRl21uzZm+jicJFJR5AtsAfoeY317yxdegKJxYEIypoQm6y05gIEKIJyA5lvr1x5J71DEMwaZuX+nCtXN0aj//nIwoXzSILhf6KIS05CcwECKwIImGpvLlvWTCtot+dkQdAoJw9UqGrzuvnz72H/0ybjwfKyBkW2QIACKDbQuLKqar3n7xRwd2d4omc6v/a/E6cIKzBk5Z1sgGAFAvXgypVX02ri2qy0BpUL4wF6oaepquo+EmYckERxgLJ8xIv5aVM2QIAwKFO/Nndu1VxN4+EpSD55gCbtzuODkdTnBQanQAC6UiBgxffW1f0jTXTQDUOQ/PTAbE377pk0pU82yPhkZZJTILBQqURjxbX03kFW2oLKrniALhxX/HLFiqtIOMdTxsmxvmyAwEJTSkjxV2g0OMaxpqCiqx6guYUbSQHH0wwGjtm0yQkQUsEnacwbyuZWVHxzWulBBc88QA8Bn9qyfPnZpFDGy7F+J0CAMCjQ2pcv/wINR03YEdDi8EBdKMQHp3lEYOM4dhnTdECAgBQISJo6PxwORoOMbvVnJ93Gn0dvjq8h7VZgyGgUX2lOlwACg25taFhGjVhZSSS1tlbRmptztlUfHFSSf+IPo5RAoou2JZHIl8nSt2jjlUnEjlclmbddncwEBG7ISVLt5Kqqa2kWEWUTNTz85aBWnH++oh57rKIe98mL0hrxMu+FSYk330xTk9y1S9E7OpTEjh0KA8iPVEUfECG9PN3PowICnxEEbGemgPI+bCyUH2IJDTQ3v823K8R7mhgA4TvuUCpOO81TvbkoYxDEH31UiT3wQC7N825D32O49NNtbS+TIH6SiTceHRgUAAax6Wm6awSuzWDgetobDQ2r/QJB5caNJQECw2F0OgrfeKMS+cEPOOt5oovGa0kpxwwHsqSW9tgBgRtykgJUWvpkBZ4mPsczCJiWWgpdcYXCm9eJvix32dosZxrtgMC2m8GgVWvapV53KnTddSUJAvgp/PWvg/WM0iVc7c8aG/k7EziQp9WdCQjcGILU55YsWUqVl0wrscAVQuvWFViit+L4Ajafu5ZcraUJPzz+norhpCwc4GmirYCAilKAekJlJc9aeZrYiV7fCbjRQb7L8TrRqiQDIS2Gk3lLU6yAwBUBBvAaLTefZSnBxUI/jiQ3uqP5cKdDD62suaa2tpL6AzBk7JodELgRBBg0UlERACGjK+13+gJoVa369sKFp5viaGtkJiBwIwMEt1ZX80esj7WVEuzI6AG/7ng+FQqdNBlD2Mfx5AQ6kaNfOyAYAJhsoK5bsKDJj2cSCzmkJltaUp32g/EDDPSNav5IqYwld30KCLjQDAQ04n1I6uJwuAGZUqWJF19URi68UEnQNLAfSTuBX0PwNtEiFM8AI6aglkaYgSArpRrSp+9K7/O3sieTPK8DjH31q8rYTTcpemenRY3yKqJnFCQQMnbODggMAk4GGOhbyL4AQaOFJTcSLwqN0oyfX2sBbvTJSia/dXbP3LlzJ/fhwEZs05rYAYEroYFKyPLlNTY35xB4YYiB4OfpIi0SLmVOr63l2CGWUktaWSYgcCOjMk1ZzpESyon36nShfZbnd7xPs0IhHhE4jjLwkjeMsgLClEZUULZAQGjK9XQRVhQ6s6fSFABgjwSCuVIKEFRpNhqUMy3H0wU9eYTZxYyhk0Cwq6hSpbIfEWTnvTpdSJ1u8VUVFfJikdWYD3hDtRMgUFOVUTXjUjmcLsK67uggNgNBoiV1aqD/RRybcSiY7LA8XTBfoglxBZ3SDTMQplTgAnrojf/GbsYmXkau2rChJB+Qialqv5PA2T3FnIYcun0cdSKs3OqU0gOzdr6nvx/MCwhpcukbf2M0S5VWVs4ZXiDiJ6b9eN6w0H6NK4qj07rdiJD22DNlHKGq0J3wQx4/fezGc5J+vSRD/1LraDS3A0JaDOgPJbppJSutrNwyfB0QoVHAtWltny40942Pd1Os0g5sq9iZgcANEHHmDQH0b+mtVZqj60orHTmX8ZJxhctTs+VwHWDnYAre0W91dBwU+414inyKNQMhtUMyA8nkHsxKyPJS5svpOsAuDjSS76PFdtvgy3ZOgKD3JxIHZKNS5926DsjklyQ9C+F1Gtf1D0knAwEbm2AJDDneowIagSot4+O+AIGneguZ+Dogun278Tqa14+OFbovTvxC323e46Qe13E0Iny7s/PglbNnD9ItpKfvnRXSeW7cCTh1sl/1+JROulMH9CTP5uCgZ95IckRAmaSGkMP0Ni0NM/yvY96mAl5pez0CSEf59eDs3tFR/FMcmzMl+NLGTEBIQ9LRZPJ12dAL3vz9AS90uqEj+cEHbojNKJMmAfsv6+h4b7JSWixFWUqGHRAkegwhB2Mxz4HAkzAlvNCTcjJ/QMPrNKzrL5NOAADxBJ1ijhUQUDlNyPe6uuhzILqjWaopWvIo4KXgUk/8KL3X6eN4/DekEzFk9YirpSlmIKCypMwnfzMyMjaq67+3lOJiYak/aRx/5hlfRrWdw8M8gnPssHGUEFfm05IZCHInGkGQ/lE8/oys4AXPdw6xTZu8UFVwHcazDPfeW3C50wmM6/ofbzh06ADVS8VukuemKGM+laYDAhoZ9IneXv6vpliqtUdMjJxZamDgO4XRK6/0ZTQ4kkjwAZsWO5G3jBrWFeROlDFIeDM+okWU5xzC3atWbaI/6biYeM8TLwjxrCB/UIu/qlaMiddHEnQ6iD/9tD/m0b+Mb+rvP+2fDh1qIwNoFTq1JYnnDQAh9pOEoH9SMsFxOW9TgPDWsmWXNUejj5gb+JGXX1gzXj3P8J0l493DDPut7DeWjgesH84y9ol5jmK51aUFwjcWtLSso/7wyM0bf1WNASFBwGBIS06AwGDg0cDYVtFz8ruam/+Pvq72qTRJQaYoPNA2NnbrSW1tj5MxDAKMCBgNmHKaAgQOcqaEYYSpgSh6uTzWF48/malRsM8fD9AkUtdthw7xOcl89COObNgUEHBhJiCgcQoEVN9QsGlg4Gd0KvJ8ToENDpK9B7ri8V+8ODIyQjUQMwkI+4a0xw4IZtRIwcnvdncfpgWNzRklBzs99QBPKd/X3b2BlHLwJQAQS1BLu+yAgMrc2LwZirYODT1E+/gcFKQi8EBvPP7YTwcG+NlSjpcEA1sHEIByWVrKBAQ0YooNCpJ/19m5dyCR8OkeKa0PMz7Dp+kNg4M/JUek4iNihjhm9FMmIMiGU4BAOxObenr+ZSa/BSUd5CffQ9cG/9zV1UU2AAiIl5namukECEAUK2EeypK3f/xxB12g+PMJctsuzawd9Fxi57c++mi9jIvgEbtpnTIdECBI0jQwXN3R8WM2ZlpNQQVXPPD+yMidT/b380uZqQOUeI6R3KbVPR0QIEAKlQoTb9GqJBuDigH1zgMjyeTLp+/f/zxplDEBzzFDkjzK0qgTIEAIU1YCCoUJNoaNSpMcZNz1AL2GuGVwkA/AVBwmeY6P3BzZwQtKThKmoiVlPrVVJpOvnlFT80V6wLXGicCgTn4eOBiP33Ph/v3bSQrWEpgCFAwEJMmjbAp1CgRuCBBACPIGGH47OjpybnX1HxvC4av8/M8nGFfO9GgisX3pnj08GnDw5YYRGyOCYzc4OTVIYVDAFOhL0YsOHHjtcDz+Y9kg4AvrAbowP3j7oUM3T/ofIEAMEB8o5byjlA0QpFAoZANgjEFPam39EV0v7HSkPaiUrQdiNKN7A00e9Qm/IwaICWhWsrM5NbBgnA6kEpQZpwha+1SP6vqOc2pqLqCl6gWyYsDn4QFdT75PS8w06r5MUuTBh9GAqflgdawwWyCwYARe8igzwLCLbilJ8AtnVlevo4vHWY6tCSraemDv+Ph3Tmlv5+V/CQLwAAFGAwkIW5lyRy5A4PZGwCcFSRCk9r06PDzcHAq9sqqq6nICQ3SybkBy8EBnLPavn96790FqisCD5g0AmJMPECAD1AwO9ZmhoZ7PVFb+rikSuZy+wxRBxYA690BPIvHY8Xv23E0tOPi82itBYHVayHo0YGtyBQK3xUhg5mVe3Tw42H1qZeXrx0ciF9HIUM07g+TMAx8lEr9Yunv396g2gi8pQCADL3lnSiZr5QMEFoFRQBowBSBPERgWq+oLq6PRzxMYPH2jOitvFEtlWlc+MD7+/RWtrfeTSeaRgPMSBOx76f+cepEvEKBUBh9loMa+rcPD/VFdf35NNPo5+ux/8OArvGOmup54d3T0xs+0tz9BuyQIrE4LEgR5gaEQQDCDwJznrhplL42MHD04NvbsebW1p9Df0S0x+2Cm52kgGPmf4eHrz96/fxv5wgoEdiNBXiBgvxcCCCzHKvhcLpNR573x8bH/OnJkyxXz5kVr6L8Jg+noCRfR9yd2b+7tvfaLnZ386rQ8+sEzCBgcHHTmEXxQKso9OQmgU+mQxZQ3nrXExoDDxu9HGPy2pUvPOSMafYAmnuZQ2YxN9Oby418+cOCuN8bGhskJHGw5GjDvKgjY8YUaEVgWJ4BhIjfxa4vYx/r7D1Tq+pZTotGT6TuOx8lGM4GndYP+34+M3LS6re2hg4nEGPUZIJDUdRCwr60Cl28MIJMpNh4ZGHSgGB0MOo/eonqpsfFvGiOR22l0oGyZJ7oY6E0mn76/u/ue+/v6+IOYHGycAgACAICpK6cD6eVCjwiQDTAgb6ZpowS9KaM/1Nv7h75E4kkaHWqrVfXPyvXaYSyZ/GDb4OD1Z+zbt+GN0VF+xAyBZyAg+FzGvCcgID2ujAgslxPAgFGBKa4ZMDKAyhFCe7S+/qRLamrujmraGkNSGfxQZPvaR0d/dE57+2O0dGgVdAACAADlgwYHDmjBPYJgFVzwpEDIl2CQgGAASDCA12hxouK/Gxou/vPq6lsqVfVEtwx0Wy5F7mjX+Pime3t6Hvx5b28P6eMA44iXwUeZGQAIPqgrJiNQrggXQgEELgIQQCUYUkCgekY5AUIrRUDQheDg4Vjs4R/29DxMAOil/pgBgHwmACD4oOw/V5JXQGDjoYspNg48b5wHIKaAgeuUCiAAgDu7un7+5NAQv4KGgONIl4GXPAeb6yDoZkq73EsIjnsa0iVDH4AgKUAhgWDmOa82KUrkP5YuXdtUWXnZXE27wO9nHujjFO/SI3rPbezr2/LDI0fo+6Spq/zpgo/9HHS5sdcABOZdTwiM64qEAqlTAoF5CQYzzyOGrGPwJ1ZWRu5fvPgvVoTDa+eFQmtp6ppw4m7i+/+hZPK1jljslV8NDPz23ong42hGcJ1QDjbasdEIPqi7HRHS2Zl+JeiW1DjiySAjyETNYEBe7mceefXuRYvqL6+pOZdA0Uz/MbGM/qdwaVjT6nPtJAV9IKbr++mo30eP4O39YGRk5191dLxJ8jhY2BBMBJ/LwVtRtJMUJnKZ54kd6GeS+hFQSQEMOwDI/VbtuG+Gjn+vq2taHoksojmK2kpNq6Y7keqIptXQSmiUTtTj9CXzYZrvH6b7/GF6+HaYHgjp3dLf3/7Lo0f5PM9JBk3yEgRcbg48yiSV7Q3hk/LBe04NJ3mudapC2CEp83IzB92c57ook+2Y52SmE6XWvxwoJASN8xxkTgi+ObgAgVU55DDlZKYTpT79wjk+qZ+iFvZIyrzVJoMueau6Uh6Uogx5pgiO5FHGVG4SDFwu85KXbaRcM89535KVM3wzRiiGXVaUyzJtEhQsEnXBM+UE2RO5T345cEgIIufB50LRXsoFXxTUzhlFYRwZIe0Dz9TMo8yunPuDfWae8+YEMFhROyCwDOwDL6mZ53zRJOmcojHKwhBppxXPZSi341ks6ph5znNC4Cdyn+RRbg60LJftUW6Wg3zRUemYojPOwiCzvTIPHpSbgweFSHMe5aAykFY8ykC5neSt8pBdlHQ6hxSl0cIos/3Z5oUoSzZTcM37WIBVmaXgYis0O67Y7MvGHru+2JVnI9suwHbl2cguirqFcFJRdMTGiEL2r2yCbuOroDjwQOCBwAOBBwIPSA/8P8GK7WJaNz/dAAAAAElFTkSuQmCC",alt:"Youtube",className:"link"}),(0,a.jsx)("img",{src:iS,alt:"Instagram",className:"link"})]})]})]}),(0,a.jsx)(E,{})]})};tt("firebase","10.8.0","app");const hS={apiKey:"AIzaSyCvafXWcjByZCRfX9G4hfU1RZ0vU84sKFM",authDomain:"thedivinecaster-877cc.firebaseapp.com",projectId:"thedivinecaster-877cc",storageBucket:"thedivinecaster-877cc.appspot.com",messagingSenderId:"293556884205",appId:"1:293556884205:web:927adc85f21909063572e4",measurementId:"G-194H2WERR6"},dS=Vs(Xe(hS)),fS=e=>{let{onLoginSuccess:n}=e;const[r,i]=(0,t.useState)(""),[s,o]=(0,t.useState)("");return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("section",{id:"loginPage",children:[(0,a.jsx)("h1",{className:"loginPageTitle",children:"Login"}),(0,a.jsxs)("div",{className:"login-form",children:[(0,a.jsx)("div",{className:"login-description",children:"Please enter username and password"}),(0,a.jsxs)("div",{className:"login-inputs",children:[(0,a.jsx)("input",{type:"text",className:"username",placeholder:"Username",name:"username",id:"username",value:r,onChange:e=>i(e.target.value)}),(0,a.jsx)("input",{type:"password",className:"password",placeholder:"Password",name:"password",id:"password",value:s,onChange:e=>o(e.target.value)})]}),(0,a.jsxs)("div",{className:"login-buttons",children:[(0,a.jsx)("button",{onClick:()=>{i(""),o("")},className:"btn btn-danger",children:"Reset"}),(0,a.jsx)("button",{onClick:async()=>{try{const t=r+"@gmail.com";if((await zr(dS,t,s)).user){var e=+JSON.parse(sessionStorage.getItem("controllerData")).duration;e*=60,alert("Auto Logout in "+e+" seconds"),n()}}catch(t){alert("You are not authorized to view data"),window.location.reload()}},className:"btn btn-success",children:"Login"})]})]})]}),(0,a.jsx)(E,{})]})},pS=[{id:1,title:"Resume",link:"https://drive.google.com/drive/u/0/folders/14MX51ZA5RBh21W2lFAn6qpfyrfCRkHcY",priority:"low"},{id:2,title:"Pancard",link:"https://drive.google.com/drive/u/0/folders/14Rlqw6deqKiQJUOOHEd53R7ZsPxK8q7N",priority:"high"},{id:3,title:"Aadhar Card",link:"https://drive.google.com/drive/u/0/folders/148AitSnejhLQaUHO7w1BK0nFiZ6D8pZS",priority:"high"},{id:4,title:"Passport",link:"https://drive.google.com/drive/u/0/folders/12ydpDjFJYcG1kmFljgAUBwEPtPmrkFIB",priority:"high"},{id:5,title:"Driving License",link:"https://drive.google.com/drive/u/0/folders/14hyXsiPMnLSMboCDOKVRQelWLcwIpSlr",priority:"high"},{id:6,title:"TCS Things",link:"https://drive.google.com/drive/u/0/folders/1CrewHRkkA7c4zE3SJh7K1sh_qlbyfg-o",priority:"high"},{id:7,title:"Sem Marks",link:"https://drive.google.com/drive/u/0/folders/14koUmFcgXrvuSe9Hl4lDKIYuzXOWndbi",priority:"medium"},{id:8,title:"SSLC",link:"https://drive.google.com/drive/u/0/folders/12xksbOfyv7QojWJZ5KbiECKLc9bkoH9l",priority:"medium"},{id:9,title:"Offer Letters",link:"https://drive.google.com/drive/u/0/folders/13PqdKXQtAhNg2rgwfDCP8Wb315AZhadF",priority:"low"},{id:10,title:"NSR E-Card",link:"https://drive.google.com/drive/u/0/folders/1FZppcd5ot43jS_Z7NEcbXkuiJa68V2ab",priority:"low"},{id:11,title:"Experience Letters",link:"https://drive.google.com/drive/u/0/folders/13z_VYr9e6PJhr-QMHsZjZgOrz7Fqdvx9",priority:"low"},{id:12,title:"Covid Certificates",link:"https://drive.google.com/drive/u/0/folders/1EH0pU8Za4ffXN5MsI3vWIlVw5nWburEM",priority:"low"},{id:13,title:"Certificates",link:"https://drive.google.com/drive/u/0/folders/14tPEwfZhzFNBSvrtvffjKrMHzt-wGbvw",priority:"medium"},{id:14,title:"Birth Certificate",link:"https://drive.google.com/drive/u/0/folders/12y9pCQeSOxXb5rY87fnQg_D4qVazmw4U",priority:"low"},{id:15,title:"My Picture",link:"https://drive.google.com/drive/u/0/folders/14VVpLssxjceBeixpfYBmUEf4zIPtZnI-",priority:"low"},{id:16,title:"Bank Details",link:"https://drive.google.com/drive/u/0/folders/13PugLtuE_SDCz-UZp1C_7b_1NaM5DbZG",priority:"low"},{id:17,title:"My Signature",link:"https://drive.google.com/drive/u/0/folders/1RethLc0ogDCIGQSQDM5EJLq_IRyU8IEE",priority:"low"},{id:18,title:"All Datas",link:"https://drive.google.com/drive/u/0/folders/1-249-TtjT-uE3OJt_GVdYV8PHg8iZjU_",priority:"low"},{id:19,title:"K Docs",link:"https://drive.google.com/drive/u/0/folders/1-HaFOYnze3MqSP2x9JI-8PgZDX34h81j",priority:"low"},{id:20,title:"Sis Docs",link:"https://drive.google.com/drive/u/0/folders/1-AVJNcWYuIH-0mdhkNlf3a7_Ev_QXYZ6",priority:"low"},{id:21,title:"Dad Docs",link:"https://drive.google.com/drive/u/0/folders/1-BXoEZkqyL9z6Uk0TvjUmovqpF_1_kuv",priority:"low"},{id:22,title:"Mom Docs",link:"https://drive.google.com/drive/u/0/folders/1QMWhWiC6bHcbgcNiYcTlHSYLkjbjH-7M",priority:"low"}],mS=n.p+"static/media/folder-image-red.85399292f14433904513.png",gS=n.p+"static/media/folder-image-green.c456f6840d61929cb8e7.png",vS=n.p+"static/media/folder-image-yellow.7d9a04d795d0e3d31b57.png",yS=n.p+"static/media/folder-image-purple.ef8352f2ddce35d1e30d.png",wS=()=>{const[e,n]=(0,t.useState)(pS),[r,i]=(0,t.useState)("title"),s=t=>{let r;switch(t){case"title":r=[...e].sort(((e,t)=>e.title.localeCompare(t.title)));break;case"priority":r=[...e].sort(((e,t)=>e.priority<t.priority?-1:e.priority>t.priority?1:0));break;case"id":r=[...e].sort(((e,t)=>e.id-t.id));break;default:r=e}n(r)};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"sort-div",children:[(0,a.jsxs)("select",{value:r,onChange:e=>{i(e.target.value),s(e.target.value)},className:"sort-selector",children:[(0,a.jsx)("option",{value:"id",default:!0,children:"Sort by ID"}),(0,a.jsx)("option",{value:"title",children:"Sort by Name"}),(0,a.jsx)("option",{value:"priority",children:"Sort by Priority"})]}),(0,a.jsx)("button",{className:"btn btn-danger logout-button",onClick:()=>{window.location.reload()},children:"Logout"})]}),(0,a.jsx)("div",{className:"data-item-box",children:e.map((e=>(0,a.jsx)("a",{href:e.link,target:"_blank",rel:"noopener noreferrer",children:(0,a.jsx)("div",{className:"data-item-container",children:(0,a.jsxs)("div",{className:"data-item",children:[(0,a.jsx)("div",{className:"data-title",children:e.title}),(0,a.jsx)("div",{className:"data-image",children:(()=>{switch(e.priority){case"high":return(0,a.jsx)("img",{src:mS,alt:""});case"medium":return(0,a.jsx)("img",{src:gS,alt:""});case"low":return(0,a.jsx)("img",{src:vS,alt:""});default:return(0,a.jsx)("img",{src:yS,alt:""})}})()})]})})},e.id)))})]})};const bS=function(e){const[n,r]=(0,t.useState)(e.initialTimer);return(0,t.useEffect)((()=>{const e=setInterval((()=>{r((t=>0===t?(clearInterval(e),window.location.reload(),0):t-1))}),1e3);return()=>clearInterval(e)}),[e.initialTimer]),(0,a.jsxs)("div",{className:"timer-container",children:[(0,a.jsx)("span",{className:"timer",children:n.toString().padStart(2,"0")}),(0,a.jsx)("span",{className:"seconds-left",children:"seconds left"})]})},_S=()=>{var e=+JSON.parse(sessionStorage.getItem("controllerData")).duration;return e*=60,(0,a.jsxs)("section",{id:"private-data",children:[(0,a.jsxs)("div",{className:"private-data-title-countdown",children:[(0,a.jsx)("h1",{className:"private-data-title",children:"Private Data"}),(0,a.jsx)("h1",{className:"private-data-timer",children:(0,a.jsx)(bS,{initialTimer:e})})]}),(0,a.jsx)("div",{className:"private-data-content",children:(0,a.jsx)(wS,{})})]})};var IS=Object.defineProperty,ES={};((e,t)=>{for(var n in t)IS(e,n,{get:t[n],enumerable:!0})})(ES,{assign:()=>nx,colors:()=>$S,createStringInterpolator:()=>YS,skipAnimation:()=>ex,to:()=>JS,willAdvance:()=>tx});var kS=VS(),SS=e=>LS(e,kS),xS=VS();SS.write=e=>LS(e,xS);var TS=VS();SS.onStart=e=>LS(e,TS);var NS=VS();SS.onFrame=e=>LS(e,NS);var AS=VS();SS.onFinish=e=>LS(e,AS);var CS=[];SS.setTimeout=(e,t)=>{const n=SS.now()+t,r=()=>{const e=CS.findIndex((e=>e.cancel==r));~e&&CS.splice(e,1),OS-=~e?1:0},i={time:n,handler:e,cancel:r};return CS.splice(DS(n),0,i),OS+=1,MS(),i};var DS=e=>~(~CS.findIndex((t=>t.time>e))||~CS.length);SS.cancel=e=>{TS.delete(e),NS.delete(e),AS.delete(e),kS.delete(e),xS.delete(e)},SS.sync=e=>{jS=!0,SS.batchedUpdates(e),jS=!1},SS.throttle=e=>{let t;function n(){try{e(...t)}finally{t=null}}function r(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];t=r,SS.onStart(n)}return r.handler=e,r.cancel=()=>{TS.delete(n),t=null},r};var RS="undefined"!=typeof window?window.requestAnimationFrame:()=>{};SS.use=e=>RS=e,SS.now="undefined"!=typeof performance?()=>performance.now():Date.now,SS.batchedUpdates=e=>e(),SS.catch=console.error,SS.frameLoop="always",SS.advance=()=>{"demand"!==SS.frameLoop?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):US()};var PS=-1,OS=0,jS=!1;function LS(e,t){jS?(t.delete(e),e(0)):(t.add(e),MS())}function MS(){PS<0&&(PS=0,"demand"!==SS.frameLoop&&RS(FS))}function FS(){~PS&&(RS(FS),SS.batchedUpdates(US))}function US(){const e=PS;PS=SS.now();const t=DS(PS);t&&(BS(CS.splice(0,t),(e=>e.handler())),OS-=t),OS?(TS.flush(),kS.flush(e?Math.min(64,PS-e):16.667),NS.flush(),xS.flush(),AS.flush()):PS=-1}function VS(){let e=new Set,t=e;return{add(n){OS+=t!=e||e.has(n)?0:1,e.add(n)},delete:n=>(OS-=t==e&&e.has(n)?1:0,e.delete(n)),flush(n){t.size&&(e=new Set,OS-=t.size,BS(t,(t=>t(n)&&e.add(t))),OS+=e.size,t=e)}}}function BS(e,t){e.forEach((e=>{try{t(e)}catch(n){SS.catch(n)}}))}function zS(){}var qS={arr:Array.isArray,obj:e=>!!e&&"Object"===e.constructor.name,fun:e=>"function"===typeof e,str:e=>"string"===typeof e,num:e=>"number"===typeof e,und:e=>void 0===e};function GS(e,t){if(qS.arr(e)){if(!qS.arr(t)||e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return e===t}var KS=(e,t)=>e.forEach(t);function HS(e,t,n){if(qS.arr(e))for(let r=0;r<e.length;r++)t.call(n,e[r],"".concat(r));else for(const r in e)e.hasOwnProperty(r)&&t.call(n,e[r],r)}var QS=e=>qS.und(e)?[]:qS.arr(e)?e:[e];function WS(e,t){if(e.size){const n=Array.from(e);e.clear(),KS(n,t)}}var YS,JS,XS=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return WS(e,(e=>e(...n)))},ZS=()=>"undefined"===typeof window||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),$S=null,ex=!1,tx=zS,nx=e=>{e.to&&(JS=e.to),e.now&&(SS.now=e.now),void 0!==e.colors&&($S=e.colors),null!=e.skipAnimation&&(ex=e.skipAnimation),e.createStringInterpolator&&(YS=e.createStringInterpolator),e.requestAnimationFrame&&SS.use(e.requestAnimationFrame),e.batchedUpdates&&(SS.batchedUpdates=e.batchedUpdates),e.willAdvance&&(tx=e.willAdvance),e.frameLoop&&(SS.frameLoop=e.frameLoop)},rx=new Set,ix=[],sx=[],ax=0,ox={get idle(){return!rx.size&&!ix.length},start(e){ax>e.priority?(rx.add(e),SS.onStart(lx)):(cx(e),SS(hx))},advance:hx,sort(e){if(ax)SS.onFrame((()=>ox.sort(e)));else{const t=ix.indexOf(e);~t&&(ix.splice(t,1),ux(e))}},clear(){ix=[],rx.clear()}};function lx(){rx.forEach(cx),rx.clear(),SS(hx)}function cx(e){ix.includes(e)||ux(e)}function ux(e){ix.splice(function(e,t){const n=e.findIndex(t);return n<0?e.length:n}(ix,(t=>t.priority>e.priority)),0,e)}function hx(e){const t=sx;for(let n=0;n<ix.length;n++){const r=ix[n];ax=r.priority,r.idle||(tx(r),r.advance(e),r.idle||t.push(r))}return ax=0,(sx=ix).length=0,(ix=t).length>0}var dx="[-+]?\\d*\\.?\\d+",fx=dx+"%";function px(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return"\\(\\s*("+t.join(")\\s*,\\s*(")+")\\s*\\)"}var mx=new RegExp("rgb"+px(dx,dx,dx)),gx=new RegExp("rgba"+px(dx,dx,dx,dx)),vx=new RegExp("hsl"+px(dx,fx,fx)),yx=new RegExp("hsla"+px(dx,fx,fx,dx)),wx=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,bx=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,_x=/^#([0-9a-fA-F]{6})$/,Ix=/^#([0-9a-fA-F]{8})$/;function Ex(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function kx(e,t,n){const r=n<.5?n*(1+t):n+t-n*t,i=2*n-r,s=Ex(i,r,e+1/3),a=Ex(i,r,e),o=Ex(i,r,e-1/3);return Math.round(255*s)<<24|Math.round(255*a)<<16|Math.round(255*o)<<8}function Sx(e){const t=parseInt(e,10);return t<0?0:t>255?255:t}function xx(e){return(parseFloat(e)%360+360)%360/360}function Tx(e){const t=parseFloat(e);return t<0?0:t>1?255:Math.round(255*t)}function Nx(e){const t=parseFloat(e);return t<0?0:t>100?1:t/100}function Ax(e){let t=function(e){let t;return"number"===typeof e?e>>>0===e&&e>=0&&e<=4294967295?e:null:(t=_x.exec(e))?parseInt(t[1]+"ff",16)>>>0:$S&&void 0!==$S[e]?$S[e]:(t=mx.exec(e))?(Sx(t[1])<<24|Sx(t[2])<<16|Sx(t[3])<<8|255)>>>0:(t=gx.exec(e))?(Sx(t[1])<<24|Sx(t[2])<<16|Sx(t[3])<<8|Tx(t[4]))>>>0:(t=wx.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+"ff",16)>>>0:(t=Ix.exec(e))?parseInt(t[1],16)>>>0:(t=bx.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+t[4]+t[4],16)>>>0:(t=vx.exec(e))?(255|kx(xx(t[1]),Nx(t[2]),Nx(t[3])))>>>0:(t=yx.exec(e))?(kx(xx(t[1]),Nx(t[2]),Nx(t[3]))|Tx(t[4]))>>>0:null}(e);if(null===t)return e;t=t||0;const n=(16711680&t)>>>16,r=(65280&t)>>>8,i=(255&t)/255;return"rgba(".concat((4278190080&t)>>>24,", ").concat(n,", ").concat(r,", ").concat(i,")")}var Cx=(e,t,n)=>{if(qS.fun(e))return e;if(qS.arr(e))return Cx({range:e,output:t,extrapolate:n});if(qS.str(e.output[0]))return YS(e);const r=e,i=r.output,s=r.range||[0,1],a=r.extrapolateLeft||r.extrapolate||"extend",o=r.extrapolateRight||r.extrapolate||"extend",l=r.easing||(e=>e);return e=>{const t=function(e,t){for(var n=1;n<t.length-1&&!(t[n]>=e);++n);return n-1}(e,s);return function(e,t,n,r,i,s,a,o,l){let c=l?l(e):e;if(c<t){if("identity"===a)return c;"clamp"===a&&(c=t)}if(c>n){if("identity"===o)return c;"clamp"===o&&(c=n)}if(r===i)return r;if(t===n)return e<=t?r:i;t===-1/0?c=-c:n===1/0?c-=t:c=(c-t)/(n-t);c=s(c),r===-1/0?c=-c:i===1/0?c+=r:c=c*(i-r)+r;return c}(e,s[t],s[t+1],i[t],i[t+1],l,a,o,r.map)}};var Dx=1.70158,Rx=1.525*Dx,Px=Dx+1,Ox=2*Math.PI/3,jx=2*Math.PI/4.5,Lx=e=>{const t=7.5625,n=2.75;return e<1/n?t*e*e:e<2/n?t*(e-=1.5/n)*e+.75:e<2.5/n?t*(e-=2.25/n)*e+.9375:t*(e-=2.625/n)*e+.984375},Mx={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>1-(1-e)*(1-e),easeInOutQuad:e=>e<.5?2*e*e:1-Math.pow(-2*e+2,2)/2,easeInCubic:e=>e*e*e,easeOutCubic:e=>1-Math.pow(1-e,3),easeInOutCubic:e=>e<.5?4*e*e*e:1-Math.pow(-2*e+2,3)/2,easeInQuart:e=>e*e*e*e,easeOutQuart:e=>1-Math.pow(1-e,4),easeInOutQuart:e=>e<.5?8*e*e*e*e:1-Math.pow(-2*e+2,4)/2,easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>1-Math.pow(1-e,5),easeInOutQuint:e=>e<.5?16*e*e*e*e*e:1-Math.pow(-2*e+2,5)/2,easeInSine:e=>1-Math.cos(e*Math.PI/2),easeOutSine:e=>Math.sin(e*Math.PI/2),easeInOutSine:e=>-(Math.cos(Math.PI*e)-1)/2,easeInExpo:e=>0===e?0:Math.pow(2,10*e-10),easeOutExpo:e=>1===e?1:1-Math.pow(2,-10*e),easeInOutExpo:e=>0===e?0:1===e?1:e<.5?Math.pow(2,20*e-10)/2:(2-Math.pow(2,-20*e+10))/2,easeInCirc:e=>1-Math.sqrt(1-Math.pow(e,2)),easeOutCirc:e=>Math.sqrt(1-Math.pow(e-1,2)),easeInOutCirc:e=>e<.5?(1-Math.sqrt(1-Math.pow(2*e,2)))/2:(Math.sqrt(1-Math.pow(-2*e+2,2))+1)/2,easeInBack:e=>Px*e*e*e-Dx*e*e,easeOutBack:e=>1+Px*Math.pow(e-1,3)+Dx*Math.pow(e-1,2),easeInOutBack:e=>e<.5?Math.pow(2*e,2)*(7.189819*e-Rx)/2:(Math.pow(2*e-2,2)*((Rx+1)*(2*e-2)+Rx)+2)/2,easeInElastic:e=>0===e?0:1===e?1:-Math.pow(2,10*e-10)*Math.sin((10*e-10.75)*Ox),easeOutElastic:e=>0===e?0:1===e?1:Math.pow(2,-10*e)*Math.sin((10*e-.75)*Ox)+1,easeInOutElastic:e=>0===e?0:1===e?1:e<.5?-Math.pow(2,20*e-10)*Math.sin((20*e-11.125)*jx)/2:Math.pow(2,-20*e+10)*Math.sin((20*e-11.125)*jx)/2+1,easeInBounce:e=>1-Lx(1-e),easeOutBounce:Lx,easeInOutBounce:e=>e<.5?(1-Lx(1-2*e))/2:(1+Lx(2*e-1))/2,steps:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"end";return n=>{const r=(n="end"===t?Math.min(n,.999):Math.max(n,.001))*e;return((e,t,n)=>Math.min(Math.max(n,e),t))(0,1,("end"===t?Math.floor(r):Math.ceil(r))/e)}}},Fx=Symbol.for("FluidValue.get"),Ux=Symbol.for("FluidValue.observers"),Vx=e=>Boolean(e&&e[Fx]),Bx=e=>e&&e[Fx]?e[Fx]():e,zx=e=>e[Ux]||null;function qx(e,t){const n=e[Ux];n&&n.forEach((e=>{!function(e,t){e.eventObserved?e.eventObserved(t):e(t)}(e,t)}))}var Gx=class{constructor(e){if(!e&&!(e=this.get))throw Error("Unknown getter");Kx(this,e)}},Kx=(e,t)=>Yx(e,Fx,t);function Hx(e,t){if(e[Fx]){let n=e[Ux];n||Yx(e,Ux,n=new Set),n.has(t)||(n.add(t),e.observerAdded&&e.observerAdded(n.size,t))}return t}function Qx(e,t){const n=e[Ux];if(n&&n.has(t)){const r=n.size-1;r?n.delete(t):e[Ux]=null,e.observerRemoved&&e.observerRemoved(r,t)}}var Wx,Yx=(e,t,n)=>Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0}),Jx=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,Xx=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,Zx=new RegExp("(".concat(Jx.source,")(%|[a-z]+)"),"i"),$x=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,eT=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,tT=e=>{const[t,n]=nT(e);if(!t||ZS())return e;const r=window.getComputedStyle(document.documentElement).getPropertyValue(t);if(r)return r.trim();if(n&&n.startsWith("--")){const t=window.getComputedStyle(document.documentElement).getPropertyValue(n);return t||e}return n&&eT.test(n)?tT(n):n||e},nT=e=>{const t=eT.exec(e);if(!t)return[,];const[,n,r]=t;return[n,r]},rT=(e,t,n,r,i)=>"rgba(".concat(Math.round(t),", ").concat(Math.round(n),", ").concat(Math.round(r),", ").concat(i,")"),iT=e=>{Wx||(Wx=$S?new RegExp("(".concat(Object.keys($S).join("|"),")(?!\\w)"),"g"):/^\b$/);const t=e.output.map((e=>Bx(e).replace(eT,tT).replace(Xx,Ax).replace(Wx,Ax))),n=t.map((e=>e.match(Jx).map(Number))),r=n[0].map(((e,t)=>n.map((e=>{if(!(t in e))throw Error('The arity of each "output" value must be equal');return e[t]})))).map((t=>Cx({...e,output:t})));return e=>{var n;const i=!Zx.test(t[0])&&(null===(n=t.find((e=>Zx.test(e))))||void 0===n?void 0:n.replace(Jx,""));let s=0;return t[0].replace(Jx,(()=>"".concat(r[s++](e)).concat(i||""))).replace($x,rT)}},sT="react-spring: ",aT=e=>{const t=e;let n=!1;if("function"!=typeof t)throw new TypeError("".concat(sT,"once requires a function parameter"));return function(){n||(t(...arguments),n=!0)}},oT=aT(console.warn);var lT=aT(console.warn);function cT(e){return qS.str(e)&&("#"==e[0]||/\d/.test(e)||!ZS()&&eT.test(e)||e in($S||{}))}var uT=ZS()?t.useEffect:t.useLayoutEffect,hT=()=>{const e=(0,t.useRef)(!1);return uT((()=>(e.current=!0,()=>{e.current=!1})),[]),e};function dT(){const e=(0,t.useState)()[1],n=hT();return()=>{n.current&&e(Math.random())}}var fT=e=>(0,t.useEffect)(e,pT),pT=[];function mT(e){const n=(0,t.useRef)();return(0,t.useEffect)((()=>{n.current=e})),n.current}var gT=Symbol.for("Animated:node"),vT=e=>e&&e[gT],yT=(e,t)=>{return n=e,r=gT,i=t,Object.defineProperty(n,r,{value:i,writable:!0,configurable:!0});var n,r,i},wT=e=>e&&e[gT]&&e[gT].getPayload(),bT=class{constructor(){yT(this,this)}getPayload(){return this.payload||[]}},_T=class extends bT{constructor(e){super(),this._value=e,this.done=!0,this.durationProgress=0,qS.num(this._value)&&(this.lastPosition=this._value)}static create(e){return new _T(e)}getPayload(){return[this]}getValue(){return this._value}setValue(e,t){return qS.num(e)&&(this.lastPosition=e,t&&(e=Math.round(e/t)*t,this.done&&(this.lastPosition=e))),this._value!==e&&(this._value=e,!0)}reset(){const{done:e}=this;this.done=!1,qS.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,e&&(this.lastVelocity=null),this.v0=null)}},IT=class extends _T{constructor(e){super(0),this._string=null,this._toString=Cx({output:[e,e]})}static create(e){return new IT(e)}getValue(){const e=this._string;return null==e?this._string=this._toString(this._value):e}setValue(e){if(qS.str(e)){if(e==this._string)return!1;this._string=e,this._value=1}else{if(!super.setValue(e))return!1;this._string=null}return!0}reset(e){e&&(this._toString=Cx({output:[this.getValue(),e]})),this._value=0,super.reset()}},ET={dependencies:null},kT=class extends bT{constructor(e){super(),this.source=e,this.setValue(e)}getValue(e){const t={};return HS(this.source,((n,r)=>{var i;(i=n)&&i[gT]===i?t[r]=n.getValue(e):Vx(n)?t[r]=Bx(n):e||(t[r]=n)})),t}setValue(e){this.source=e,this.payload=this._makePayload(e)}reset(){this.payload&&KS(this.payload,(e=>e.reset()))}_makePayload(e){if(e){const t=new Set;return HS(e,this._addToPayload,t),Array.from(t)}}_addToPayload(e){ET.dependencies&&Vx(e)&&ET.dependencies.add(e);const t=wT(e);t&&KS(t,(e=>this.add(e)))}},ST=class extends kT{constructor(e){super(e)}static create(e){return new ST(e)}getValue(){return this.source.map((e=>e.getValue()))}setValue(e){const t=this.getPayload();return e.length==t.length?t.map(((t,n)=>t.setValue(e[n]))).some(Boolean):(super.setValue(e.map(xT)),!0)}};function xT(e){return(cT(e)?IT:_T).create(e)}function TT(e){const t=vT(e);return t?t.constructor:qS.arr(e)?ST:cT(e)?IT:_T}var NT=(e,n)=>{const r=!qS.fun(e)||e.prototype&&e.prototype.isReactComponent;return(0,t.forwardRef)(((i,s)=>{const a=(0,t.useRef)(null),o=r&&(0,t.useCallback)((e=>{a.current=function(e,t){e&&(qS.fun(e)?e(t):e.current=t);return t}(s,e)}),[s]),[l,c]=function(e,t){const n=new Set;ET.dependencies=n,e.style&&(e={...e,style:t.createAnimatedStyle(e.style)});return e=new kT(e),ET.dependencies=null,[e,n]}(i,n),u=dT(),h=()=>{const e=a.current;if(r&&!e)return;!1===(!!e&&n.applyAnimatedValues(e,l.getValue(!0)))&&u()},d=new AT(h,c),f=(0,t.useRef)();uT((()=>(f.current=d,KS(c,(e=>Hx(e,d))),()=>{f.current&&(KS(f.current.deps,(e=>Qx(e,f.current))),SS.cancel(f.current.update))}))),(0,t.useEffect)(h,[]),fT((()=>()=>{const e=f.current;KS(e.deps,(t=>Qx(t,e)))}));const p=n.getComponentProps(l.getValue());return t.createElement(e,{...p,ref:o})}))},AT=class{constructor(e,t){this.update=e,this.deps=t}eventObserved(e){"change"==e.type&&SS.write(this.update)}};var CT=Symbol.for("AnimatedComponent"),DT=e=>qS.str(e)?e:e&&qS.str(e.displayName)?e.displayName:qS.fun(e)&&e.name||null;function RT(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return qS.fun(e)?e(...n):e}var PT=(e,t)=>!0===e||!!(t&&e&&(qS.fun(e)?e(t):QS(e).includes(t))),OT=(e,t)=>qS.obj(e)?t&&e[t]:e,jT=(e,t)=>!0===e.default?e[t]:e.default?e.default[t]:void 0,LT=e=>e,MT=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:LT,n=FT;e.default&&!0!==e.default&&(e=e.default,n=Object.keys(e));const r={};for(const i of n){const n=t(e[i],i);qS.und(n)||(r[i]=n)}return r},FT=["config","onProps","onStart","onChange","onPause","onResume","onRest"],UT={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function VT(e){const t=function(e){const t={};let n=0;if(HS(e,((e,r)=>{UT[r]||(t[r]=e,n++)})),n)return t}(e);if(t){const n={to:t};return HS(e,((e,r)=>r in t||(n[r]=e))),n}return{...e}}function BT(e){return e=Bx(e),qS.arr(e)?e.map(BT):cT(e)?ES.createStringInterpolator({range:[0,1],output:[e,e]})(1):e}function zT(e){for(const t in e)return!0;return!1}function qT(e){return qS.fun(e)||qS.arr(e)&&qS.obj(e[0])}function GT(e,t){var n;null===(n=e.ref)||void 0===n||n.delete(e),null===t||void 0===t||t.delete(e)}function KT(e,t){var n;t&&e.ref!==t&&(null===(n=e.ref)||void 0===n||n.delete(e),t.add(e),e.ref=t)}var HT={tension:170,friction:26,mass:1,damping:1,easing:Mx.linear,clamp:!1},QT=class{constructor(){this.velocity=0,Object.assign(this,HT)}};function WT(e,t){if(qS.und(t.decay)){const n=!qS.und(t.tension)||!qS.und(t.friction);!n&&qS.und(t.frequency)&&qS.und(t.damping)&&qS.und(t.mass)||(e.duration=void 0,e.decay=void 0),n&&(e.frequency=void 0)}else e.duration=void 0}var YT=[],JT=class{constructor(){this.changed=!1,this.values=YT,this.toValues=null,this.fromValues=YT,this.config=new QT,this.immediate=!1}};function XT(e,t){let{key:n,props:r,defaultProps:i,state:s,actions:a}=t;return new Promise(((t,o)=>{var l;let c,u,h=PT(null!==(l=r.cancel)&&void 0!==l?l:null===i||void 0===i?void 0:i.cancel,n);if(h)p();else{qS.und(r.pause)||(s.paused=PT(r.pause,n));let e=null===i||void 0===i?void 0:i.pause;!0!==e&&(e=s.paused||PT(e,n)),c=RT(r.delay||0,n),e?(s.resumeQueue.add(f),a.pause()):(a.resume(),f())}function d(){s.resumeQueue.add(f),s.timeouts.delete(u),u.cancel(),c=u.time-SS.now()}function f(){c>0&&!ES.skipAnimation?(s.delayed=!0,u=SS.setTimeout(p,c),s.pauseQueue.add(d),s.timeouts.add(u)):p()}function p(){s.delayed&&(s.delayed=!1),s.pauseQueue.delete(d),s.timeouts.delete(u),e<=(s.cancelId||0)&&(h=!0);try{a.start({...r,callId:e,cancel:h},t)}catch(n){o(n)}}}))}var ZT=(e,t)=>1==t.length?t[0]:t.some((e=>e.cancelled))?tN(e.get()):t.every((e=>e.noop))?$T(e.get()):eN(e.get(),t.every((e=>e.finished))),$T=e=>({value:e,noop:!0,finished:!0,cancelled:!1}),eN=function(e,t){return{value:e,finished:t,cancelled:arguments.length>2&&void 0!==arguments[2]&&arguments[2]}},tN=e=>({value:e,cancelled:!0,finished:!1});function nN(e,t,n,r){const{callId:i,parentId:s,onRest:a}=t,{asyncTo:o,promise:l}=n;return s||e!==o||t.reset?n.promise=(async()=>{n.asyncId=i,n.asyncTo=e;const c=MT(t,((e,t)=>"onRest"===t?void 0:e));let u,h;const d=new Promise(((e,t)=>(u=e,h=t))),f=e=>{const t=i<=(n.cancelId||0)&&tN(r)||i!==n.asyncId&&eN(r,!1);if(t)throw e.result=t,h(e),e},p=(e,t)=>{const s=new iN,a=new sN;return(async()=>{if(ES.skipAnimation)throw rN(n),a.result=eN(r,!1),h(a),a;f(s);const o=qS.obj(e)?{...e}:{...t,to:e};o.parentId=i,HS(c,((e,t)=>{qS.und(o[t])&&(o[t]=e)}));const l=await r.start(o);return f(s),n.paused&&await new Promise((e=>{n.resumeQueue.add(e)})),l})()};let m;if(ES.skipAnimation)return rN(n),eN(r,!1);try{let t;t=qS.arr(e)?(async e=>{for(const t of e)await p(t)})(e):Promise.resolve(e(p,r.stop.bind(r))),await Promise.all([t.then(u),d]),m=eN(r.get(),!0,!1)}catch(g){if(g instanceof iN)m=g.result;else{if(!(g instanceof sN))throw g;m=g.result}}finally{i==n.asyncId&&(n.asyncId=s,n.asyncTo=s?o:void 0,n.promise=s?l:void 0)}return qS.fun(a)&&SS.batchedUpdates((()=>{a(m,r,r.item)})),m})():l}function rN(e,t){WS(e.timeouts,(e=>e.cancel())),e.pauseQueue.clear(),e.resumeQueue.clear(),e.asyncId=e.asyncTo=e.promise=void 0,t&&(e.cancelId=t)}var iN=class extends Error{constructor(){super("An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise.")}},sN=class extends Error{constructor(){super("SkipAnimationSignal")}},aN=e=>e instanceof lN,oN=1,lN=class extends Gx{constructor(){super(...arguments),this.id=oN++,this._priority=0}get priority(){return this._priority}set priority(e){this._priority!=e&&(this._priority=e,this._onPriorityChange(e))}get(){const e=vT(this);return e&&e.getValue()}to(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return ES.to(this,t)}interpolate(){oT("".concat(sT,'The "interpolate" function is deprecated in v9 (use "to" instead)'));for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return ES.to(this,t)}toJSON(){return this.get()}observerAdded(e){1==e&&this._attach()}observerRemoved(e){0==e&&this._detach()}_attach(){}_detach(){}_onChange(e){qx(this,{type:"change",parent:this,value:e,idle:arguments.length>1&&void 0!==arguments[1]&&arguments[1]})}_onPriorityChange(e){this.idle||ox.sort(this),qx(this,{type:"priority",parent:this,priority:e})}},cN=Symbol.for("SpringPhase"),uN=e=>(1&e[cN])>0,hN=e=>(2&e[cN])>0,dN=e=>(4&e[cN])>0,fN=(e,t)=>t?e[cN]|=3:e[cN]&=-3,pN=(e,t)=>t?e[cN]|=4:e[cN]&=-5,mN=class extends lN{constructor(e,t){if(super(),this.animation=new JT,this.defaultProps={},this._state={paused:!1,delayed:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._pendingCalls=new Set,this._lastCallId=0,this._lastToId=0,this._memoizedDuration=0,!qS.und(e)||!qS.und(t)){const n=qS.obj(e)?{...e}:{...t,from:e};qS.und(n.default)&&(n.default=!0),this.start(n)}}get idle(){return!(hN(this)||this._state.asyncTo)||dN(this)}get goal(){return Bx(this.animation.to)}get velocity(){const e=vT(this);return e instanceof _T?e.lastVelocity||0:e.getPayload().map((e=>e.lastVelocity||0))}get hasAnimated(){return uN(this)}get isAnimating(){return hN(this)}get isPaused(){return dN(this)}get isDelayed(){return this._state.delayed}advance(e){let t=!0,n=!1;const r=this.animation;let{toValues:i}=r;const{config:s}=r,a=wT(r.to);!a&&Vx(r.to)&&(i=QS(Bx(r.to))),r.values.forEach(((o,l)=>{if(o.done)return;const c=o.constructor==IT?1:a?a[l].lastPosition:i[l];let u=r.immediate,h=c;if(!u){if(h=o.lastPosition,s.tension<=0)return void(o.done=!0);let t=o.elapsedTime+=e;const n=r.fromValues[l],i=null!=o.v0?o.v0:o.v0=qS.arr(s.velocity)?s.velocity[l]:s.velocity;let a;const d=s.precision||(n==c?.005:Math.min(1,.001*Math.abs(c-n)));if(qS.und(s.duration))if(s.decay){const e=!0===s.decay?.998:s.decay,r=Math.exp(-(1-e)*t);h=n+i/(1-e)*(1-r),u=Math.abs(o.lastPosition-h)<=d,a=i*r}else{a=null==o.lastVelocity?i:o.lastVelocity;const t=s.restVelocity||d/10,r=s.clamp?0:s.bounce,l=!qS.und(r),f=n==c?o.v0>0:n<c;let p,m=!1;const g=1,v=Math.ceil(e/g);for(let e=0;e<v&&(p=Math.abs(a)>t,p||(u=Math.abs(c-h)<=d,!u));++e){l&&(m=h==c||h>c==f,m&&(a=-a*r,h=c));a+=(1e-6*-s.tension*(h-c)+.001*-s.friction*a)/s.mass*g,h+=a*g}}else{let r=1;s.duration>0&&(this._memoizedDuration!==s.duration&&(this._memoizedDuration=s.duration,o.durationProgress>0&&(o.elapsedTime=s.duration*o.durationProgress,t=o.elapsedTime+=e)),r=(s.progress||0)+t/this._memoizedDuration,r=r>1?1:r<0?0:r,o.durationProgress=r),h=n+s.easing(r)*(c-n),a=(h-o.lastPosition)/e,u=1==r}o.lastVelocity=a,Number.isNaN(h)&&(console.warn("Got NaN while animating:",this),u=!0)}a&&!a[l].done&&(u=!1),u?o.done=!0:t=!1,o.setValue(h,s.round)&&(n=!0)}));const o=vT(this),l=o.getValue();if(t){const e=Bx(r.to);l===e&&!n||s.decay?n&&s.decay&&this._onChange(l):(o.setValue(e),this._onChange(e)),this._stop()}else n&&this._onChange(l)}set(e){return SS.batchedUpdates((()=>{this._stop(),this._focus(e),this._set(e)})),this}pause(){this._update({pause:!0})}resume(){this._update({pause:!1})}finish(){if(hN(this)){const{to:e,config:t}=this.animation;SS.batchedUpdates((()=>{this._onStart(),t.decay||this._set(e,!1),this._stop()}))}return this}update(e){return(this.queue||(this.queue=[])).push(e),this}start(e,t){let n;return qS.und(e)?(n=this.queue||[],this.queue=[]):n=[qS.obj(e)?e:{...t,to:e}],Promise.all(n.map((e=>this._update(e)))).then((e=>ZT(this,e)))}stop(e){const{to:t}=this.animation;return this._focus(this.get()),rN(this._state,e&&this._lastCallId),SS.batchedUpdates((()=>this._stop(t,e))),this}reset(){this._update({reset:!0})}eventObserved(e){"change"==e.type?this._start():"priority"==e.type&&(this.priority=e.priority+1)}_prepareNode(e){const t=this.key||"";let{to:n,from:r}=e;n=qS.obj(n)?n[t]:n,(null==n||qT(n))&&(n=void 0),r=qS.obj(r)?r[t]:r,null==r&&(r=void 0);const i={to:n,from:r};return uN(this)||(e.reverse&&([n,r]=[r,n]),r=Bx(r),qS.und(r)?vT(this)||this._set(n):this._set(r)),i}_update(e,t){let{...n}=e;const{key:r,defaultProps:i}=this;n.default&&Object.assign(i,MT(n,((e,t)=>/^on/.test(t)?OT(e,r):e))),IN(this,n,"onProps"),EN(this,"onProps",n,this);const s=this._prepareNode(n);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");const a=this._state;return XT(++this._lastCallId,{key:r,props:n,defaultProps:i,state:a,actions:{pause:()=>{dN(this)||(pN(this,!0),XS(a.pauseQueue),EN(this,"onPause",eN(this,gN(this,this.animation.to)),this))},resume:()=>{dN(this)&&(pN(this,!1),hN(this)&&this._resume(),XS(a.resumeQueue),EN(this,"onResume",eN(this,gN(this,this.animation.to)),this))},start:this._merge.bind(this,s)}}).then((e=>{if(n.loop&&e.finished&&(!t||!e.noop)){const e=vN(n);if(e)return this._update(e,!0)}return e}))}_merge(e,t,n){if(t.cancel)return this.stop(!0),n(tN(this));const r=!qS.und(e.to),i=!qS.und(e.from);if(r||i){if(!(t.callId>this._lastToId))return n(tN(this));this._lastToId=t.callId}const{key:s,defaultProps:a,animation:o}=this,{to:l,from:c}=o;let{to:u=l,from:h=c}=e;!i||r||t.default&&!qS.und(u)||(u=h),t.reverse&&([u,h]=[h,u]);const d=!GS(h,c);d&&(o.from=h),h=Bx(h);const f=!GS(u,l);f&&this._focus(u);const p=qT(t.to),{config:m}=o,{decay:g,velocity:v}=m;(r||i)&&(m.velocity=0),t.config&&!p&&function(e,t,n){n&&(WT(n={...n},t),t={...n,...t}),WT(e,t),Object.assign(e,t);for(const a in HT)null==e[a]&&(e[a]=HT[a]);let{frequency:r,damping:i}=e;const{mass:s}=e;qS.und(r)||(r<.01&&(r=.01),i<0&&(i=0),e.tension=Math.pow(2*Math.PI/r,2)*s,e.friction=4*Math.PI*i*s/r)}(m,RT(t.config,s),t.config!==a.config?RT(a.config,s):void 0);let y=vT(this);if(!y||qS.und(u))return n(eN(this,!0));const w=qS.und(t.reset)?i&&!t.default:!qS.und(h)&&PT(t.reset,s),b=w?h:this.get(),_=BT(u),I=qS.num(_)||qS.arr(_)||cT(_),E=!p&&(!I||PT(a.immediate||t.immediate,s));if(f){const e=TT(u);if(e!==y.constructor){if(!E)throw Error("Cannot animate between ".concat(y.constructor.name," and ").concat(e.name,', as the "to" prop suggests'));y=this._set(_)}}const k=y.constructor;let S=Vx(u),x=!1;if(!S){const e=w||!uN(this)&&d;(f||e)&&(x=GS(BT(b),_),S=!x),(GS(o.immediate,E)||E)&&GS(m.decay,g)&&GS(m.velocity,v)||(S=!0)}if(x&&hN(this)&&(o.changed&&!w?S=!0:S||this._stop(l)),!p&&((S||Vx(l))&&(o.values=y.getPayload(),o.toValues=Vx(u)?null:k==IT?[1]:QS(_)),o.immediate!=E&&(o.immediate=E,E||w||this._set(l)),S)){const{onRest:e}=o;KS(_N,(e=>IN(this,t,e)));const r=eN(this,gN(this,l));XS(this._pendingCalls,r),this._pendingCalls.add(n),o.changed&&SS.batchedUpdates((()=>{var t;(o.changed=!w,null===e||void 0===e||e(r,this),w)?RT(a.onRest,r):null===(t=o.onStart)||void 0===t||t.call(o,r,this)}))}w&&this._set(b),p?n(nN(t.to,t,this._state,this)):S?this._start():hN(this)&&!f?this._pendingCalls.add(n):n($T(b))}_focus(e){const t=this.animation;e!==t.to&&(zx(this)&&this._detach(),t.to=e,zx(this)&&this._attach())}_attach(){let e=0;const{to:t}=this.animation;Vx(t)&&(Hx(t,this),aN(t)&&(e=t.priority+1)),this.priority=e}_detach(){const{to:e}=this.animation;Vx(e)&&Qx(e,this)}_set(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=Bx(e);if(!qS.und(n)){const e=vT(this);if(!e||!GS(n,e.getValue())){const r=TT(n);e&&e.constructor==r?e.setValue(n):yT(this,r.create(n)),e&&SS.batchedUpdates((()=>{this._onChange(n,t)}))}}return vT(this)}_onStart(){const e=this.animation;e.changed||(e.changed=!0,EN(this,"onStart",eN(this,gN(this,e.to)),this))}_onChange(e,t){t||(this._onStart(),RT(this.animation.onChange,e,this)),RT(this.defaultProps.onChange,e,this),super._onChange(e,t)}_start(){const e=this.animation;vT(this).reset(Bx(e.to)),e.immediate||(e.fromValues=e.values.map((e=>e.lastPosition))),hN(this)||(fN(this,!0),dN(this)||this._resume())}_resume(){ES.skipAnimation?this.finish():ox.start(this)}_stop(e,t){if(hN(this)){fN(this,!1);const n=this.animation;KS(n.values,(e=>{e.done=!0})),n.toValues&&(n.onChange=n.onPause=n.onResume=void 0),qx(this,{type:"idle",parent:this});const r=t?tN(this.get()):eN(this.get(),gN(this,null!==e&&void 0!==e?e:n.to));XS(this._pendingCalls,r),n.changed&&(n.changed=!1,EN(this,"onRest",r,this))}}};function gN(e,t){const n=BT(t);return GS(BT(e.get()),n)}function vN(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.loop,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.to;const r=RT(t);if(r){const i=!0!==r&&VT(r),s=(i||e).reverse,a=!i||i.reset;return yN({...e,loop:t,default:!1,pause:void 0,to:!s||qT(n)?n:void 0,from:a?e.from:void 0,reset:a,...i})}}function yN(e){const{to:t,from:n}=e=VT(e),r=new Set;return qS.obj(t)&&bN(t,r),qS.obj(n)&&bN(n,r),e.keys=r.size?Array.from(r):null,e}function wN(e){const t=yN(e);return qS.und(t.default)&&(t.default=MT(t)),t}function bN(e,t){HS(e,((e,n)=>null!=e&&t.add(n)))}var _N=["onStart","onRest","onChange","onPause","onResume"];function IN(e,t,n){e.animation[n]=t[n]!==jT(t,n)?OT(t[n],e.key):void 0}function EN(e,t){for(var n,r,i,s,a=arguments.length,o=new Array(a>2?a-2:0),l=2;l<a;l++)o[l-2]=arguments[l];null===(n=(r=e.animation)[t])||void 0===n||n.call(r,...o),null===(i=(s=e.defaultProps)[t])||void 0===i||i.call(s,...o)}var kN=["onStart","onChange","onRest"],SN=1,xN=class{constructor(e,t){this.id=SN++,this.springs={},this.queue=[],this._lastAsyncId=0,this._active=new Set,this._changed=new Set,this._started=!1,this._state={paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._events={onStart:new Map,onChange:new Map,onRest:new Map},this._onFrame=this._onFrame.bind(this),t&&(this._flush=t),e&&this.start({default:!0,...e})}get idle(){return!this._state.asyncTo&&Object.values(this.springs).every((e=>e.idle&&!e.isDelayed&&!e.isPaused))}get item(){return this._item}set item(e){this._item=e}get(){const e={};return this.each(((t,n)=>e[n]=t.get())),e}set(e){for(const t in e){const n=e[t];qS.und(n)||this.springs[t].set(n)}}update(e){return e&&this.queue.push(yN(e)),this}start(e){let{queue:t}=this;return e?t=QS(e).map(yN):this.queue=[],this._flush?this._flush(this,t):(PN(this,t),TN(this,t))}stop(e,t){if(e!==!!e&&(t=e),t){const n=this.springs;KS(QS(t),(t=>n[t].stop(!!e)))}else rN(this._state,this._lastAsyncId),this.each((t=>t.stop(!!e)));return this}pause(e){if(qS.und(e))this.start({pause:!0});else{const t=this.springs;KS(QS(e),(e=>t[e].pause()))}return this}resume(e){if(qS.und(e))this.start({pause:!1});else{const t=this.springs;KS(QS(e),(e=>t[e].resume()))}return this}each(e){HS(this.springs,e)}_onFrame(){const{onStart:e,onChange:t,onRest:n}=this._events,r=this._active.size>0,i=this._changed.size>0;(r&&!this._started||i&&!this._started)&&(this._started=!0,WS(e,(e=>{let[t,n]=e;n.value=this.get(),t(n,this,this._item)})));const s=!r&&this._started,a=i||s&&n.size?this.get():null;i&&t.size&&WS(t,(e=>{let[t,n]=e;n.value=a,t(n,this,this._item)})),s&&(this._started=!1,WS(n,(e=>{let[t,n]=e;n.value=a,t(n,this,this._item)})))}eventObserved(e){if("change"==e.type)this._changed.add(e.parent),e.idle||this._active.add(e.parent);else{if("idle"!=e.type)return;this._active.delete(e.parent)}SS.onFrame(this._onFrame)}};function TN(e,t){return Promise.all(t.map((t=>NN(e,t)))).then((t=>ZT(e,t)))}async function NN(e,t,n){const{keys:r,to:i,from:s,loop:a,onRest:o,onResolve:l}=t,c=qS.obj(t.default)&&t.default;a&&(t.loop=!1),!1===i&&(t.to=null),!1===s&&(t.from=null);const u=qS.arr(i)||qS.fun(i)?i:void 0;u?(t.to=void 0,t.onRest=void 0,c&&(c.onRest=void 0)):KS(kN,(n=>{const r=t[n];if(qS.fun(r)){const i=e._events[n];t[n]=e=>{let{finished:t,cancelled:n}=e;const s=i.get(r);s?(t||(s.finished=!1),n&&(s.cancelled=!0)):i.set(r,{value:null,finished:t||!1,cancelled:n||!1})},c&&(c[n]=t[n])}}));const h=e._state;t.pause===!h.paused?(h.paused=t.pause,XS(t.pause?h.pauseQueue:h.resumeQueue)):h.paused&&(t.pause=!0);const d=(r||Object.keys(e.springs)).map((n=>e.springs[n].start(t))),f=!0===t.cancel||!0===jT(t,"cancel");(u||f&&h.asyncId)&&d.push(XT(++e._lastAsyncId,{props:t,state:h,actions:{pause:zS,resume:zS,start(t,n){f?(rN(h,e._lastAsyncId),n(tN(e))):(t.onRest=o,n(nN(u,t,h,e)))}}})),h.paused&&await new Promise((e=>{h.resumeQueue.add(e)}));const p=ZT(e,await Promise.all(d));if(a&&p.finished&&(!n||!p.noop)){const n=vN(t,a,i);if(n)return PN(e,[n]),NN(e,n,!0)}return l&&SS.batchedUpdates((()=>l(p,e,e.item))),p}function AN(e,t){const n={...e.springs};return t&&KS(QS(t),(e=>{qS.und(e.keys)&&(e=yN(e)),qS.obj(e.to)||(e={...e,to:void 0}),RN(n,e,(e=>DN(e)))})),CN(e,n),n}function CN(e,t){HS(t,((t,n)=>{e.springs[n]||(e.springs[n]=t,Hx(t,e))}))}function DN(e,t){const n=new mN;return n.key=e,t&&Hx(n,t),n}function RN(e,t,n){t.keys&&KS(t.keys,(r=>{(e[r]||(e[r]=n(r)))._prepareNode(t)}))}function PN(e,t){KS(t,(t=>{RN(e.springs,t,(t=>DN(t,e)))}))}var ON=e=>{let{children:n,...r}=e;const i=(0,t.useContext)(jN),s=r.pause||!!i.pause,a=r.immediate||!!i.immediate;r=function(e,n){const[r]=(0,t.useState)((()=>({inputs:n,result:e()}))),i=(0,t.useRef)(),s=i.current;let a=s;a?Boolean(n&&a.inputs&&function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}(n,a.inputs))||(a={inputs:n,result:e()}):a=r;return(0,t.useEffect)((()=>{i.current=a,s==r&&(r.inputs=r.result=void 0)}),[a]),a.result}((()=>({pause:s,immediate:a})),[s,a]);const{Provider:o}=jN;return t.createElement(o,{value:r},n)},jN=function(e,n){return Object.assign(e,t.createContext(n)),e.Provider._context=e,e.Consumer._context=e,e}(ON,{});ON.Provider=jN.Provider,ON.Consumer=jN.Consumer;var LN=()=>{const e=[],t=function(t){lT("".concat(sT,'Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead), this will be removed in later 0.X.0 versions'));const r=[];return KS(e,((e,i)=>{if(qS.und(t))r.push(e.start());else{const s=n(t,e,i);s&&r.push(e.start(s))}})),r};t.current=e,t.add=function(t){e.includes(t)||e.push(t)},t.delete=function(t){const n=e.indexOf(t);~n&&e.splice(n,1)},t.pause=function(){return KS(e,(e=>e.pause(...arguments))),this},t.resume=function(){return KS(e,(e=>e.resume(...arguments))),this},t.set=function(t){KS(e,((e,n)=>{const r=qS.fun(t)?t(n,e):t;r&&e.set(r)}))},t.start=function(t){const n=[];return KS(e,((e,r)=>{if(qS.und(t))n.push(e.start());else{const i=this._getProps(t,e,r);i&&n.push(e.start(i))}})),n},t.stop=function(){return KS(e,(e=>e.stop(...arguments))),this},t.update=function(t){return KS(e,((e,n)=>e.update(this._getProps(t,e,n)))),this};const n=function(e,t,n){return qS.fun(e)?e(n,t):e};return t._getProps=n,t};function MN(e,n,r){const i=qS.fun(n)&&n;i&&!r&&(r=[]);const s=(0,t.useMemo)((()=>i||3==arguments.length?LN():void 0),[]),a=(0,t.useRef)(0),o=dT(),l=(0,t.useMemo)((()=>({ctrls:[],queue:[],flush(e,t){const n=AN(e,t);return a.current>0&&!l.queue.length&&!Object.keys(n).some((t=>!e.springs[t]))?TN(e,t):new Promise((r=>{CN(e,n),l.queue.push((()=>{r(TN(e,t))})),o()}))}})),[]),c=(0,t.useRef)([...l.ctrls]),u=[],h=mT(e)||0;function d(e,t){for(let r=e;r<t;r++){const e=c.current[r]||(c.current[r]=new xN(null,l.flush)),t=i?i(r,e):n[r];t&&(u[r]=wN(t))}}(0,t.useMemo)((()=>{KS(c.current.slice(e,h),(e=>{GT(e,s),e.stop(!0)})),c.current.length=e,d(h,e)}),[e]),(0,t.useMemo)((()=>{d(0,Math.min(h,e))}),r);const f=c.current.map(((e,t)=>AN(e,u[t]))),p=(0,t.useContext)(ON),m=mT(p),g=p!==m&&zT(p);uT((()=>{a.current++,l.ctrls=c.current;const{queue:e}=l;e.length&&(l.queue=[],KS(e,(e=>e()))),KS(c.current,((e,t)=>{null===s||void 0===s||s.add(e),g&&e.start({default:p});const n=u[t];n&&(KT(e,n.ref),e.ref?e.queue.push(n):e.start(n))}))})),fT((()=>()=>{KS(l.ctrls,(e=>e.stop(!0)))}));const v=f.map((e=>({...e})));return s?[v,s]:v}function FN(e,t){const n=qS.fun(e),[[r],i]=MN(1,n?e:[e],n?t||[]:t);return n||2==arguments.length?[r,i]:r}var UN=class extends lN{constructor(e,t){super(),this.source=e,this.idle=!0,this._active=new Set,this.calc=Cx(...t);const n=this._get(),r=TT(n);yT(this,r.create(n))}advance(e){const t=this._get();GS(t,this.get())||(vT(this).setValue(t),this._onChange(t,this.idle)),!this.idle&&BN(this._active)&&zN(this)}_get(){const e=qS.arr(this.source)?this.source.map(Bx):QS(Bx(this.source));return this.calc(...e)}_start(){this.idle&&!BN(this._active)&&(this.idle=!1,KS(wT(this),(e=>{e.done=!1})),ES.skipAnimation?(SS.batchedUpdates((()=>this.advance())),zN(this)):ox.start(this))}_attach(){let e=1;KS(QS(this.source),(t=>{Vx(t)&&Hx(t,this),aN(t)&&(t.idle||this._active.add(t),e=Math.max(e,t.priority+1))})),this.priority=e,this._start()}_detach(){KS(QS(this.source),(e=>{Vx(e)&&Qx(e,this)})),this._active.clear(),zN(this)}eventObserved(e){"change"==e.type?e.idle?this.advance():(this._active.add(e.parent),this._start()):"idle"==e.type?this._active.delete(e.parent):"priority"==e.type&&(this.priority=QS(this.source).reduce(((e,t)=>Math.max(e,(aN(t)?t.priority:0)+1)),0))}};function VN(e){return!1!==e.idle}function BN(e){return!e.size||Array.from(e).every(VN)}function zN(e){e.idle||(e.idle=!0,KS(wT(e),(e=>{e.done=!0})),qx(e,{type:"idle",parent:e}))}ES.assign({createStringInterpolator:iT,to:(e,t)=>new UN(e,t)});ox.advance;var qN=n(164),GN=/^--/;function KN(e,t){return null==t||"boolean"===typeof t||""===t?"":"number"!==typeof t||0===t||GN.test(e)||QN.hasOwnProperty(e)&&QN[e]?(""+t).trim():t+"px"}var HN={};var QN={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},WN=["Webkit","Ms","Moz","O"];QN=Object.keys(QN).reduce(((e,t)=>(WN.forEach((n=>e[((e,t)=>e+t.charAt(0).toUpperCase()+t.substring(1))(n,t)]=e[t])),e)),QN);var YN=/^(matrix|translate|scale|rotate|skew)/,JN=/^(translate)/,XN=/^(rotate|skew)/,ZN=(e,t)=>qS.num(e)&&0!==e?e+t:e,$N=(e,t)=>qS.arr(e)?e.every((e=>$N(e,t))):qS.num(e)?e===t:parseFloat(e)===t,eA=class extends kT{constructor(e){let{x:t,y:n,z:r,...i}=e;const s=[],a=[];(t||n||r)&&(s.push([t||0,n||0,r||0]),a.push((e=>["translate3d(".concat(e.map((e=>ZN(e,"px"))).join(","),")"),$N(e,0)]))),HS(i,((e,t)=>{if("transform"===t)s.push([e||""]),a.push((e=>[e,""===e]));else if(YN.test(t)){if(delete i[t],qS.und(e))return;const n=JN.test(t)?"px":XN.test(t)?"deg":"";s.push(QS(e)),a.push("rotate3d"===t?e=>{let[t,r,i,s]=e;return["rotate3d(".concat(t,",").concat(r,",").concat(i,",").concat(ZN(s,n),")"),$N(s,0)]}:e=>["".concat(t,"(").concat(e.map((e=>ZN(e,n))).join(","),")"),$N(e,t.startsWith("scale")?1:0)])}})),s.length&&(i.transform=new tA(s,a)),super(i)}},tA=class extends Gx{constructor(e,t){super(),this.inputs=e,this.transforms=t,this._value=null}get(){return this._value||(this._value=this._get())}_get(){let e="",t=!0;return KS(this.inputs,((n,r)=>{const i=Bx(n[0]),[s,a]=this.transforms[r](qS.arr(i)?i:n.map(Bx));e+=" "+s,t=t&&a})),t?"none":e}observerAdded(e){1==e&&KS(this.inputs,(e=>KS(e,(e=>Vx(e)&&Hx(e,this)))))}observerRemoved(e){0==e&&KS(this.inputs,(e=>KS(e,(e=>Vx(e)&&Qx(e,this)))))}eventObserved(e){"change"==e.type&&(this._value=null),qx(this,e)}};ES.assign({batchedUpdates:qN.unstable_batchedUpdates,createStringInterpolator:iT,colors:{transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199}});var nA=function(e){let{applyAnimatedValues:t=(()=>!1),createAnimatedStyle:n=(e=>new kT(e)),getComponentProps:r=(e=>e)}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const i={applyAnimatedValues:t,createAnimatedStyle:n,getComponentProps:r},s=e=>{const t=DT(e)||"Anonymous";return(e=qS.str(e)?s[e]||(s[e]=NT(e,i)):e[CT]||(e[CT]=NT(e,i))).displayName="Animated(".concat(t,")"),e};return HS(e,((t,n)=>{qS.arr(e)&&(n=DT(t)),s[n]=s(t)})),{animated:s}}(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],{applyAnimatedValues:function(e,t){if(!e.nodeType||!e.setAttribute)return!1;const n="filter"===e.nodeName||e.parentNode&&"filter"===e.parentNode.nodeName,{style:r,children:i,scrollTop:s,scrollLeft:a,viewBox:o,...l}=t,c=Object.values(l),u=Object.keys(l).map((t=>n||e.hasAttribute(t)?t:HN[t]||(HN[t]=t.replace(/([A-Z])/g,(e=>"-"+e.toLowerCase())))));void 0!==i&&(e.textContent=i);for(const h in r)if(r.hasOwnProperty(h)){const t=KN(h,r[h]);GN.test(h)?e.style.setProperty(h,t):e.style[h]=t}u.forEach(((t,n)=>{e.setAttribute(t,c[n])})),void 0!==s&&(e.scrollTop=s),void 0!==a&&(e.scrollLeft=a),void 0!==o&&e.setAttribute("viewBox",o)},createAnimatedStyle:e=>new eA(e),getComponentProps:e=>{let{scrollTop:t,scrollLeft:n,...r}=e;return r}}),rA=nA.animated;const iA=()=>(0,a.jsx)("section",{className:"page_404",children:(0,a.jsx)("div",{className:"error_container container",children:(0,a.jsx)("div",{className:"row",children:(0,a.jsx)("div",{className:"",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"four_zero_four_bg",children:(0,a.jsx)("h1",{className:"text-center",children:"404"})}),(0,a.jsxs)("div",{className:"contant_box_404",children:[(0,a.jsx)("h3",{className:"h2",children:"Looks like you're lost"}),(0,a.jsx)("p",{children:"The page you are looking for is not available!"})]})]})})})})}),sA={container:{textAlign:"center",marginTop:"20%"},heading:{fontSize:"2rem",fontWeight:"bold",color:"#333"},text:{fontSize:"1.2rem",color:"#666"}},aA=e=>{let{code:t}=e;const n=FN({opacity:1,from:{opacity:0}});return(0,a.jsxs)(a.Fragment,{children:["offline"===t&&(0,a.jsx)(rA.div,{style:n,children:(0,a.jsxs)("div",{style:sA.container,children:[(0,a.jsx)("h1",{style:sA.heading,children:"Website Under Maintenance"}),(0,a.jsx)("p",{style:sA.text,children:"We are currently performing maintenance on the website. Please check back later."}),(0,a.jsx)("p",{children:"Thank you for your patience"}),(0,a.jsxs)("p",{children:["Meanwhile you can ",(0,a.jsx)("a",{href:"https://www.youtube.com/thedivinecaster",target:"_blank",rel:"noreferrer noopener",style:{color:"red"},children:"watch"})," My trending videos"]})]})}),"404"===t&&(0,a.jsx)(iA,{})]})},oA=Vs(Xe(hS)),lA=e=>{let{onAdminLoginSuccess:n}=e;const[r,i]=(0,t.useState)(""),[s,o]=(0,t.useState)("");return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("section",{id:"loginPage",children:[(0,a.jsx)("h1",{className:"loginPageTitle",children:"Admin Login"}),(0,a.jsxs)("div",{className:"login-form",children:[(0,a.jsx)("div",{className:"login-description",children:"Please enter Admin Name and Password"}),(0,a.jsxs)("div",{className:"login-inputs",children:[(0,a.jsx)("input",{type:"text",className:"username",placeholder:"Username",name:"username",id:"username",value:r,onChange:e=>i(e.target.value)}),(0,a.jsx)("input",{type:"password",className:"password",placeholder:"Password",name:"password",id:"password",value:s,onChange:e=>o(e.target.value)})]}),(0,a.jsxs)("div",{className:"login-buttons",children:[(0,a.jsx)("button",{onClick:()=>{i(""),o("")},className:"btn btn-danger",children:"Reset"}),(0,a.jsx)("button",{onClick:async()=>{try{const e=r+"@thedivinecaster.com";if("admin"===r){(await zr(oA,e,s)).user&&n()}}catch(e){alert("You are not authorized to update data"),window.location.reload(),console.error("Authentication Error:",e)}},className:"btn btn-success",children:"Login"})]})]})]}),(0,a.jsx)(E,{})]})};bt.initializeApp(hS);const cA=()=>{const[e,n]=(0,t.useState)(JSON.parse(sessionStorage.getItem("controllerData"))),[r,i]=(0,t.useState)(JSON.parse(sessionStorage.getItem("socialMediaData"))),[s,o]=(0,t.useState)(""),[l,c]=(0,t.useState)(""),[u,h]=(0,t.useState)(""),[d,f]=(0,t.useState)(""),[p,m]=(0,t.useState)(""),[g,v]=(0,t.useState)(null),[y,w]=(0,t.useState)(""),b=async function(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];(async(e,t,n)=>{const r=bt.firestore().collection(e).doc(t);try{await r.update(n)}catch(i){alert("Error updating ".concat(t," data: ").concat(i))}})("data",e.toLowerCase(),t),i({...r,[e]:t}),n&&alert("".concat(e," data updated successfully!"))},_=function(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];i({...r,[e]:t}),n&&alert("".concat(e," data reset successfully!"))};return(0,a.jsxs)("div",{className:"admin-panel-container",children:[(0,a.jsx)("h1",{className:"admin-panel-title",children:"Admin Panel"}),(0,a.jsx)("div",{className:"admin-controller-panel",children:(0,a.jsxs)("div",{className:"admin-controller-row",children:[(0,a.jsx)("div",{className:"admin-controller-name",children:"Controller"}),(0,a.jsxs)("div",{className:"admin-controller-fields",children:[(0,a.jsxs)("div",{className:"field-item",children:[(0,a.jsx)("h6",{className:"field-name",children:"Server"}),(0,a.jsxs)("select",{className:"controller-value",value:e.run,onChange:t=>n({...e,run:t.target.value}),children:[(0,a.jsx)("option",{value:"404",children:"404"}),(0,a.jsx)("option",{value:"offline",children:"Offline"}),(0,a.jsx)("option",{value:"online",children:"Online"})]})]}),(0,a.jsxs)("div",{className:"field-item",children:[(0,a.jsx)("h6",{className:"field-name",children:"Duration"}),(0,a.jsx)("input",{type:"number",className:"field-value",value:e.duration,onChange:t=>n({...e,duration:t.target.value})})]})]}),(0,a.jsxs)("div",{className:"admin-controller-update-reset-button",children:[(0,a.jsx)("button",{className:"btn btn-success admin-panel-btn",onClick:()=>b("Controller",e),children:"Update"}),(0,a.jsx)("button",{className:"btn btn-danger admin-panel-btn",onClick:()=>n(JSON.parse(sessionStorage.getItem("controllerData"))),children:"Reset"})]})]})}),(0,a.jsxs)("div",{className:"admin-data-panel",children:[Object.entries(r).map((e=>{let[t,n]=e;return(0,a.jsxs)("div",{className:"social-media-row",children:[(0,a.jsx)("div",{className:"social-media-name",children:t}),(0,a.jsx)("div",{className:"social-media-fields",children:Object.entries(n).map((e=>{let[n,s]=e;return(0,a.jsxs)("div",{className:"field-item",children:[(0,a.jsx)("h6",{className:"field-name",children:n}),(0,a.jsx)("input",{type:"text",className:"field-value",value:s,onChange:e=>((e,t,n)=>{const s={...r[e],[t]:n};i({...r,[e]:s})})(t,n,e.target.value)})]},n)}))}),(0,a.jsxs)("div",{className:"social-media-update-reset-button",children:[(0,a.jsx)("button",{className:"btn btn-success admin-panel-btn",onClick:()=>b(t,n),children:"Update"}),(0,a.jsx)("button",{className:"btn btn-danger admin-panel-btn",onClick:()=>_(t,r[t]),children:"Reset"})]})]},t)})),(0,a.jsxs)("div",{className:"admin-panel-update-reset-all-buttons",children:[(0,a.jsx)("button",{className:"btn btn-success admin-panel-btn",onClick:async()=>{for(const[e,t]of Object.entries(r))await b(e,t,!1);alert("All data updated successfully!")},children:"Update All"}),(0,a.jsx)("button",{className:"btn btn-danger admin-panel-btn",onClick:()=>{for(const[e,t]of Object.entries(r))_(e,t,!1);alert("All data reset successfully!")},children:"Reset All"})]})]}),(0,a.jsx)("div",{className:"admin-controller-panel",children:(0,a.jsxs)("div",{className:"admin-controller-row",children:[(0,a.jsx)("div",{className:"admin-controller-name",children:"Video Link"}),(0,a.jsx)("div",{className:"admin-controller-fields",children:(0,a.jsx)("input",{type:"text",placeholder:"Paste video link",value:s,width:"30rem",onChange:e=>o(e.target.value)})}),(0,a.jsxs)("div",{className:"admin-controller-update-reset-button",children:[(0,a.jsx)("button",{className:"btn btn-success admin-panel-btn",onClick:()=>(e=>{if(e){var t=parseInt(sessionStorage.getItem("videoCount"));t++,console.log("Adding ".concat(e," to ").concat(t," field"));try{const n=bt.firestore(),r=n.collection("videolink").doc("link");n.collection("videolink").doc("count").set({count:t}),r.update({[t]:e}),sessionStorage.setItem("videoCount",t),console.log("Video link added successfully!")}catch(n){console.error("Error adding video link:",n)}o("")}else alert("Please enter a valid video link!")})(s),children:"Add"}),(0,a.jsx)("button",{className:"btn btn-danger admin-panel-btn",onClick:()=>{o("")},children:"Clear"})]})]})}),(0,a.jsx)("div",{className:"admin-controller-panel",children:(0,a.jsxs)("div",{className:"admin-controller-row",children:[(0,a.jsx)("div",{className:"admin-controller-name",children:"Add Product"}),(0,a.jsx)("div",{className:"admin-controller-fields",children:(0,a.jsxs)("div",{className:"add-product-form",children:[(0,a.jsxs)("div",{className:"add-product-and-image",children:[(0,a.jsx)("span",{children:(0,a.jsx)("input",{type:"file",accept:"image/*",onChange:e=>{if(e.target.files[0]){v(e.target.files[0]);const t=new FileReader;t.onload=()=>{2===t.readyState&&w(t.result)},t.readAsDataURL(e.target.files[0])}}})}),(0,a.jsx)("span",{className:"image-preview",children:y&&(0,a.jsx)("img",{src:y,alt:"preview",style:{maxWidth:"4.5rem"}})})]}),(0,a.jsx)("div",{className:"add-product-details-section",children:(0,a.jsxs)("div",{className:"add-product-details",children:[(0,a.jsx)("input",{type:"text",placeholder:"Name",value:l,onChange:e=>c(e.target.value)}),(0,a.jsx)("input",{type:"text",placeholder:"Old Price",value:u,onChange:e=>h(e.target.value)}),(0,a.jsx)("input",{type:"text",placeholder:"New Price",value:d,onChange:e=>f(e.target.value)}),(0,a.jsx)("input",{type:"text",placeholder:"Purchase Link",value:p,onChange:e=>m(e.target.value)})]})})]})}),(0,a.jsxs)("div",{className:"admin-controller-update-reset-button",children:[(0,a.jsx)("button",{className:"btn btn-success admin-panel-btn",onClick:async()=>{if(l&&u&&d&&p&&g)try{const e=g.name,t=bt.firestore();await t.collection("products").doc(e).set({name:l,oldPrice:u,newPrice:d,myLink:p,img:e}),c(""),h(""),f(""),m(""),v(null),w(""),alert("Product added successfully!")}catch(e){console.error("Error adding product:",e),alert("An error occurred while adding the product. Please try again.")}else alert("Please fill in all fields and select an image.")},children:"Add"}),(0,a.jsx)("button",{className:"btn btn-danger admin-panel-btn",onClick:()=>{c(""),h(""),f(""),m(""),v(null),w(""),alert("Form cleared successfully!")},children:"Clear"})]})]})})]})};bt.initializeApp(hS);const uA=function(){const[e,n]=(0,t.useState)(!1),[r,i]=(0,t.useState)(!0);(0,t.useEffect)((()=>{(async()=>{const e=bt.firestore().collection("controller").doc("status"),t=await e.get();return t.exists?t.data():(console.log("No such document!"),null)})().then((e=>{sessionStorage.setItem("controllerData",JSON.stringify(e)),(e&&"offline"===e.run||e&&"404"===e.run)&&n(!0)})).catch((e=>{console.error("Error fetching controller data:",e)})).finally((()=>{i(!1)})),(async()=>{const e=bt.firestore().collection("data"),t=await e.get(),n={};return t.forEach((e=>{n[e.id]=e.data()})),n})().then((e=>{sessionStorage.setItem("socialMediaData",JSON.stringify(e))})).catch((e=>{console.error("Error fetching social media data:",e)})).finally((()=>{i(!1)})),(async()=>{try{const e=bt.firestore(),t=e.collection("videolink").doc("link"),n=e.collection("videolink").doc("count"),r=await t.get(),i=(await n.get()).data();if(console.log(i.count),sessionStorage.setItem("videoCount",i.count),r.exists){const e=r.data(),t=Object.keys(e).filter((e=>!isNaN(parseInt(e)))).sort(((e,t)=>parseInt(e)-parseInt(t))).map((t=>e[t]));return t}return console.log("No such document!"),[]}catch(e){return console.error("Error fetching video links:",e),[]}})().then((e=>{sessionStorage.setItem("videoLinks",JSON.stringify(e))})).catch((e=>{console.error("Error fetching video links:",e)})).finally((()=>{i(!1)}))}),[]);const[s,l]=(0,t.useState)("home"),u=()=>{const[e,n]=(0,t.useState)(!1);return(0,t.useEffect)((()=>{const e=setTimeout((()=>{n(!0)}),10);return()=>clearTimeout(e)}),[]),e?h():null},h=()=>{switch(s){case"home":return(0,a.jsx)(c,{});case"about":return(0,a.jsx)(k,{});case"trending":return(0,a.jsx)(x,{});case"tdcstores":return(0,a.jsx)(tS,{});case"donate":return(0,a.jsx)(rS,{});case"login":return(0,a.jsx)(fS,{onLoginSuccess:()=>l("private-data")});case"private-data":return(0,a.jsx)(_S,{});case"contact":return(0,a.jsx)(uS,{});case"admin-panel-login":return(0,a.jsx)(lA,{onAdminLoginSuccess:()=>l("admin-panel")});case"admin-panel":return(0,a.jsx)(cA,{});default:return(0,a.jsx)(iA,{})}};return(0,a.jsx)("div",{children:e?(0,a.jsx)(aA,{}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(o,{setCurrentPage:l}),(()=>{switch(s){case"home":case"about":case"trending":case"tdcstores":case"donate":case"login":case"private-data":case"contact":case"admin-panel-login":case"admin-panel":return r?(0,a.jsxs)("div",{className:"loading-animation",children:[(0,a.jsx)("div",{className:"spinner"}),(0,a.jsx)("p",{children:"Rendering...."})]}):(0,a.jsx)(u,{});default:return(0,a.jsx)(iA,{})}})()]})})};r.createRoot(document.getElementById("root")).render((0,a.jsx)(t.StrictMode,{children:(0,a.jsx)(uA,{})}))})()})();
//# sourceMappingURL=main.6b19d5d2.js.map